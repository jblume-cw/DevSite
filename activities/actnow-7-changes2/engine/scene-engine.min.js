/*
 * Scene Engine, CHW
 * @version 1.1.0
 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.SceneEngine=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){!function(b,d,e){"undefined"!=typeof c?c.exports=e():"undefined"!=typeof a&&"object"==typeof a.amd?a(e):d[b]=e()}("Base",this,function(){var a=function(){};return a.extend=function(b,c){var d=a.prototype.extend;a._prototyping=!0;var e=new this;d.call(e,b),e.base=function(){},delete a._prototyping;var f=e.constructor,g=e.constructor=function(){if(!a._prototyping)if(this._constructing||this.constructor===g)this._constructing=!0,f.apply(this,arguments),delete this._constructing;else if(null!==arguments[0])return(arguments[0].extend||d).call(arguments[0],e)};return g.ancestor=this,g.extend=this.extend,g.forEach=this.forEach,g.implement=this.implement,g.prototype=e,g.toString=this.toString,g.valueOf=function(a){return"object"===a?g:f.valueOf()},d.call(g,c),"function"==typeof g.init&&g.init(),g},a.prototype={extend:function(b,c){if(arguments.length>1){var d=this[b];if(d&&"function"==typeof c&&(!d.valueOf||d.valueOf()!==c.valueOf())&&/\bbase\b/.test(c)){var e=c.valueOf();c=function(){var b=this.base||a.prototype.base;this.base=d;var c=e.apply(this,arguments);return this.base=b,c},c.valueOf=function(a){return"object"===a?c:e},c.toString=a.toString}this[b]=c}else if(b){var f=a.prototype.extend;a._prototyping||"function"==typeof this||(f=this.extend||f);for(var g={toSource:null},h=["constructor","toString","valueOf"],i=a._prototyping?0:1;i<h.length;i++){var j=h[i];b[j]!==g[j]&&f.call(this,j,b[j])}for(var k in b)g[k]||f.call(this,k,b[k])}return this}},a=a.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(a,b,c){for(var d in a)void 0===this.prototype[d]&&b.call(c,a[d],d,a)},implement:function(){for(var a=0;a<arguments.length;a++)"function"==typeof arguments[a]?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}})})},{}],2:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],3:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],4:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(d<0)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return a<10?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:9,inherits:2}],5:[function(b,c,d){!function(a,b){"object"==typeof c&&"object"==typeof c.exports?c.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(b,c){function d(a){var b="length"in a&&a.length,c=aa.type(a);return"function"!==c&&!aa.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function e(a,b,c){if(aa.isFunction(b))return aa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return aa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ia.test(b))return aa.filter(b,a,c);b=aa.filter(b,a)}return aa.grep(a,function(a){return V.call(b,a)>=0!==c})}function f(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function g(a){var b=pa[a]={};return aa.each(a.match(oa)||[],function(a,c){b[c]=!0}),b}function h(){$.removeEventListener("DOMContentLoaded",h,!1),b.removeEventListener("load",h,!1),aa.ready()}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=aa.expando+i.uid++}function j(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(va,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:ua.test(c)?aa.parseJSON(c):c)}catch(e){}ta.set(a,b,c)}else c=void 0;return c}function k(){return!0}function l(){return!1}function m(){try{return $.activeElement}catch(a){}}function n(a,b){return aa.nodeName(a,"table")&&aa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function o(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function p(a){var b=La.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function q(a,b){for(var c=0,d=a.length;c<d;c++)sa.set(a[c],"globalEval",!b||sa.get(b[c],"globalEval"))}function r(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(sa.hasData(a)&&(f=sa.access(a),g=sa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)aa.event.add(b,e,j[e][c])}ta.hasData(a)&&(h=ta.access(a),i=aa.extend({},h),ta.set(b,i))}}function s(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&aa.nodeName(a,b)?aa.merge([a],c):c}function t(a,b){var c=b.nodeName.toLowerCase();"input"===c&&za.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function u(a,c){var d,e=aa(c.createElement(a)).appendTo(c.body),f=b.getDefaultComputedStyle&&(d=b.getDefaultComputedStyle(e[0]))?d.display:aa.css(e[0],"display");return e.detach(),f}function v(a){var b=$,c=Pa[a];return c||(c=u(a,b),"none"!==c&&c||(Oa=(Oa||aa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Oa[0].contentDocument,b.write(),b.close(),c=u(a,b),Oa.detach()),Pa[a]=c),c}function w(a,b,c){var d,e,f,g,h=a.style;return c=c||Sa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||aa.contains(a.ownerDocument,a)||(g=aa.style(a,b)),Ra.test(g)&&Qa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function x(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function y(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ya.length;e--;)if(b=Ya[e]+c,b in a)return b;return d}function z(a,b,c){var d=Ua.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=aa.css(a,c+xa[f],!0,e)),d?("content"===c&&(g-=aa.css(a,"padding"+xa[f],!0,e)),"margin"!==c&&(g-=aa.css(a,"border"+xa[f]+"Width",!0,e))):(g+=aa.css(a,"padding"+xa[f],!0,e),"padding"!==c&&(g+=aa.css(a,"border"+xa[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Sa(a),g="border-box"===aa.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=w(a,b,f),(e<0||null==e)&&(e=a.style[b]),Ra.test(e))return e;d=g&&(Z.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=sa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&ya(d)&&(f[g]=sa.access(d,"olddisplay",v(d.nodeName)))):(e=ya(d),"none"===c&&e||sa.set(d,"olddisplay",e?c:aa.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c,d,e){return new D.prototype.init(a,b,c,d,e)}function E(){return setTimeout(function(){Za=void 0}),Za=aa.now()}function F(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=xa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function G(a,b,c){for(var d,e=(db[b]||[]).concat(db["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function H(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&ya(a),p=sa.get(a,"fxshow");c.queue||(h=aa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,aa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=aa.css(a,"display"),k="none"===j?sa.get(a,"olddisplay")||v(a.nodeName):j,"inline"===k&&"none"===aa.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],_a.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||aa.style(a,d)}else j=void 0;if(aa.isEmptyObject(m))"inline"===("none"===j?v(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=sa.access(a,"fxshow",{}),f&&(p.hidden=!o),o?aa(a).show():l.done(function(){aa(a).hide()}),l.done(function(){var b;sa.remove(a,"fxshow");for(b in m)aa.style(a,b,m[b])});for(d in m)g=G(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function I(a,b){var c,d,e,f,g;for(c in a)if(d=aa.camelCase(c),e=b[d],f=a[c],aa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=aa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f=0,g=cb.length,h=aa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Za||E(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:aa.extend({},b),opts:aa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Za||E(),duration:c.duration,tweens:[],createTween:function(b,c){var d=aa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(I(k,j.opts.specialEasing);f<g;f++)if(d=cb[f].call(j,a,k,j.opts))return d;return aa.map(k,G,j),aa.isFunction(j.opts.start)&&j.opts.start.call(a,j),aa.fx.timer(aa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function K(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(oa)||[];if(aa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function L(a,b,c,d){function e(h){var i;return f[h]=!0,aa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===ub;return e(b.dataTypes[0])||!f["*"]&&e("*")}function M(a,b){var c,d,e=aa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&aa.extend(!0,a,d),a}function N(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function O(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function P(a,b,c,d){var e;if(aa.isArray(b))aa.each(b,function(b,e){c||zb.test(a)?d(a,e):P(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==aa.type(b))d(a,b);else for(e in b)P(a+"["+e+"]",b[e],c,d)}function Q(a){return aa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var R=[],S=R.slice,T=R.concat,U=R.push,V=R.indexOf,W={},X=W.toString,Y=W.hasOwnProperty,Z={},$=b.document,_="2.1.4",aa=function(a,b){return new aa.fn.init(a,b)},ba=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ca=/^-ms-/,da=/-([\da-z])/gi,ea=function(a,b){return b.toUpperCase()};aa.fn=aa.prototype={jquery:_,constructor:aa,selector:"",length:0,toArray:function(){return S.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:S.call(this)},pushStack:function(a){var b=aa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return aa.each(this,a,b)},map:function(a){return this.pushStack(aa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(S.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:R.sort,splice:R.splice},aa.extend=aa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||aa.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(aa.isPlainObject(d)||(e=aa.isArray(d)))?(e?(e=!1,f=c&&aa.isArray(c)?c:[]):f=c&&aa.isPlainObject(c)?c:{},g[b]=aa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},aa.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===aa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!aa.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"===aa.type(a)&&!a.nodeType&&!aa.isWindow(a)&&!(a.constructor&&!Y.call(a.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?W[X.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=aa.trim(a),a&&(1===a.indexOf("use strict")?(b=$.createElement("script"),b.text=a,$.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ca,"ms-").replace(da,ea)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,f=0,g=a.length,h=d(a);if(c){if(h)for(;f<g&&(e=b.apply(a[f],c),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],c),e===!1)break}else if(h)for(;f<g&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ba,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?aa.merge(c,"string"==typeof a?[a]:a):U.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:V.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var e,f=0,g=a.length,h=d(a),i=[];if(h)for(;f<g;f++)e=b(a[f],f,c),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&i.push(e);return T.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),aa.isFunction(a))return d=S.call(arguments,2),e=function(){return a.apply(b||this,d.concat(S.call(arguments)))},e.guid=a.guid=a.guid||aa.guid++,e},now:Date.now,support:Z}),aa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){W["[object "+b+"]"]=b.toLowerCase()});var fa=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){if(I)return b.getElementsByClassName(a)},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)));
}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),v.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ja.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(b);aa.find=fa,aa.expr=fa.selectors,aa.expr[":"]=aa.expr.pseudos,aa.unique=fa.uniqueSort,aa.text=fa.getText,aa.isXMLDoc=fa.isXML,aa.contains=fa.contains;var ga=aa.expr.match.needsContext,ha=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ia=/^.[^:#\[\.,]*$/;aa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?aa.find.matchesSelector(d,a)?[d]:[]:aa.find.matches(a,aa.grep(b,function(a){return 1===a.nodeType}))},aa.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(aa(a).filter(function(){for(b=0;b<c;b++)if(aa.contains(e[b],this))return!0}));for(b=0;b<c;b++)aa.find(a,e[b],d);return d=this.pushStack(c>1?aa.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&ga.test(a)?aa(a):a||[],!1).length}});var ja,ka=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,la=aa.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ka.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ja).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof aa?b[0]:b,aa.merge(this,aa.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:$,!0)),ha.test(c[1])&&aa.isPlainObject(b))for(c in b)aa.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=$.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=$,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):aa.isFunction(a)?"undefined"!=typeof ja.ready?ja.ready(a):a(aa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),aa.makeArray(a,this))};la.prototype=aa.fn,ja=aa($);var ma=/^(?:parents|prev(?:Until|All))/,na={children:!0,contents:!0,next:!0,prev:!0};aa.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&aa(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),aa.fn.extend({has:function(a){var b=aa(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(aa.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ga.test(a)||"string"!=typeof a?aa(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&aa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?aa.unique(f):f)},index:function(a){return a?"string"==typeof a?V.call(aa(a),this[0]):V.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(aa.unique(aa.merge(this.get(),aa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),aa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return aa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return aa.dir(a,"parentNode",c)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},nextAll:function(a){return aa.dir(a,"nextSibling")},prevAll:function(a){return aa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return aa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return aa.dir(a,"previousSibling",c)},siblings:function(a){return aa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return aa.sibling(a.firstChild)},contents:function(a){return a.contentDocument||aa.merge([],a.childNodes)}},function(a,b){aa.fn[a]=function(c,d){var e=aa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=aa.filter(d,e)),this.length>1&&(na[a]||aa.unique(e),ma.test(a)&&e.reverse()),this.pushStack(e)}});var oa=/\S+/g,pa={};aa.Callbacks=function(a){a="string"==typeof a?pa[a]||g(a):aa.extend({},a);var b,c,d,e,f,h,i=[],j=!a.once&&[],k=function(g){for(b=a.memory&&g,c=!0,h=e||0,e=0,f=i.length,d=!0;i&&h<f;h++)if(i[h].apply(g[0],g[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function g(b){aa.each(b,function(b,c){var d=aa.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&aa.each(arguments,function(a,b){for(var c;(c=aa.inArray(b,i,c))>-1;)i.splice(c,1),d&&(c<=f&&f--,c<=h&&h--)}),this},has:function(a){return a?aa.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],f=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},aa.extend({Deferred:function(a){var b=[["resolve","done",aa.Callbacks("once memory"),"resolved"],["reject","fail",aa.Callbacks("once memory"),"rejected"],["notify","progress",aa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return aa.Deferred(function(c){aa.each(b,function(b,f){var g=aa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&aa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?aa.extend(a,d):d}},e={};return d.pipe=d.then,aa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=S.call(arguments),g=f.length,h=1!==g||a&&aa.isFunction(a.promise)?g:0,i=1===h?a:aa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?S.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&aa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var qa;aa.fn.ready=function(a){return aa.ready.promise().done(a),this},aa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?aa.readyWait++:aa.ready(!0)},ready:function(a){(a===!0?--aa.readyWait:aa.isReady)||(aa.isReady=!0,a!==!0&&--aa.readyWait>0||(qa.resolveWith($,[aa]),aa.fn.triggerHandler&&(aa($).triggerHandler("ready"),aa($).off("ready"))))}}),aa.ready.promise=function(a){return qa||(qa=aa.Deferred(),"complete"===$.readyState?setTimeout(aa.ready):($.addEventListener("DOMContentLoaded",h,!1),b.addEventListener("load",h,!1))),qa.promise(a)},aa.ready.promise();var ra=aa.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===aa.type(c)){e=!0;for(h in c)aa.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,aa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(aa(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};aa.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},i.uid=1,i.accepts=aa.acceptData,i.prototype={key:function(a){if(!i.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=i.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,aa.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(aa.isEmptyObject(f))aa.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,aa.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{aa.isArray(b)?d=b.concat(b.map(aa.camelCase)):(e=aa.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(oa)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!aa.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var sa=new i,ta=new i,ua=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,va=/([A-Z])/g;aa.extend({hasData:function(a){return ta.hasData(a)||sa.hasData(a)},data:function(a,b,c){return ta.access(a,b,c)},removeData:function(a,b){ta.remove(a,b)},_data:function(a,b,c){return sa.access(a,b,c)},_removeData:function(a,b){sa.remove(a,b)}}),aa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ta.get(f),1===f.nodeType&&!sa.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=aa.camelCase(d.slice(5)),j(f,d,e[d])));sa.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ta.set(this,a)}):ra(this,function(b){var c,d=aa.camelCase(a);if(f&&void 0===b){if(c=ta.get(f,a),void 0!==c)return c;if(c=ta.get(f,d),void 0!==c)return c;if(c=j(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=ta.get(this,d);ta.set(this,d,b),a.indexOf("-")!==-1&&void 0!==c&&ta.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ta.remove(this,a)})}}),aa.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=sa.get(a,b),c&&(!d||aa.isArray(c)?d=sa.access(a,b,aa.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=aa.queue(a,b),d=c.length,e=c.shift(),f=aa._queueHooks(a,b),g=function(){aa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return sa.get(a,c)||sa.access(a,c,{empty:aa.Callbacks("once memory").add(function(){sa.remove(a,[b+"queue",c])})})}}),aa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?aa.queue(this[0],a):void 0===b?this:this.each(function(){var c=aa.queue(this,a,b);aa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&aa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){aa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=aa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=sa.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var wa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xa=["Top","Right","Bottom","Left"],ya=function(a,b){return a=b||a,"none"===aa.css(a,"display")||!aa.contains(a.ownerDocument,a)},za=/^(?:checkbox|radio)$/i;!function(){var a=$.createDocumentFragment(),b=a.appendChild($.createElement("div")),c=$.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Z.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Aa="undefined";Z.focusinBubbles="onfocusin"in b;var Ba=/^key/,Ca=/^(?:mouse|pointer|contextmenu)|click/,Da=/^(?:focusinfocus|focusoutblur)$/,Ea=/^([^.]*)(?:\.(.+)|)$/;aa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=sa.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=aa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof aa!==Aa&&aa.event.triggered!==b.type?aa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(oa)||[""],j=b.length;j--;)h=Ea.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=aa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=aa.event.special[n]||{},k=aa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&aa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),aa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=sa.hasData(a)&&sa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(oa)||[""],j=b.length;j--;)if(h=Ea.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=aa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||aa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)aa.event.remove(a,n+b[j],c,d,!0);aa.isEmptyObject(i)&&(delete q.handle,sa.remove(a,"events"))}},trigger:function(a,c,d,e){var f,g,h,i,j,k,l,m=[d||$],n=Y.call(a,"type")?a.type:a,o=Y.call(a,"namespace")?a.namespace.split("."):[];if(g=h=d=d||$,3!==d.nodeType&&8!==d.nodeType&&!Da.test(n+aa.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,a=a[aa.expando]?a:new aa.Event(n,"object"==typeof a&&a),a.isTrigger=e?2:3,a.namespace=o.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=d),c=null==c?[a]:aa.makeArray(c,[a]),l=aa.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!aa.isWindow(d)){for(i=l.delegateType||n,Da.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||$)&&m.push(h.defaultView||h.parentWindow||b)}for(f=0;(g=m[f++])&&!a.isPropagationStopped();)a.type=f>1?i:l.bindType||n,k=(sa.get(g,"events")||{})[a.type]&&sa.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&aa.acceptData(g)&&(a.result=k.apply(g,c),a.result===!1&&a.preventDefault());return a.type=n,e||a.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!aa.acceptData(d)||j&&aa.isFunction(d[n])&&!aa.isWindow(d)&&(h=d[j],h&&(d[j]=null),aa.event.triggered=n,d[n](),aa.event.triggered=void 0,h&&(d[j]=h)),a.result}},dispatch:function(a){a=aa.event.fix(a);var b,c,d,e,f,g=[],h=S.call(arguments),i=(sa.get(this,"events")||{})[a.type]||[],j=aa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=aa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(f.namespace)||(a.handleObj=f,a.data=f.data,d=((aa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?aa(e,this).index(i)>=0:aa.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||$,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[aa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ca.test(e)?this.mouseHooks:Ba.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new aa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=$),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&aa.nodeName(this,"input"))return this.click(),!1},_default:function(a){return aa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=aa.extend(new aa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?aa.event.trigger(e,null,b):aa.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},aa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},aa.Event=function(a,b){return this instanceof aa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?k:l):this.type=a,b&&aa.extend(this,b),this.timeStamp=a&&a.timeStamp||aa.now(),void(this[aa.expando]=!0)):new aa.Event(a,b)},aa.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=k,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=k,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=k,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},aa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){aa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||aa.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Z.focusinBubbles||aa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){aa.event.simulate(b,a.target,aa.event.fix(a),!0)};aa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=sa.access(d,b);e||d.addEventListener(a,c,!0),sa.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=sa.access(d,b)-1;e?sa.access(d,b,e):(d.removeEventListener(a,c,!0),sa.remove(d,b))}}}),aa.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=l;else if(!d)return this;return 1===e&&(f=d,d=function(a){return aa().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=aa.guid++)),this.each(function(){aa.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,aa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=l),this.each(function(){aa.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){aa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return aa.event.trigger(a,b,c,!0)}});var Fa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ga=/<([\w:]+)/,Ha=/<|&#?\w+;/,Ia=/<(?:script|style|link)/i,Ja=/checked\s*(?:[^=]|=\s*.checked.)/i,Ka=/^$|\/(?:java|ecma)script/i,La=/^true\/(.*)/,Ma=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Na={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Na.optgroup=Na.option,Na.tbody=Na.tfoot=Na.colgroup=Na.caption=Na.thead,Na.th=Na.td,aa.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=aa.contains(a.ownerDocument,a);if(!(Z.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||aa.isXMLDoc(a)))for(g=s(h),f=s(a),d=0,e=f.length;d<e;d++)t(f[d],g[d]);if(b)if(c)for(f=f||s(a),g=g||s(h),d=0,e=f.length;d<e;d++)r(f[d],g[d]);else r(a,h);return g=s(h,"script"),g.length>0&&q(g,!i&&s(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;m<n;m++)if(e=a[m],e||0===e)if("object"===aa.type(e))aa.merge(l,e.nodeType?[e]:e);else if(Ha.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Ga.exec(e)||["",""])[1].toLowerCase(),h=Na[g]||Na._default,f.innerHTML=h[1]+e.replace(Fa,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;aa.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||aa.inArray(e,d)===-1)&&(i=aa.contains(e.ownerDocument,e),f=s(k.appendChild(e),"script"),i&&q(f),c))for(j=0;e=f[j++];)Ka.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=aa.event.special,g=0;void 0!==(c=a[g]);g++){if(aa.acceptData(c)&&(e=c[sa.expando],e&&(b=sa.cache[e]))){if(b.events)for(d in b.events)f[d]?aa.event.remove(c,d):aa.removeEvent(c,d,b.handle);sa.cache[e]&&delete sa.cache[e]}delete ta.cache[c[ta.expando]]}}}),aa.fn.extend({text:function(a){return ra(this,function(a){return void 0===a?aa.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=n(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=n(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling);
})},remove:function(a,b){for(var c,d=a?aa.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||aa.cleanData(s(c)),c.parentNode&&(b&&aa.contains(c.ownerDocument,c)&&q(s(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(aa.cleanData(s(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return aa.clone(this,a,b)})},html:function(a){return ra(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ia.test(a)&&!Na[(Ga.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Fa,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(aa.cleanData(s(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,aa.cleanData(s(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=T.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=aa.isFunction(m);if(n||j>1&&"string"==typeof m&&!Z.checkClone&&Ja.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=aa.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=aa.map(s(c,"script"),o),f=e.length;i<j;i++)g=c,i!==l&&(g=aa.clone(g,!0,!0),f&&aa.merge(e,s(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,aa.map(e,p),i=0;i<f;i++)g=e[i],Ka.test(g.type||"")&&!sa.access(g,"globalEval")&&aa.contains(h,g)&&(g.src?aa._evalUrl&&aa._evalUrl(g.src):aa.globalEval(g.textContent.replace(Ma,"")))}return this}}),aa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){aa.fn[a]=function(a){for(var c,d=[],e=aa(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),aa(e[g])[b](c),U.apply(d,c.get());return this.pushStack(d)}});var Oa,Pa={},Qa=/^margin/,Ra=new RegExp("^("+wa+")(?!px)[a-z%]+$","i"),Sa=function(a){return a.ownerDocument.defaultView.opener?a.ownerDocument.defaultView.getComputedStyle(a,null):b.getComputedStyle(a,null)};!function(){function a(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var a=b.getComputedStyle(g,null);c="1%"!==a.top,d="4px"===a.width,e.removeChild(f)}var c,d,e=$.documentElement,f=$.createElement("div"),g=$.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),b.getComputedStyle&&aa.extend(Z,{pixelPosition:function(){return a(),c},boxSizingReliable:function(){return null==d&&a(),d},reliableMarginRight:function(){var a,c=g.appendChild($.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),a=!parseFloat(b.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),a}}))}(),aa.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ta=/^(none|table(?!-c[ea]).+)/,Ua=new RegExp("^("+wa+")(.*)$","i"),Va=new RegExp("^([+-])=("+wa+")","i"),Wa={position:"absolute",visibility:"hidden",display:"block"},Xa={letterSpacing:"0",fontWeight:"400"},Ya=["Webkit","O","Moz","ms"];aa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=w(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=aa.camelCase(b),i=a.style;return b=aa.cssProps[h]||(aa.cssProps[h]=y(i,h)),g=aa.cssHooks[b]||aa.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Va.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(aa.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||aa.cssNumber[h]||(c+="px"),Z.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=aa.camelCase(b);return b=aa.cssProps[h]||(aa.cssProps[h]=y(a.style,h)),g=aa.cssHooks[b]||aa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=w(a,b,d)),"normal"===e&&b in Xa&&(e=Xa[b]),""===c||c?(f=parseFloat(e),c===!0||aa.isNumeric(f)?f||0:e):e}}),aa.each(["height","width"],function(a,b){aa.cssHooks[b]={get:function(a,c,d){if(c)return Ta.test(aa.css(a,"display"))&&0===a.offsetWidth?aa.swap(a,Wa,function(){return B(a,b,d)}):B(a,b,d)},set:function(a,c,d){var e=d&&Sa(a);return z(a,c,d?A(a,b,d,"border-box"===aa.css(a,"boxSizing",!1,e),e):0)}}}),aa.cssHooks.marginRight=x(Z.reliableMarginRight,function(a,b){if(b)return aa.swap(a,{display:"inline-block"},w,[a,"marginRight"])}),aa.each({margin:"",padding:"",border:"Width"},function(a,b){aa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+xa[d]+b]=f[d]||f[d-2]||f[0];return e}},Qa.test(a)||(aa.cssHooks[a+b].set=z)}),aa.fn.extend({css:function(a,b){return ra(this,function(a,b,c){var d,e,f={},g=0;if(aa.isArray(b)){for(d=Sa(a),e=b.length;g<e;g++)f[b[g]]=aa.css(a,b[g],!1,d);return f}return void 0!==c?aa.style(a,b,c):aa.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ya(this)?aa(this).show():aa(this).hide()})}}),aa.Tween=D,D.prototype={constructor:D,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(aa.cssNumber[c]?"":"px")},cur:function(){var a=D.propHooks[this.prop];return a&&a.get?a.get(this):D.propHooks._default.get(this)},run:function(a){var b,c=D.propHooks[this.prop];return this.options.duration?this.pos=b=aa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=aa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){aa.fx.step[a.prop]?aa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[aa.cssProps[a.prop]]||aa.cssHooks[a.prop])?aa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},aa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},aa.fx=D.prototype.init,aa.fx.step={};var Za,$a,_a=/^(?:toggle|show|hide)$/,ab=new RegExp("^(?:([+-])=|)("+wa+")([a-z%]*)$","i"),bb=/queueHooks$/,cb=[H],db={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=ab.exec(b),f=e&&e[3]||(aa.cssNumber[a]?"":"px"),g=(aa.cssNumber[a]||"px"!==f&&+d)&&ab.exec(aa.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,aa.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};aa.Animation=aa.extend(J,{tweener:function(a,b){aa.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],db[c]=db[c]||[],db[c].unshift(b)},prefilter:function(a,b){b?cb.unshift(a):cb.push(a)}}),aa.speed=function(a,b,c){var d=a&&"object"==typeof a?aa.extend({},a):{complete:c||!c&&b||aa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!aa.isFunction(b)&&b};return d.duration=aa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in aa.fx.speeds?aa.fx.speeds[d.duration]:aa.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){aa.isFunction(d.old)&&d.old.call(this),d.queue&&aa.dequeue(this,d.queue)},d},aa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ya).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=aa.isEmptyObject(a),f=aa.speed(b,c,d),g=function(){var b=J(this,aa.extend({},a),f);(e||sa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=aa.timers,g=sa.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&bb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||aa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=sa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=aa.timers,g=d?d.length:0;for(c.finish=!0,aa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),aa.each(["toggle","show","hide"],function(a,b){var c=aa.fn[b];aa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(F(b,!0),a,d,e)}}),aa.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){aa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),aa.timers=[],aa.fx.tick=function(){var a,b=0,c=aa.timers;for(Za=aa.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||aa.fx.stop(),Za=void 0},aa.fx.timer=function(a){aa.timers.push(a),a()?aa.fx.start():aa.timers.pop()},aa.fx.interval=13,aa.fx.start=function(){$a||($a=setInterval(aa.fx.tick,aa.fx.interval))},aa.fx.stop=function(){clearInterval($a),$a=null},aa.fx.speeds={slow:600,fast:200,_default:400},aa.fn.delay=function(a,b){return a=aa.fx?aa.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=$.createElement("input"),b=$.createElement("select"),c=b.appendChild($.createElement("option"));a.type="checkbox",Z.checkOn=""!==a.value,Z.optSelected=c.selected,b.disabled=!0,Z.optDisabled=!c.disabled,a=$.createElement("input"),a.value="t",a.type="radio",Z.radioValue="t"===a.value}();var eb,fb,gb=aa.expr.attrHandle;aa.fn.extend({attr:function(a,b){return ra(this,aa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){aa.removeAttr(this,a)})}}),aa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===Aa?aa.prop(a,b,c):(1===f&&aa.isXMLDoc(a)||(b=b.toLowerCase(),d=aa.attrHooks[b]||(aa.expr.match.bool.test(b)?fb:eb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=aa.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void aa.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(oa);if(f&&1===a.nodeType)for(;c=f[e++];)d=aa.propFix[c]||c,aa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Z.radioValue&&"radio"===b&&aa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),fb={set:function(a,b,c){return b===!1?aa.removeAttr(a,c):a.setAttribute(c,c),c}},aa.each(aa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=gb[b]||aa.find.attr;gb[b]=function(a,b,d){var e,f;return d||(f=gb[b],gb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,gb[b]=f),e}});var hb=/^(?:input|select|textarea|button)$/i;aa.fn.extend({prop:function(a,b){return ra(this,aa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[aa.propFix[a]||a]})}}),aa.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!aa.isXMLDoc(a),f&&(b=aa.propFix[b]||b,e=aa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||hb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Z.optSelected||(aa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),aa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){aa.propFix[this.toLowerCase()]=this});var ib=/[\t\r\n\f]/g;aa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(aa.isFunction(a))return this.each(function(b){aa(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(oa)||[];i<j;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ib," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=aa.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(aa.isFunction(a))return this.each(function(b){aa(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(oa)||[];i<j;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ib," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?aa.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):aa.isFunction(a)?this.each(function(c){aa(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=aa(this),f=a.match(oa)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==Aa&&"boolean"!==c||(this.className&&sa.set(this,"__className__",this.className),this.className=this.className||a===!1?"":sa.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ib," ").indexOf(b)>=0)return!0;return!1}});var jb=/\r/g;aa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=aa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,aa(this).val()):a,null==e?e="":"number"==typeof e?e+="":aa.isArray(e)&&(e=aa.map(e,function(a){return null==a?"":a+""})),b=aa.valHooks[this.type]||aa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=aa.valHooks[e.type]||aa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(jb,""):null==c?"":c)}}}),aa.extend({valHooks:{option:{get:function(a){var b=aa.find.attr(a,"value");return null!=b?b:aa.trim(aa.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(Z.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!aa.nodeName(c.parentNode,"optgroup"))){if(b=aa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=aa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=aa.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),aa.each(["radio","checkbox"],function(){aa.valHooks[this]={set:function(a,b){if(aa.isArray(b))return a.checked=aa.inArray(aa(a).val(),b)>=0}},Z.checkOn||(aa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),aa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){aa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),aa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var kb=aa.now(),lb=/\?/;aa.parseJSON=function(a){return JSON.parse(a+"")},aa.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return b&&!b.getElementsByTagName("parsererror").length||aa.error("Invalid XML: "+a),b};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,tb={},ub={},vb="*/".concat("*"),wb=b.location.href,xb=sb.exec(wb.toLowerCase())||[];aa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wb,type:"GET",isLocal:pb.test(xb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":aa.parseJSON,"text xml":aa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?M(M(a,aa.ajaxSettings),b):M(aa.ajaxSettings,a)},ajaxPrefilter:K(tb),ajaxTransport:K(ub),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&a<300||304===a,c&&(s=N(l,v,c)),s=O(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(aa.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(aa.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,!a&&w||(w="error",a<0&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--aa.active||aa.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=aa.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?aa(m):aa.event,o=aa.Deferred(),p=aa.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=ob.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(t<2)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||wb)+"").replace(mb,"").replace(rb,xb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=aa.trim(l.dataType||"*").toLowerCase().match(oa)||[""],null==l.crossDomain&&(i=sb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===xb[1]&&i[2]===xb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(xb[3]||("http:"===xb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=aa.param(l.data,l.traditional)),L(tb,l,b,v),2===t)return v;j=aa.event&&l.global,j&&0===aa.active++&&aa.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!qb.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(lb.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=nb.test(e)?e.replace(nb,"$1_="+kb++):e+(lb.test(e)?"&":"?")+"_="+kb++)),l.ifModified&&(aa.lastModified[e]&&v.setRequestHeader("If-Modified-Since",aa.lastModified[e]),aa.etag[e]&&v.setRequestHeader("If-None-Match",aa.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+vb+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=L(ub,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(t<2))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return aa.get(a,b,c,"json")},getScript:function(a,b){return aa.get(a,void 0,b,"script")}}),aa.each(["get","post"],function(a,b){aa[b]=function(a,c,d,e){return aa.isFunction(c)&&(e=e||d,d=c,c=void 0),aa.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),aa._evalUrl=function(a){return aa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},aa.fn.extend({wrapAll:function(a){var b;return aa.isFunction(a)?this.each(function(b){aa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=aa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return aa.isFunction(a)?this.each(function(b){aa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=aa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=aa.isFunction(a);return this.each(function(c){aa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){aa.nodeName(this,"body")||aa(this).replaceWith(this.childNodes)}).end()}}),aa.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},aa.expr.filters.visible=function(a){return!aa.expr.filters.hidden(a)};var yb=/%20/g,zb=/\[\]$/,Ab=/\r?\n/g,Bb=/^(?:submit|button|image|reset|file)$/i,Cb=/^(?:input|select|textarea|keygen)/i;aa.param=function(a,b){var c,d=[],e=function(a,b){b=aa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=aa.ajaxSettings&&aa.ajaxSettings.traditional),aa.isArray(a)||a.jquery&&!aa.isPlainObject(a))aa.each(a,function(){e(this.name,this.value)});else for(c in a)P(c,a[c],b,e);return d.join("&").replace(yb,"+")},aa.fn.extend({serialize:function(){return aa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=aa.prop(this,"elements");return a?aa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!aa(this).is(":disabled")&&Cb.test(this.nodeName)&&!Bb.test(a)&&(this.checked||!za.test(a))}).map(function(a,b){var c=aa(this).val();return null==c?null:aa.isArray(c)?aa.map(c,function(a){return{name:b.name,value:a.replace(Ab,"\r\n")}}):{name:b.name,value:c.replace(Ab,"\r\n")}}).get()}}),aa.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Db=0,Eb={},Fb={0:200,1223:204},Gb=aa.ajaxSettings.xhr();b.attachEvent&&b.attachEvent("onunload",function(){for(var a in Eb)Eb[a]()}),Z.cors=!!Gb&&"withCredentials"in Gb,Z.ajax=Gb=!!Gb,aa.ajaxTransport(function(a){var b;if(Z.cors||Gb&&!a.crossDomain)return{send:function(c,d){var e,f=a.xhr(),g=++Db;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Eb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Fb[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Eb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}}),aa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return aa.globalEval(a),a}}}),aa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),aa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=aa("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),$.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Hb=[],Ib=/(=)\?(?=&|$)|\?\?/;aa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Hb.pop()||aa.expando+"_"+kb++;return this[a]=!0,a}}),aa.ajaxPrefilter("json jsonp",function(a,c,d){var e,f,g,h=a.jsonp!==!1&&(Ib.test(a.url)?"url":"string"==typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ib.test(a.data)&&"data");if(h||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=aa.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h?a[h]=a[h].replace(Ib,"$1"+e):a.jsonp!==!1&&(a.url+=(lb.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){return g||aa.error(e+" was not called"),g[0]},a.dataTypes[0]="json",f=b[e],b[e]=function(){g=arguments},d.always(function(){b[e]=f,a[e]&&(a.jsonpCallback=c.jsonpCallback,Hb.push(e)),g&&aa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),aa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||$;var d=ha.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=aa.buildFragment([a],b,e),e&&e.length&&aa(e).remove(),aa.merge([],d.childNodes))};var Jb=aa.fn.load;aa.fn.load=function(a,b,c){if("string"!=typeof a&&Jb)return Jb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=aa.trim(a.slice(h)),a=a.slice(0,h)),aa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&aa.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?aa("<div>").append(aa.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},aa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){aa.fn[b]=function(a){return this.on(b,a)}}),aa.expr.filters.animated=function(a){return aa.grep(aa.timers,function(b){return a===b.elem}).length};var Kb=b.document.documentElement;aa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=aa.css(a,"position"),l=aa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=aa.css(a,"top"),i=aa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),aa.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},aa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){aa.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,aa.contains(b,d)?(typeof d.getBoundingClientRect!==Aa&&(e=d.getBoundingClientRect()),c=Q(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===aa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),aa.nodeName(a[0],"html")||(d=a.offset()),d.top+=aa.css(a[0],"borderTopWidth",!0),d.left+=aa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-aa.css(c,"marginTop",!0),left:b.left-d.left-aa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Kb;a&&!aa.nodeName(a,"html")&&"static"===aa.css(a,"position");)a=a.offsetParent;return a||Kb})}}),aa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d="pageYOffset"===c;aa.fn[a]=function(e){return ra(this,function(a,e,f){var g=Q(a);return void 0===f?g?g[c]:a[e]:void(g?g.scrollTo(d?b.pageXOffset:f,d?f:b.pageYOffset):a[e]=f)},a,e,arguments.length,null)}}),aa.each(["top","left"],function(a,b){aa.cssHooks[b]=x(Z.pixelPosition,function(a,c){if(c)return c=w(a,b),Ra.test(c)?aa(a).position()[b]+"px":c})}),aa.each({Height:"height",Width:"width"},function(a,b){aa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){aa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return ra(this,function(b,c,d){var e;return aa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?aa.css(b,c,g):aa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),aa.fn.size=function(){return this.length},aa.fn.andSelf=aa.fn.addBack,"function"==typeof a&&a.amd&&a("jquery",[],function(){return aa});var Lb=b.jQuery,Mb=b.$;return aa.noConflict=function(a){return b.$===aa&&(b.$=Mb),a&&b.jQuery===aa&&(b.jQuery=Lb),aa},typeof c===Aa&&(b.jQuery=b.$=aa),aa})},{}],6:[function(b,c,d){(function(b){(function(){function e(a,b){if(a!==b){var c=null===a,d=a===A,e=a===a,f=null===b,g=b===A,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(a<b&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function f(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function g(a,b,c){if(b!==b)return r(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function h(a){return"function"==typeof a||!1}function i(a){return null==a?"":a+""}function j(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function k(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function l(a,b){return e(a.criteria,b.criteria)||a.index-b.index}function m(a,b,c){for(var d=-1,f=a.criteria,g=b.criteria,h=f.length,i=c.length;++d<h;){var j=e(f[d],g[d]);if(j){if(d>=i)return j;var k=c[d];return j*("asc"===k||k===!0?1:-1)}}return a.index-b.index}function n(a){return Ta[a]}function o(a){return Ua[a]}function p(a,b,c){return b?a=Xa[a]:c&&(a=Ya[a]),"\\"+a}function q(a){return"\\"+Ya[a]}function r(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function s(a){return!!a&&"object"==typeof a}function t(a){return a<=160&&a>=9&&a<=13||32==a||160==a||5760==a||6158==a||a>=8192&&(a<=8202||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function u(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=T,f[++e]=c);return f}function v(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function w(a){for(var b=-1,c=a.length;++b<c&&t(a.charCodeAt(b)););return b}function x(a){for(var b=a.length;b--&&t(a.charCodeAt(b)););return b}function y(a){return Va[a]}function z(a){function b(a){if(s(a)&&!Ch(a)&&!(a instanceof t)){if(a instanceof d)return a;if(ag.call(a,"__chain__")&&ag.call(a,"__wrapped__"))return md(a)}return new d(a)}function c(){}function d(a,b,c){this.__wrapped__=a,this.__actions__=c||[],
this.__chain__=!!b}function t(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bg,this.__views__=[]}function $(){var a=new t(this.__wrapped__);return a.__actions__=ab(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ab(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ab(this.__views__),a}function ca(){if(this.__filtered__){var a=new t(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function ea(){var a=this.__wrapped__.value(),b=this.__dir__,c=Ch(a),d=b<0,e=c?a.length:0,f=Tc(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=wg(i,this.__takeCount__);if(!c||e<P||e==i&&n==i)return cc(d&&c?a.reverse():a,this.__actions__);var o=[];a:for(;i--&&m<n;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==R)q=u;else if(!u){if(t==Q)continue a;break a}}o[m++]=q}return o}function Ta(){this.__data__={}}function Ua(a){return this.has(a)&&delete this.__data__[a]}function Va(a){return"__proto__"==a?A:this.__data__[a]}function Wa(a){return"__proto__"!=a&&ag.call(this.__data__,a)}function Xa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:qg(null),set:new kg};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||He(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||He(a)?b.set.add(a):b.hash[a]=!0}function _a(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Of(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function ab(a,b){var c=-1,d=a.length;for(b||(b=Of(d));++c<d;)b[c]=a[c];return b}function bb(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function cb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function fb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function gb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function hb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function ib(a,b){for(var c=-1,d=a.length,e=Of(d);++c<d;)e[c]=b(a[c],c,a);return e}function jb(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function kb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function lb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function mb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function nb(a,b){for(var c=a.length,d=0;c--;)d+=+b(a[c])||0;return d}function ob(a,b){return a===A?b:a}function pb(a,b,c,d){return a!==A&&ag.call(d,c)?a:b}function qb(a,b,c){for(var d=-1,e=Nh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==A||g in a)||(a[g]=i)}return a}function rb(a,b){return null==b?a:tb(b,Nh(b),a)}function sb(a,b){for(var c=-1,d=null==a,e=!d&&Yc(a),f=e?a.length:0,g=b.length,h=Of(g);++c<g;){var i=b[c];e?h[c]=Zc(i,f)?a[i]:A:h[c]=d?A:a[i]}return h}function tb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function ub(a,b,c){var d=typeof a;return"function"==d?b===A?a:fc(a,b,c):null==a?Bf:"object"==d?Nb(a):b===A?Hf(a):Ob(a,b)}function vb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==A)return h;if(!He(a))return a;var i=Ch(a);if(i){if(h=Uc(a),!b)return ab(a,h)}else{var j=cg.call(a),k=j==Z;if(j!=aa&&j!=U&&(!k||e))return Sa[j]?Wc(a,j,b):e?a:{};if(h=Vc(k?{}:a),!b)return rb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?bb:Fb)(a,function(d,e){h[e]=vb(d,b,c,e,a,f,g)}),h}function wb(a,b,c){if("function"!=typeof a)throw new Xf(S);return lg(function(){a.apply(A,c)},b)}function xb(a,b){var c=a?a.length:0,d=[];if(!c)return d;var e=-1,f=Qc(),h=f==g,i=h&&b.length>=P?oc(b):null,j=b.length;i&&(f=Za,h=!1,b=i);a:for(;++e<c;){var k=a[e];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;d.push(k)}else f(b,k,0)<0&&d.push(k)}return d}function yb(a,b){var c=!0;return Jg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function zb(a,b,c,d){var e=d,f=e;return Jg(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function Ab(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,c<0&&(c=-c>e?0:e+c),d=d===A||d>e?e:+d||0,d<0&&(d+=e),e=c>d?0:d>>>0,c>>>=0;c<e;)a[c++]=b;return a}function Bb(a,b){var c=[];return Jg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Cb(a,b,c,d){var e;return c(a,function(a,c,f){if(b(a,c,f))return e=d?c:a,!1}),e}function Db(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];s(g)&&Yc(g)&&(c||Ch(g)||ye(g))?b?Db(g,b,c,d):jb(d,g):c||(d[d.length]=g)}return d}function Eb(a,b){return Lg(a,b,_e)}function Fb(a,b){return Lg(a,b,Nh)}function Gb(a,b){return Mg(a,b,Nh)}function Hb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ge(a[g])&&(f[++e]=g)}return f}function Ib(a,b,c){if(null!=a){c!==A&&c in kd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&d<e;)a=a[b[d++]];return d&&d==e?a:A}}function Jb(a,b,c,d,e,f){return a===b||(null==a||null==b||!He(a)&&!s(b)?a!==a&&b!==b:Kb(a,b,Jb,c,d,e,f))}function Kb(a,b,c,d,e,f,g){var h=Ch(a),i=Ch(b),j=V,k=V;h||(j=cg.call(a),j==U?j=aa:j!=aa&&(h=Qe(a))),i||(k=cg.call(b),k==U?k=aa:k!=aa&&(i=Qe(b)));var l=j==aa,m=k==aa,n=j==k;if(n&&!h&&!l)return Mc(a,b,j);if(!e){var o=l&&ag.call(a,"__wrapped__"),p=m&&ag.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Lc:Nc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Lb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=kd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===A&&!(h in a))return!1}else{var k=c?c(i,j,h):A;if(!(k===A?Jb(j,i,c,!0):k))return!1}}return!0}function Mb(a,b){var c=-1,d=Yc(a)?Of(a.length):[];return Jg(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Nb(a){var b=Rc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null!=a&&(a[c]===d&&(d!==A||c in kd(a)))}}return function(a){return Lb(a,b)}}function Ob(a,b){var c=Ch(a),d=_c(a)&&cd(b),e=a+"";return a=ld(a),function(f){if(null==f)return!1;var g=e;if(f=kd(f),(c||!d)&&!(g in f)){if(f=1==a.length?f:Ib(f,Wb(a,0,-1)),null==f)return!1;g=zd(a),f=kd(f)}return f[g]===b?b!==A||g in f:Jb(b,f[g],A,!0)}}function Pb(a,b,c,d,e){if(!He(a))return a;var f=Yc(b)&&(Ch(b)||Qe(b)),g=f?A:Nh(b);return bb(g||b,function(h,i){if(g&&(i=h,h=b[i]),s(h))d||(d=[]),e||(e=[]),Qb(a,b,i,Pb,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):A,l=k===A;l&&(k=h),k===A&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Qb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):A,l=k===A;l&&(k=i,Yc(i)&&(Ch(i)||Qe(i))?k=Ch(j)?j:Yc(j)?ab(j):[]:Ne(i)||ye(i)?k=ye(j)?Ve(j):Ne(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Rb(a){return function(b){return null==b?A:b[a]}}function Sb(a){var b=a+"";return a=ld(a),function(c){return Ib(c,a,b)}}function Tb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Zc(d)){var e=d;mg.call(a,d,1)}}return a}function Ub(a,b){return a+rg(zg()*(b-a+1))}function Vb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Wb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,b<0&&(b=-b>e?0:e+b),c=c===A||c>e?e:+c||0,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Of(e);++d<e;)f[d]=a[d+b];return f}function Xb(a,b){var c;return Jg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Yb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Zb(a,b,c){var d=Oc(),e=-1;b=ib(b,function(a){return d(a)});var f=Mb(a,function(a){var c=ib(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Yb(f,function(a,b){return m(a,b,c)})}function $b(a,b){var c=0;return Jg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function _b(a,b){var c=-1,d=Qc(),e=a.length,f=d==g,h=f&&e>=P,i=h?oc():null,j=[];i?(d=Za,f=!1):(h=!1,i=b?[]:j);a:for(;++c<e;){var k=a[c],l=b?b(k,c,a):k;if(f&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else d(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function ac(a,b){for(var c=-1,d=b.length,e=Of(d);++c<d;)e[c]=a[b[c]];return e}function bc(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Wb(a,d?0:f,d?f+1:e):Wb(a,d?f+1:0,d?e:f)}function cc(a,b){var c=a;c instanceof t&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=b[d];c=f.func.apply(f.thisArg,jb([c],f.args))}return c}function dc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&e<=Eg){for(;d<e;){var f=d+e>>>1,g=a[f];(c?g<=b:g<b)&&null!==g?d=f+1:e=f}return e}return ec(a,b,Bf,c)}function ec(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===A;e<f;){var j=rg((e+f)/2),k=c(a[j]),l=k!==A,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null!=k&&(d?k<=b:k<b);n?e=j+1:f=j}return wg(f,Dg)}function fc(a,b,c){if("function"!=typeof a)return Bf;if(b===A)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function gc(a){var b=new fg(a.byteLength),c=new ng(b);return c.set(new ng(a)),b}function hc(a,b,c){for(var d=c.length,e=-1,f=vg(a.length-d,0),g=-1,h=b.length,i=Of(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function ic(a,b,c){for(var d=-1,e=c.length,f=-1,g=vg(a.length-e,0),h=-1,i=b.length,j=Of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function jc(a,b){return function(c,d,e){var f=b?b():{};if(d=Oc(d,e,3),Ch(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Jg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function kc(a){return qe(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:A,g=e>2?c[2]:A,h=e>1?c[e-1]:A;for("function"==typeof f?(f=fc(f,h,5),e-=2):(f="function"==typeof h?h:A,e-=f?1:0),g&&$c(c[0],c[1],g)&&(f=e<3?A:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function lc(a,b){return function(c,d){var e=c?Pg(c):0;if(!bd(e))return a(c,d);for(var f=b?e:-1,g=kd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function mc(a){return function(b,c,d){for(var e=kd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function nc(a,b){function c(){var e=this&&this!==db&&this instanceof c?d:a;return e.apply(b,arguments)}var d=qc(a);return c}function oc(a){return qg&&kg?new Ya(a):null}function pc(a){return function(b){for(var c=-1,d=yf(kf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function qc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ig(a.prototype),d=a.apply(c,b);return He(d)?d:c}}function rc(a){function b(c,d,e){e&&$c(c,d,e)&&(d=A);var f=Kc(c,a,A,A,A,A,A,d);return f.placeholder=b.placeholder,f}return b}function sc(a,b){return qe(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(A,c))})}function tc(a,b){return function(c,d,e){if(e&&$c(c,d,e)&&(d=A),d=Oc(d,e,3),1==d.length){c=Ch(c)?c:jd(c);var f=gb(c,d,a,b);if(!c.length||f!==b)return f}return zb(c,d,a,b)}}function uc(a,b){return function(c,d,e){if(d=Oc(d,e,3),Ch(c)){var g=f(c,d,b);return g>-1?c[g]:A}return Cb(c,d,a)}}function vc(a){return function(b,c,d){return b&&b.length?(c=Oc(c,d,3),f(b,c,a)):-1}}function wc(a){return function(b,c,d){return c=Oc(c,d,3),Cb(b,c,a,!0)}}function xc(a){return function(){for(var b,c=arguments.length,e=a?c:-1,f=0,g=Of(c);a?e--:++e<c;){var h=g[f++]=arguments[e];if("function"!=typeof h)throw new Xf(S);!b&&d.prototype.thru&&"wrapper"==Pc(h)&&(b=new d([],(!0)))}for(e=b?-1:c;++e<c;){h=g[e];var i=Pc(h),j="wrapper"==i?Og(h):A;b=j&&ad(j[0])&&j[1]==(J|F|H|K)&&!j[4].length&&1==j[9]?b[Pc(j[0])].apply(b,j[3]):1==h.length&&ad(h)?b[i]():b.thru(h)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Ch(d)&&d.length>=P)return b.plant(d).value();for(var e=0,f=c?g[e].apply(this,a):d;++e<c;)f=g[e].call(this,f);return f}}}function yc(a,b){return function(c,d,e){return"function"==typeof d&&e===A&&Ch(c)?a(c,d):b(c,fc(d,e,3))}}function zc(a){return function(b,c,d){return"function"==typeof c&&d===A||(c=fc(c,d,3)),a(b,c,_e)}}function Ac(a){return function(b,c,d){return"function"==typeof c&&d===A||(c=fc(c,d,3)),a(b,c)}}function Bc(a){return function(b,c,d){var e={};return c=Oc(c,d,3),Fb(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function Cc(a){return function(b,c,d){return b=i(b),(a?b:"")+Gc(b,c,d)+(a?"":b)}}function Dc(a){var b=qe(function(c,d){var e=u(d,b.placeholder);return Kc(c,a,A,d,e)});return b}function Ec(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===A&&Ch(c)?a(c,d,e,g):Vb(c,Oc(d,f,4),e,g,b)}}function Fc(a,b,c,d,e,f,g,h,i,j){function k(){for(var s=arguments.length,t=s,v=Of(s);t--;)v[t]=arguments[t];if(d&&(v=hc(v,d,e)),f&&(v=ic(v,f,g)),o||q){var w=k.placeholder,x=u(v,w);if(s-=x.length,s<j){var y=h?ab(h):A,z=vg(j-s,0),B=o?x:A,E=o?A:x,F=o?v:A,G=o?A:v;b|=o?H:I,b&=~(o?I:H),p||(b&=~(C|D));var J=[a,b,c,F,B,G,E,y,i,z],K=Fc.apply(A,J);return ad(a)&&Qg(K,J),K.placeholder=w,K}}var L=m?c:this,M=n?L[a]:a;return h&&(v=hd(v,h)),l&&i<v.length&&(v.length=i),this&&this!==db&&this instanceof k&&(M=r||qc(a)),M.apply(L,v)}var l=b&J,m=b&C,n=b&D,o=b&F,p=b&E,q=b&G,r=n?A:qc(a);return k}function Gc(a,b,c){var d=a.length;if(b=+b,d>=b||!tg(b))return"";var e=b-d;return c=null==c?" ":c+"",qf(c,pg(e/c.length)).slice(0,e)}function Hc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Of(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==db&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&C,g=qc(a);return e}function Ic(a){var b=Sf[a];return function(a,c){return c=c===A?0:+c||0,c?(c=ig(10,c),b(a*c)/c):b(a)}}function Jc(a){return function(b,c,d,e){var f=Oc(d);return null==d&&f===ub?dc(b,c,a):ec(b,c,f(d,e,1),a)}}function Kc(a,b,c,d,e,f,g,h){var i=b&D;if(!i&&"function"!=typeof a)throw new Xf(S);var j=d?d.length:0;if(j||(b&=~(H|I),d=e=A),j-=e?e.length:0,b&I){var k=d,l=e;d=e=A}var m=i?A:Og(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(dd(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:vg(h-j,0)||0,b==C)var o=nc(n[0],n[2]);else o=b!=H&&b!=(C|H)||n[4].length?Fc.apply(A,n):Hc.apply(A,n);var p=m?Ng:Qg;return p(o,n)}function Lc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):A;if(m!==A){if(m)continue;return!1}if(e){if(!mb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Mc(a,b,c){switch(c){case W:case X:return+a==+b;case Y:return a.name==b.name&&a.message==b.message;case _:return a!=+a?b!=+b:a==+b;case ba:case da:return a==b+""}return!1}function Nc(a,b,c,d,e,f,g){var h=Nh(a),i=h.length,j=Nh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:ag.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):A;if(!(q===A?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Oc(a,c,d){var e=b.callback||zf;return e=e===zf?ub:e,d?e(a,c,d):e}function Pc(a){for(var b=a.name,c=Hg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Qc(a,c,d){var e=b.indexOf||xd;return e=e===xd?g:e,a?e(a,c,d):e}function Rc(a){for(var b=af(a),c=b.length;c--;)b[c][2]=cd(b[c][1]);return b}function Sc(a,b){var c=null==a?A:a[b];return Ke(c)?c:A}function Tc(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=wg(b,a+g);break;case"takeRight":a=vg(a,b-g)}}return{start:a,end:b}}function Uc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&ag.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Vc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Uf),new b}function Wc(a,b,c){var d=a.constructor;switch(b){case fa:return gc(a);case W:case X:return new d((+a));case ga:case ha:case ia:case ja:case ka:case la:case ma:case na:case oa:var e=a.buffer;return new d(c?gc(e):e,a.byteOffset,a.length);case _:case da:return new d(a);case ba:var f=new d(a.source,Ha.exec(a));f.lastIndex=a.lastIndex}return f}function Xc(a,b,c){null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),b=zd(b));var d=null==a?a:a[b];return null==d?A:d.apply(a,c)}function Yc(a){return null!=a&&bd(Pg(a))}function Zc(a,b){return a="number"==typeof a||Ka.test(a)?+a:-1,b=null==b?Fg:b,a>-1&&a%1==0&&a<b}function $c(a,b,c){if(!He(c))return!1;var d=typeof b;if("number"==d?Yc(c)&&Zc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function _c(a,b){var c=typeof a;if("string"==c&&Aa.test(a)||"number"==c)return!0;if(Ch(a))return!1;var d=!za.test(a);return d||null!=b&&a in kd(b)}function ad(a){var c=Pc(a);if(!(c in t.prototype))return!1;var d=b[c];if(a===d)return!0;var e=Og(d);return!!e&&a===e[0]}function bd(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=Fg}function cd(a){return a===a&&!He(a)}function dd(a,b){var c=a[1],d=b[1],e=c|d,f=e<J,g=d==J&&c==F||d==J&&c==K&&a[7].length<=b[8]||d==(J|K)&&c==F;if(!f&&!g)return a;d&C&&(a[2]=b[2],e|=c&C?0:E);var h=b[3];if(h){var i=a[3];a[3]=i?hc(i,h,b[4]):ab(h),a[4]=i?u(a[3],T):ab(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?ic(i,h,b[6]):ab(h),a[6]=i?u(a[5],T):ab(b[6])),h=b[7],h&&(a[7]=ab(h)),d&J&&(a[8]=null==a[8]?b[8]:wg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ed(a,b){return a===A?b:Dh(a,b,ed)}function fd(a,b){a=kd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function gd(a,b){var c={};return Eb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function hd(a,b){for(var c=a.length,d=wg(b.length,c),e=ab(a);d--;){var f=b[d];a[d]=Zc(f,c)?e[f]:A}return a}function id(a){for(var b=_e(a),c=b.length,d=c&&a.length,e=!!d&&bd(d)&&(Ch(a)||ye(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Zc(h,d)||ag.call(a,h))&&g.push(h)}return g}function jd(a){return null==a?[]:Yc(a)?He(a)?a:Uf(a):ef(a)}function kd(a){return He(a)?a:Uf(a)}function ld(a){if(Ch(a))return a;var b=[];return i(a).replace(Ba,function(a,c,d,e){b.push(d?e.replace(Fa,"$1"):c||a)}),b}function md(a){return a instanceof t?a.clone():new d(a.__wrapped__,a.__chain__,ab(a.__actions__))}function nd(a,b,c){b=(c?$c(a,b,c):null==b)?1:vg(rg(b)||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Of(pg(e/b));d<e;)g[++f]=Wb(a,d,d+=b);return g}function od(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function pd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,b<0?0:b)):[]}function qd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0,b<0?0:b)):[]}function rd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0,!0):[]}function sd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0):[]}function td(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&$c(a,b,c)&&(c=0,d=e),Ab(a,b,c,d)):[]}function ud(a){return a?a[0]:A}function vd(a,b,c){var d=a?a.length:0;return c&&$c(a,b,c)&&(b=!1),d?Db(a,b):[]}function wd(a){var b=a?a.length:0;return b?Db(a,!0):[]}function xd(a,b,c){var d=a?a.length:0;if(!d)return-1;if("number"==typeof c)c=c<0?vg(d+c,0):c;else if(c){var e=dc(a,b);return e<d&&(b===b?b===a[e]:a[e]!==a[e])?e:-1}return g(a,b,c||0)}function yd(a){return qd(a,1)}function zd(a){var b=a?a.length:0;return b?a[b-1]:A}function Ad(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(c<0?vg(d+c,0):wg(c||0,d-1))+1;else if(c){e=dc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return r(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Bd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Qc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)mg.call(b,f,1);return b}function Cd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Oc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Tb(a,f),d}function Dd(a){return pd(a,1)}function Ed(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&$c(a,b,c)&&(b=0,c=d),Wb(a,b,c)):[]}function Fd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0,b<0?0:b)):[]}function Gd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,b<0?0:b)):[]}function Hd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!1,!0):[]}function Id(a,b,c){return a&&a.length?bc(a,Oc(b,c,3)):[]}function Jd(a,b,c,d){var e=a?a.length:0;if(!e)return[];null!=b&&"boolean"!=typeof b&&(d=c,c=$c(a,b,d)?A:b,b=!1);var f=Oc();return null==c&&f===ub||(c=f(c,d,3)),b&&Qc()==g?v(a,c):_b(a,c)}function Kd(a){if(!a||!a.length)return[];var b=-1,c=0;a=hb(a,function(a){if(Yc(a))return c=vg(a.length,c),!0});for(var d=Of(c);++b<c;)d[b]=ib(a,Rb(b));return d}function Ld(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Kd(a);return null==b?e:(b=fc(b,c,4),ib(e,function(a){return kb(a,b,A,!0)}))}function Md(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Yc(c))var d=d?jb(xb(d,c),xb(c,d)):c}return d?_b(d):[]}function Nd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ch(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Od(a){var c=b(a);return c.__chain__=!0,c}function Pd(a,b,c){return b.call(c,a),a}function Qd(a,b,c){return b.call(c,a)}function Rd(){return Od(this)}function Sd(){return new d(this.value(),this.__chain__)}function Td(a){for(var b,d=this;d instanceof c;){var e=md(d);b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b}function Ud(){var a=this.__wrapped__,b=function(a){return c&&c.__dir__<0?a:a.reverse()};if(a instanceof t){var c=a;return this.__actions__.length&&(c=new t(this)),c=c.reverse(),c.__actions__.push({func:Qd,args:[b],thisArg:A}),new d(c,this.__chain__)}return this.thru(b)}function Vd(){return this.value()+""}function Wd(){return cc(this.__wrapped__,this.__actions__)}function Xd(a,b,c){var d=Ch(a)?fb:yb;return c&&$c(a,b,c)&&(b=A),"function"==typeof b&&c===A||(b=Oc(b,c,3)),d(a,b)}function Yd(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,b)}function Zd(a,b){return dh(a,Nb(b))}function $d(a,b,c,d){var e=a?Pg(a):0;return bd(e)||(a=ef(a),e=a.length),c="number"!=typeof c||d&&$c(b,c,d)?0:c<0?vg(e+c,0):c||0,"string"==typeof a||!Ch(a)&&Pe(a)?c<=e&&a.indexOf(b,c)>-1:!!e&&Qc(a,b,c)>-1}function _d(a,b,c){var d=Ch(a)?ib:Mb;return b=Oc(b,c,3),d(a,b)}function ae(a,b){return _d(a,Hf(b))}function be(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function ce(a,b,c){if(c?$c(a,b,c):null==b){a=jd(a);var d=a.length;return d>0?a[Ub(0,d-1)]:A}var e=-1,f=Ue(a),d=f.length,g=d-1;for(b=wg(b<0?0:+b||0,d);++e<b;){var h=Ub(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function de(a){return ce(a,Bg)}function ee(a){var b=a?Pg(a):0;return bd(b)?b:Nh(a).length}function fe(a,b,c){var d=Ch(a)?mb:Xb;return c&&$c(a,b,c)&&(b=A),"function"==typeof b&&c===A||(b=Oc(b,c,3)),d(a,b)}function ge(a,b,c){if(null==a)return[];c&&$c(a,b,c)&&(b=A);var d=-1;b=Oc(b,c,3);var e=Mb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Yb(e,l)}function he(a,b,c,d){return null==a?[]:(d&&$c(b,c,d)&&(c=A),Ch(b)||(b=null==b?[]:[b]),Ch(c)||(c=null==c?[]:[c]),Zb(a,b,c))}function ie(a,b){return Yd(a,Nb(b))}function je(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Xf(S);var c=a;a=b,b=c}return a=tg(a=+a)?a:0,function(){if(--a<1)return b.apply(this,arguments)}}function ke(a,b,c){return c&&$c(a,b,c)&&(b=A),b=a&&null==b?a.length:vg(+b||0,0),Kc(a,J,A,A,A,A,b)}function le(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Xf(S);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=A),c}}function me(a,b,c){function d(){n&&gg(n),j&&gg(j),p=0,j=n=o=A}function e(b,c){c&&gg(c),j=n=o=A,b&&(p=oh(),k=a.apply(m,i),n||j||(i=m=A))}function f(){var a=b-(oh()-l);a<=0||a>b?e(o,j):n=lg(f,a)}function g(){e(r,n)}function h(){if(i=arguments,l=oh(),m=this,o=r&&(n||!s),q===!1)var c=s&&!n;else{j||s||(p=l);var d=q-(l-p),e=d<=0||d>q;e?(j&&(j=gg(j)),p=l,k=a.apply(m,i)):j||(j=lg(g,d))}return e&&n?n=gg(n):n||b===q||(n=lg(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=A),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!0;if("function"!=typeof a)throw new Xf(S);if(b=b<0?0:+b||0,c===!0){var s=!0;r=!1}else He(c)&&(s=!!c.leading,q="maxWait"in c&&vg(+c.maxWait||0,b),r="trailing"in c?!!c.trailing:r);return h.cancel=d,h}function ne(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xf(S);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new ne.Cache,c}function oe(a){if("function"!=typeof a)throw new Xf(S);return function(){return!a.apply(this,arguments)}}function pe(a){return le(2,a)}function qe(a,b){if("function"!=typeof a)throw new Xf(S);return b=vg(b===A?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=vg(c.length-b,0),f=Of(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Of(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function re(a){if("function"!=typeof a)throw new Xf(S);return function(b){return a.apply(this,b)}}function se(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xf(S);return c===!1?d=!1:He(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),me(a,b,{leading:d,maxWait:+b,trailing:e})}function te(a,b){return b=null==b?Bf:b,Kc(b,H,A,[a],[])}function ue(a,b,c,d){return b&&"boolean"!=typeof b&&$c(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?vb(a,b,fc(c,d,1)):vb(a,b)}function ve(a,b,c){return"function"==typeof b?vb(a,!0,fc(b,c,1)):vb(a,!0)}function we(a,b){return a>b}function xe(a,b){return a>=b}function ye(a){return s(a)&&Yc(a)&&ag.call(a,"callee")&&!jg.call(a,"callee")}function ze(a){return a===!0||a===!1||s(a)&&cg.call(a)==W}function Ae(a){return s(a)&&cg.call(a)==X}function Be(a){return!!a&&1===a.nodeType&&s(a)&&!Ne(a)}function Ce(a){return null==a||(Yc(a)&&(Ch(a)||Pe(a)||ye(a)||s(a)&&Ge(a.splice))?!a.length:!Nh(a).length)}function De(a,b,c,d){c="function"==typeof c?fc(c,d,3):A;var e=c?c(a,b):A;return e===A?Jb(a,b,c):!!e}function Ee(a){return s(a)&&"string"==typeof a.message&&cg.call(a)==Y}function Fe(a){return"number"==typeof a&&tg(a)}function Ge(a){return He(a)&&cg.call(a)==Z}function He(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ie(a,b,c,d){return c="function"==typeof c?fc(c,d,3):A,Lb(a,Rc(b),c)}function Je(a){return Me(a)&&a!=+a}function Ke(a){return null!=a&&(Ge(a)?eg.test(_f.call(a)):s(a)&&Ja.test(a))}function Le(a){return null===a}function Me(a){return"number"==typeof a||s(a)&&cg.call(a)==_}function Ne(a){var b;if(!s(a)||cg.call(a)!=aa||ye(a)||!ag.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Eb(a,function(a,b){c=b}),c===A||ag.call(a,c)}function Oe(a){return He(a)&&cg.call(a)==ba}function Pe(a){return"string"==typeof a||s(a)&&cg.call(a)==da}function Qe(a){return s(a)&&bd(a.length)&&!!Ra[cg.call(a)]}function Re(a){return a===A}function Se(a,b){return a<b}function Te(a,b){return a<=b}function Ue(a){var b=a?Pg(a):0;return bd(b)?b?ab(a):[]:ef(a)}function Ve(a){return tb(a,_e(a))}function We(a,b,c){var d=Ig(a);return c&&$c(a,b,c)&&(b=A),b?rb(d,b):d}function Xe(a){return Hb(a,_e(a))}function Ye(a,b,c){var d=null==a?A:Ib(a,ld(b),b+"");return d===A?c:d}function Ze(a,b){if(null==a)return!1;var c=ag.call(a,b);if(!c&&!_c(b)){if(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),null==a)return!1;b=zd(b),c=ag.call(a,b)}return c||bd(a.length)&&Zc(b,a.length)&&(Ch(a)||ye(a))}function $e(a,b,c){c&&$c(a,b,c)&&(b=A);for(var d=-1,e=Nh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?ag.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function _e(a){if(null==a)return[];He(a)||(a=Uf(a));var b=a.length;b=b&&bd(b)&&(Ch(a)||ye(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Zc(h,b)||"constructor"==h&&(e||!ag.call(a,h))||f.push(h);return f}function af(a){a=kd(a);for(var b=-1,c=Nh(a),d=c.length,e=Of(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function bf(a,b,c){var d=null==a?A:a[b];return d===A&&(null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),d=null==a?A:a[zd(b)]),d=d===A?c:d),Ge(d)?d.call(a):d}function cf(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||_c(b,a)?[d]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];He(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Zc(b[e+1])?[]:{})),h=h[i]}return a}function df(a,b,c,d){var e=Ch(a)||Qe(a);if(b=Oc(b,d,4),null==c)if(e||He(a)){var f=a.constructor;c=e?Ch(a)?new f:[]:Ig(Ge(f)?f.prototype:A)}else c={};return(e?bb:Fb)(a,function(a,d,e){return b(c,a,d,e)}),c}function ef(a){return ac(a,Nh(a))}function ff(a){return ac(a,_e(a))}function gf(a,b,c){return b=+b||0,c===A?(c=b,b=0):c=+c||0,a>=wg(b,c)&&a<vg(b,c)}function hf(a,b,c){c&&$c(a,b,c)&&(b=c=A);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=zg();return wg(a+f*(b-a+hg("1e-"+((f+"").length-1))),b)}return Ub(a,b)}function jf(a){return a=i(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function kf(a){return a=i(a),a&&a.replace(La,n).replace(Ea,"")}function lf(a,b,c){a=i(a),b+="";var d=a.length;return c=c===A?d:wg(c<0?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function mf(a){return a=i(a),a&&va.test(a)?a.replace(ta,o):a}function nf(a){return a=i(a),a&&Da.test(a)?a.replace(Ca,p):a||"(?:)"}function of(a,b,c){a=i(a),b=+b;var d=a.length;if(d>=b||!tg(b))return a;var e=(b-d)/2,f=rg(e),g=pg(e);return c=Gc("",g,c),c.slice(0,f)+a+c}function pf(a,b,c){return(c?$c(a,b,c):null==b)?b=0:b&&(b=+b),a=tf(a),yg(a,b||(Ia.test(a)?16:10))}function qf(a,b){var c="";if(a=i(a),b=+b,b<1||!a||!tg(b))return c;do b%2&&(c+=a),b=rg(b/2),a+=a;while(b);return c}function rf(a,b,c){return a=i(a),c=null==c?0:wg(c<0?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function sf(a,c,d){var e=b.templateSettings;d&&$c(a,c,d)&&(c=d=A),a=i(a),c=qb(rb({},d||c),e,pb);var f,g,h=qb(rb({},c.imports),e.imports,pb),j=Nh(h),k=ac(h,j),l=0,m=c.interpolate||Ma,n="__p += '",o=Vf((c.escape||Ma).source+"|"+m.source+"|"+(m===ya?Ga:Ma).source+"|"+(c.evaluate||Ma).source+"|$","g"),p="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Qa+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(l,i).replace(Na,q),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),l=i+b.length,b}),n+="';\n";var r=c.variable;r||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(pa,""):n).replace(qa,"$1").replace(ra,"$1;"),n="function("+(r||"obj")+") {\n"+(r?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var s=Yh(function(){return Rf(j,p+"return "+n).apply(A,k)});if(s.source=n,Ee(s))throw s;return s}function tf(a,b,c){var d=a;return(a=i(a))?(c?$c(d,b,c):null==b)?a.slice(w(a),x(a)+1):(b+="",a.slice(j(a,b),k(a,b)+1)):a}function uf(a,b,c){var d=a;return a=i(a),a?(c?$c(d,b,c):null==b)?a.slice(w(a)):a.slice(j(a,b+"")):a;
}function vf(a,b,c){var d=a;return a=i(a),a?(c?$c(d,b,c):null==b)?a.slice(0,x(a)+1):a.slice(0,k(a,b+"")+1):a}function wf(a,b,c){c&&$c(a,b,c)&&(b=A);var d=L,e=M;if(null!=b)if(He(b)){var f="separator"in b?b.separator:f;d="length"in b?+b.length||0:d,e="omission"in b?i(b.omission):e}else d=+b||0;if(a=i(a),d>=a.length)return a;var g=d-e.length;if(g<1)return e;var h=a.slice(0,g);if(null==f)return h+e;if(Oe(f)){if(a.slice(g).search(f)){var j,k,l=a.slice(0,g);for(f.global||(f=Vf(f.source,(Ha.exec(f)||"")+"g")),f.lastIndex=0;j=f.exec(l);)k=j.index;h=h.slice(0,null==k?g:k)}}else if(a.indexOf(f,g)!=g){var m=h.lastIndexOf(f);m>-1&&(h=h.slice(0,m))}return h+e}function xf(a){return a=i(a),a&&ua.test(a)?a.replace(sa,y):a}function yf(a,b,c){return c&&$c(a,b,c)&&(b=A),a=i(a),a.match(b||Oa)||[]}function zf(a,b,c){return c&&$c(a,b,c)&&(b=A),s(a)?Cf(a):ub(a,b)}function Af(a){return function(){return a}}function Bf(a){return a}function Cf(a){return Nb(vb(a,!0))}function Df(a,b){return Ob(a,vb(b,!0))}function Ef(a,b,c){if(null==c){var d=He(b),e=d?Nh(b):A,f=e&&e.length?Hb(b,e):A;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Hb(b,Nh(b)));var g=!0,h=-1,i=Ge(a),j=f.length;c===!1?g=!1:He(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=ab(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,jb([this.value()],arguments))}}(l))}return a}function Ff(){return db._=dg,this}function Gf(){}function Hf(a){return _c(a)?Rb(a):Sb(a)}function If(a){return function(b){return Ib(a,ld(b),b+"")}}function Jf(a,b,c){c&&$c(a,b,c)&&(b=c=A),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=vg(pg((b-a)/(c||1)),0),f=Of(e);++d<e;)f[d]=a,a+=c;return f}function Kf(a,b,c){if(a=rg(a),a<1||!tg(a))return[];var d=-1,e=Of(wg(a,Cg));for(b=fc(b,c,1);++d<a;)d<Cg?e[d]=b(d):b(d);return e}function Lf(a){var b=++bg;return i(a)+b}function Mf(a,b){return(+a||0)+(+b||0)}function Nf(a,b,c){return c&&$c(a,b,c)&&(b=A),b=Oc(b,c,3),1==b.length?nb(Ch(a)?a:jd(a),b):$b(a,b)}a=a?eb.defaults(db.Object(),a,eb.pick(db,Pa)):db;var Of=a.Array,Pf=a.Date,Qf=a.Error,Rf=a.Function,Sf=a.Math,Tf=a.Number,Uf=a.Object,Vf=a.RegExp,Wf=a.String,Xf=a.TypeError,Yf=Of.prototype,Zf=Uf.prototype,$f=Wf.prototype,_f=Rf.prototype.toString,ag=Zf.hasOwnProperty,bg=0,cg=Zf.toString,dg=db._,eg=Vf("^"+_f.call(ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fg=a.ArrayBuffer,gg=a.clearTimeout,hg=a.parseFloat,ig=Sf.pow,jg=Zf.propertyIsEnumerable,kg=Sc(a,"Set"),lg=a.setTimeout,mg=Yf.splice,ng=a.Uint8Array,og=Sc(a,"WeakMap"),pg=Sf.ceil,qg=Sc(Uf,"create"),rg=Sf.floor,sg=Sc(Of,"isArray"),tg=a.isFinite,ug=Sc(Uf,"keys"),vg=Sf.max,wg=Sf.min,xg=Sc(Pf,"now"),yg=a.parseInt,zg=Sf.random,Ag=Tf.NEGATIVE_INFINITY,Bg=Tf.POSITIVE_INFINITY,Cg=4294967295,Dg=Cg-1,Eg=Cg>>>1,Fg=9007199254740991,Gg=og&&new og,Hg={};b.support={};b.templateSettings={escape:wa,evaluate:xa,interpolate:ya,variable:"",imports:{_:b}};var Ig=function(){function a(){}return function(b){if(He(b)){a.prototype=b;var c=new a;a.prototype=A}return c||{}}}(),Jg=lc(Fb),Kg=lc(Gb,!0),Lg=mc(),Mg=mc(!0),Ng=Gg?function(a,b){return Gg.set(a,b),a}:Bf,Og=Gg?function(a){return Gg.get(a)}:Gf,Pg=Rb("length"),Qg=function(){var a=0,b=0;return function(c,d){var e=oh(),f=O-(e-b);if(b=e,f>0){if(++a>=N)return c}else a=0;return Ng(c,d)}}(),Rg=qe(function(a,b){return s(a)&&Yc(a)?xb(a,Db(b,!1,!0)):[]}),Sg=vc(),Tg=vc(!0),Ug=qe(function(a){for(var b=a.length,c=b,d=Of(l),e=Qc(),f=e==g,h=[];c--;){var i=a[c]=Yc(i=a[c])?i:[];d[c]=f&&i.length>=120?oc(c&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=d[0];a:for(;++k<l;)if(i=j[k],(m?Za(m,i):e(h,i,0))<0){for(var c=b;--c;){var n=d[c];if((n?Za(n,i):e(a[c],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Vg=qe(function(a,b){b=Db(b);var c=sb(a,b);return Tb(a,b.sort(e)),c}),Wg=Jc(),Xg=Jc(!0),Yg=qe(function(a){return _b(Db(a,!1,!0))}),Zg=qe(function(a,b){return Yc(a)?xb(a,b):[]}),$g=qe(Kd),_g=qe(function(a){var b=a.length,c=b>2?a[b-2]:A,d=b>1?a[b-1]:A;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):A,d=A),a.length=b,Ld(a,c,d)}),ah=qe(function(a){return a=Db(a),this.thru(function(b){return _a(Ch(b)?b:[kd(b)],a)})}),bh=qe(function(a,b){return sb(a,Db(b))}),ch=jc(function(a,b,c){ag.call(a,c)?++a[c]:a[c]=1}),dh=uc(Jg),eh=uc(Kg,!0),fh=yc(bb,Jg),gh=yc(cb,Kg),hh=jc(function(a,b,c){ag.call(a,c)?a[c].push(b):a[c]=[b]}),ih=jc(function(a,b,c){a[c]=b}),jh=qe(function(a,b,c){var d=-1,e="function"==typeof b,f=_c(b),g=Yc(a)?Of(a.length):[];return Jg(a,function(a){var h=e?b:f&&null!=a?a[b]:A;g[++d]=h?h.apply(a,c):Xc(a,b,c)}),g}),kh=jc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),lh=Ec(kb,Jg),mh=Ec(lb,Kg),nh=qe(function(a,b){if(null==a)return[];var c=b[2];return c&&$c(b[0],b[1],c)&&(b.length=1),Zb(a,Db(b),[])}),oh=xg||function(){return(new Pf).getTime()},ph=qe(function(a,b,c){var d=C;if(c.length){var e=u(c,ph.placeholder);d|=H}return Kc(a,d,b,c,e)}),qh=qe(function(a,b){b=b.length?Db(b):Xe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Kc(a[e],C,a)}return a}),rh=qe(function(a,b,c){var d=C|D;if(c.length){var e=u(c,rh.placeholder);d|=H}return Kc(b,d,a,c,e)}),sh=rc(F),th=rc(G),uh=qe(function(a,b){return wb(a,1,b)}),vh=qe(function(a,b,c){return wb(a,b,c)}),wh=xc(),xh=xc(!0),yh=qe(function(a,b){if(b=Db(b),"function"!=typeof a||!fb(b,h))throw new Xf(S);var c=b.length;return qe(function(d){for(var e=wg(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),zh=Dc(H),Ah=Dc(I),Bh=qe(function(a,b){return Kc(a,K,A,A,A,Db(b))}),Ch=sg||function(a){return s(a)&&bd(a.length)&&cg.call(a)==V},Dh=kc(Pb),Eh=kc(function(a,b,c){return c?qb(a,b,c):rb(a,b)}),Fh=sc(Eh,ob),Gh=sc(Dh,ed),Hh=wc(Fb),Ih=wc(Gb),Jh=zc(Lg),Kh=zc(Mg),Lh=Ac(Fb),Mh=Ac(Gb),Nh=ug?function(a){var b=null==a?A:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Yc(a)?id(a):He(a)?ug(a):[]}:id,Oh=Bc(!0),Ph=Bc(),Qh=qe(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=ib(Db(b),Wf);return fd(a,xb(_e(a),b))}var c=fc(b[0],b[1],3);return gd(a,function(a,b,d){return!c(a,b,d)})}),Rh=qe(function(a,b){return null==a?{}:"function"==typeof b[0]?gd(a,fc(b[0],b[1],3)):fd(a,Db(b))}),Sh=pc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Th=pc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Uh=Cc(),Vh=Cc(!0),Wh=pc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Xh=pc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Yh=qe(function(a,b){try{return a.apply(A,b)}catch(c){return Ee(c)?c:new Qf(c)}}),Zh=qe(function(a,b){return function(c){return Xc(c,a,b)}}),$h=qe(function(a,b){return function(c){return Xc(a,c,b)}}),_h=Ic("ceil"),ai=Ic("floor"),bi=tc(we,Ag),ci=tc(Se,Bg),di=Ic("round");return b.prototype=c.prototype,d.prototype=Ig(c.prototype),d.prototype.constructor=d,t.prototype=Ig(c.prototype),t.prototype.constructor=t,Ta.prototype["delete"]=Ua,Ta.prototype.get=Va,Ta.prototype.has=Wa,Ta.prototype.set=Xa,Ya.prototype.push=$a,ne.Cache=Ta,b.after=je,b.ary=ke,b.assign=Eh,b.at=bh,b.before=le,b.bind=ph,b.bindAll=qh,b.bindKey=rh,b.callback=zf,b.chain=Od,b.chunk=nd,b.compact=od,b.constant=Af,b.countBy=ch,b.create=We,b.curry=sh,b.curryRight=th,b.debounce=me,b.defaults=Fh,b.defaultsDeep=Gh,b.defer=uh,b.delay=vh,b.difference=Rg,b.drop=pd,b.dropRight=qd,b.dropRightWhile=rd,b.dropWhile=sd,b.fill=td,b.filter=Yd,b.flatten=vd,b.flattenDeep=wd,b.flow=wh,b.flowRight=xh,b.forEach=fh,b.forEachRight=gh,b.forIn=Jh,b.forInRight=Kh,b.forOwn=Lh,b.forOwnRight=Mh,b.functions=Xe,b.groupBy=hh,b.indexBy=ih,b.initial=yd,b.intersection=Ug,b.invert=$e,b.invoke=jh,b.keys=Nh,b.keysIn=_e,b.map=_d,b.mapKeys=Oh,b.mapValues=Ph,b.matches=Cf,b.matchesProperty=Df,b.memoize=ne,b.merge=Dh,b.method=Zh,b.methodOf=$h,b.mixin=Ef,b.modArgs=yh,b.negate=oe,b.omit=Qh,b.once=pe,b.pairs=af,b.partial=zh,b.partialRight=Ah,b.partition=kh,b.pick=Rh,b.pluck=ae,b.property=Hf,b.propertyOf=If,b.pull=Bd,b.pullAt=Vg,b.range=Jf,b.rearg=Bh,b.reject=be,b.remove=Cd,b.rest=Dd,b.restParam=qe,b.set=cf,b.shuffle=de,b.slice=Ed,b.sortBy=ge,b.sortByAll=nh,b.sortByOrder=he,b.spread=re,b.take=Fd,b.takeRight=Gd,b.takeRightWhile=Hd,b.takeWhile=Id,b.tap=Pd,b.throttle=se,b.thru=Qd,b.times=Kf,b.toArray=Ue,b.toPlainObject=Ve,b.transform=df,b.union=Yg,b.uniq=Jd,b.unzip=Kd,b.unzipWith=Ld,b.values=ef,b.valuesIn=ff,b.where=ie,b.without=Zg,b.wrap=te,b.xor=Md,b.zip=$g,b.zipObject=Nd,b.zipWith=_g,b.backflow=xh,b.collect=_d,b.compose=xh,b.each=fh,b.eachRight=gh,b.extend=Eh,b.iteratee=zf,b.methods=Xe,b.object=Nd,b.select=Yd,b.tail=Dd,b.unique=Jd,Ef(b,b),b.add=Mf,b.attempt=Yh,b.camelCase=Sh,b.capitalize=jf,b.ceil=_h,b.clone=ue,b.cloneDeep=ve,b.deburr=kf,b.endsWith=lf,b.escape=mf,b.escapeRegExp=nf,b.every=Xd,b.find=dh,b.findIndex=Sg,b.findKey=Hh,b.findLast=eh,b.findLastIndex=Tg,b.findLastKey=Ih,b.findWhere=Zd,b.first=ud,b.floor=ai,b.get=Ye,b.gt=we,b.gte=xe,b.has=Ze,b.identity=Bf,b.includes=$d,b.indexOf=xd,b.inRange=gf,b.isArguments=ye,b.isArray=Ch,b.isBoolean=ze,b.isDate=Ae,b.isElement=Be,b.isEmpty=Ce,b.isEqual=De,b.isError=Ee,b.isFinite=Fe,b.isFunction=Ge,b.isMatch=Ie,b.isNaN=Je,b.isNative=Ke,b.isNull=Le,b.isNumber=Me,b.isObject=He,b.isPlainObject=Ne,b.isRegExp=Oe,b.isString=Pe,b.isTypedArray=Qe,b.isUndefined=Re,b.kebabCase=Th,b.last=zd,b.lastIndexOf=Ad,b.lt=Se,b.lte=Te,b.max=bi,b.min=ci,b.noConflict=Ff,b.noop=Gf,b.now=oh,b.pad=of,b.padLeft=Uh,b.padRight=Vh,b.parseInt=pf,b.random=hf,b.reduce=lh,b.reduceRight=mh,b.repeat=qf,b.result=bf,b.round=di,b.runInContext=z,b.size=ee,b.snakeCase=Wh,b.some=fe,b.sortedIndex=Wg,b.sortedLastIndex=Xg,b.startCase=Xh,b.startsWith=rf,b.sum=Nf,b.template=sf,b.trim=tf,b.trimLeft=uf,b.trimRight=vf,b.trunc=wf,b.unescape=xf,b.uniqueId=Lf,b.words=yf,b.all=Xd,b.any=fe,b.contains=$d,b.eq=De,b.detect=dh,b.foldl=lh,b.foldr=mh,b.head=ud,b.include=$d,b.inject=lh,Ef(b,function(){var a={};return Fb(b,function(c,d){b.prototype[d]||(a[d]=c)}),a}(),!1),b.sample=ce,b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ce(b,a)}):ce(this.value())},b.VERSION=B,bb(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),bb(["drop","take"],function(a,b){t.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new t(this);c=null==c?1:vg(rg(c)||0,0);var e=this.clone();return d?e.__takeCount__=wg(e.__takeCount__,c):e.__views__.push({size:c,type:a+(e.__dir__<0?"Right":"")}),e},t.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),bb(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=R;t.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:Oc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),bb(["first","last"],function(a,b){var c="take"+(b?"Right":"");t.prototype[a]=function(){return this[c](1).value()[0]}}),bb(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");t.prototype[a]=function(){return this.__filtered__?new t(this):this[c](1)}}),bb(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Nb:Hf;t.prototype[a]=function(a){return this[c](d(a))}}),t.prototype.compact=function(){return this.filter(Bf)},t.prototype.reject=function(a,b){return a=Oc(a,b,1),this.filter(function(b){return!a(b)})},t.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(a>0||b<0)?new t(c):(a<0?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==A&&(b=+b||0,c=b<0?c.dropRight(-b):c.take(b-a)),c)},t.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},t.prototype.toArray=function(){return this.take(Bg)},Fb(t.prototype,function(a,c){var e=/^(?:filter|map|reject)|While$/.test(c),f=/^(?:first|last)$/.test(c),g=b[f?"take"+("last"==c?"Right":""):c];g&&(b.prototype[c]=function(){var b=f?[1]:arguments,c=this.__chain__,h=this.__wrapped__,i=!!this.__actions__.length,j=h instanceof t,k=b[0],l=j||Ch(h);l&&e&&"function"==typeof k&&1!=k.length&&(j=l=!1);var m=function(a){return f&&c?g(a,1)[0]:g.apply(A,jb([a],b))},n={func:Qd,args:[m],thisArg:A},o=j&&!i;if(f&&!c)return o?(h=h.clone(),h.__actions__.push(n),a.call(h)):g.call(A,this.value())[0];if(!f&&l){h=o?h:new t(this);var p=a.apply(h,b);return p.__actions__.push(n),new d(p,c)}return this.thru(m)})}),bb(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var c=(/^(?:replace|split)$/.test(a)?$f:Yf)[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?c.apply(this.value(),a):this[d](function(b){return c.apply(b,a)})}}),Fb(t.prototype,function(a,c){var d=b[c];if(d){var e=d.name,f=Hg[e]||(Hg[e]=[]);f.push({name:c,func:d})}}),Hg[Fc(A,D).name]=[{name:"wrapper",func:A}],t.prototype.clone=$,t.prototype.reverse=ca,t.prototype.value=ea,b.prototype.chain=Rd,b.prototype.commit=Sd,b.prototype.concat=ah,b.prototype.plant=Td,b.prototype.reverse=Ud,b.prototype.toString=Vd,b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=Wd,b.prototype.collect=b.prototype.map,b.prototype.head=b.prototype.first,b.prototype.select=b.prototype.filter,b.prototype.tail=b.prototype.rest,b}var A,B="3.10.1",C=1,D=2,E=4,F=8,G=16,H=32,I=64,J=128,K=256,L=30,M="...",N=150,O=16,P=200,Q=1,R=2,S="Expected a function",T="__lodash_placeholder__",U="[object Arguments]",V="[object Array]",W="[object Boolean]",X="[object Date]",Y="[object Error]",Z="[object Function]",$="[object Map]",_="[object Number]",aa="[object Object]",ba="[object RegExp]",ca="[object Set]",da="[object String]",ea="[object WeakMap]",fa="[object ArrayBuffer]",ga="[object Float32Array]",ha="[object Float64Array]",ia="[object Int8Array]",ja="[object Int16Array]",ka="[object Int32Array]",la="[object Uint8Array]",ma="[object Uint8ClampedArray]",na="[object Uint16Array]",oa="[object Uint32Array]",pa=/\b__p \+= '';/g,qa=/\b(__p \+=) '' \+/g,ra=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sa=/&(?:amp|lt|gt|quot|#39|#96);/g,ta=/[&<>"'`]/g,ua=RegExp(sa.source),va=RegExp(ta.source),wa=/<%-([\s\S]+?)%>/g,xa=/<%([\s\S]+?)%>/g,ya=/<%=([\s\S]+?)%>/g,za=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Aa=/^\w*$/,Ba=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ca=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Da=RegExp(Ca.source),Ea=/[\u0300-\u036f\ufe20-\ufe23]/g,Fa=/\\(\\)?/g,Ga=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ha=/\w*$/,Ia=/^0[xX]/,Ja=/^\[object .+?Constructor\]$/,Ka=/^\d+$/,La=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ma=/($^)/,Na=/['\n\r\u2028\u2029\\]/g,Oa=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Pa=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Qa=-1,Ra={};Ra[ga]=Ra[ha]=Ra[ia]=Ra[ja]=Ra[ka]=Ra[la]=Ra[ma]=Ra[na]=Ra[oa]=!0,Ra[U]=Ra[V]=Ra[fa]=Ra[W]=Ra[X]=Ra[Y]=Ra[Z]=Ra[$]=Ra[_]=Ra[aa]=Ra[ba]=Ra[ca]=Ra[da]=Ra[ea]=!1;var Sa={};Sa[U]=Sa[V]=Sa[fa]=Sa[W]=Sa[X]=Sa[ga]=Sa[ha]=Sa[ia]=Sa[ja]=Sa[ka]=Sa[_]=Sa[aa]=Sa[ba]=Sa[da]=Sa[la]=Sa[ma]=Sa[na]=Sa[oa]=!0,Sa[Y]=Sa[Z]=Sa[$]=Sa[ca]=Sa[ea]=!1;var Ta={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Va={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Wa={"function":!0,object:!0},Xa={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ya={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Za=Wa[typeof d]&&d&&!d.nodeType&&d,$a=Wa[typeof c]&&c&&!c.nodeType&&c,_a=Za&&$a&&"object"==typeof b&&b&&b.Object&&b,ab=Wa[typeof self]&&self&&self.Object&&self,bb=Wa[typeof window]&&window&&window.Object&&window,cb=$a&&$a.exports===Za&&Za,db=_a||bb!==(this&&this.window)&&bb||ab||this,eb=z();"function"==typeof a&&"object"==typeof a.amd&&a.amd?(db._=eb,a(function(){return eb})):Za&&$a?cb?($a.exports=eb)._=eb:Za._=eb:db._=eb}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(b,c,d){!function(d,e){"object"==typeof c&&c.exports&&"function"==typeof b?c.exports=e():"function"==typeof a&&"object"==typeof a.amd?a(e):d.log=e()}(this,function(){function a(a){return typeof console!==i&&(void 0!==console[a]?b(console,a):void 0!==console.log?b(console,"log"):h)}function b(a,b){var c=a[b];if("function"==typeof c.bind)return c.bind(a);try{return Function.prototype.bind.call(c,a)}catch(d){return function(){return Function.prototype.apply.apply(c,[a,arguments])}}}function c(a,b){return function(){typeof console!==i&&(d(b),g[a].apply(g,arguments))}}function d(a){for(var b=0;b<j.length;b++){var c=j[b];g[c]=b<a?h:g.methodFactory(c,a)}}function e(a){var b=(j[a]||"silent").toUpperCase();try{return void(window.localStorage.loglevel=b)}catch(c){}try{window.document.cookie="loglevel="+b+";"}catch(c){}}function f(){var a;try{a=window.localStorage.loglevel}catch(b){}if(typeof a===i)try{a=/loglevel=([^;]+)/.exec(window.document.cookie)[1]}catch(b){}void 0===g.levels[a]&&(a="WARN"),g.setLevel(g.levels[a],!1)}var g={},h=function(){},i="undefined",j=["trace","debug","info","warn","error"];g.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},g.methodFactory=function(b,d){return a(b)||c(b,d)},g.setLevel=function(a,b){if("string"==typeof a&&void 0!==g.levels[a.toUpperCase()]&&(a=g.levels[a.toUpperCase()]),!("number"==typeof a&&a>=0&&a<=g.levels.SILENT))throw"log.setLevel() called with invalid level: "+a;if(b!==!1&&e(a),d(a),typeof console===i&&a<g.levels.SILENT)return"No console available for logging"},g.enableAll=function(a){g.setLevel(g.levels.TRACE,a)},g.disableAll=function(a){g.setLevel(g.levels.SILENT,a)};var k=typeof window!==i?window.log:void 0;return g.noConflict=function(){return typeof window!==i&&window.log===g&&(window.log=k),g},f(),g})},{}],8:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?c.exports=e():"function"==typeof a&&a.amd?a(e):b.moment=e()}(this,function(){"use strict";function a(){return Jc.apply(null,arguments)}function d(a){Jc=a}function e(a){return"[object Array]"===Object.prototype.toString.call(a)}function f(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function g(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function h(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function i(a,b){for(var c in b)h(b,c)&&(a[c]=b[c]);return h(b,"toString")&&(a.toString=b.toString),h(b,"valueOf")&&(a.valueOf=b.valueOf),a}function j(a,b,c,d){return Ea(a,b,c,d,!0).utc()}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(a){return null==a._pf&&(a._pf=k()),a._pf}function m(a){if(null==a._isValid){var b=l(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function n(a){var b=j(NaN);return null!=a?i(l(b),a):l(b).userInvalidated=!0,b}function o(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=l(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Lc.length>0)for(c in Lc)d=Lc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function p(b){o(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Mc===!1&&(Mc=!0,a.updateOffset(this),Mc=!1)}function q(a){return a instanceof p||null!=a&&null!=a._isAMomentObject}function r(a){return a<0?Math.ceil(a):Math.floor(a)}function s(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=r(b)),c}function t(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&s(a[d])!==s(b[d]))&&g++;return g+f}function u(){}function v(a){return a?a.toLowerCase().replace("_","-"):a}function w(a){for(var b,c,d,e,f=0;f<a.length;){for(e=v(a[f]).split("-"),b=e.length,c=v(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=x(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&t(e,c,!0)>=b-1)break;b--}f++}return null}function x(a){var d=null;if(!Nc[a]&&"undefined"!=typeof c&&c&&c.exports)try{d=Kc._abbr,b("./locale/"+a),y(d)}catch(e){}return Nc[a]}function y(a,b){var c;return a&&(c="undefined"==typeof b?A(a):z(a,b),c&&(Kc=c)),Kc._abbr}function z(a,b){return null!==b?(b.abbr=a,Nc[a]=Nc[a]||new u,Nc[a].set(b),y(a),Nc[a]):(delete Nc[a],null)}function A(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Kc;if(!e(a)){if(b=x(a))return b;a=[a]}return w(a)}function B(a,b){var c=a.toLowerCase();Oc[c]=Oc[c+"s"]=Oc[b]=a}function C(a){return"string"==typeof a?Oc[a]||Oc[a.toLowerCase()]:void 0}function D(a){var b,c,d={};for(c in a)h(a,c)&&(b=C(c),b&&(d[b]=a[c]));return d}function E(b,c){return function(d){return null!=d?(G(this,b,d),a.updateOffset(this,c),this):F(this,b)}}function F(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function G(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function H(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=C(a),"function"==typeof this[a])return this[a](b);return this}function I(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function J(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Sc[a]=e),b&&(Sc[b[0]]=function(){return I(e.apply(this,arguments),b[1],b[2])}),c&&(Sc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function K(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function L(a){var b,c,d=a.match(Pc);for(b=0,c=d.length;b<c;b++)Sc[d[b]]?d[b]=Sc[d[b]]:d[b]=K(d[b]);return function(e){var f="";for(b=0;b<c;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function M(a,b){return a.isValid()?(b=N(b,a.localeData()),Rc[b]=Rc[b]||L(b),Rc[b](a)):a.localeData().invalidDate()}function N(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Qc.lastIndex=0;d>=0&&Qc.test(a);)a=a.replace(Qc,c),Qc.lastIndex=0,d-=1;return a}function O(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function P(a,b,c){fd[a]=O(b)?b:function(a){return a&&c?c:b}}function Q(a,b){return h(fd,a)?fd[a](b._strict,b._locale):new RegExp(R(a))}function R(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function S(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=s(a)}),c=0;c<a.length;c++)gd[a[c]]=d}function T(a,b){S(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function U(a,b,c){null!=b&&h(gd,a)&&gd[a](b,c._a,c,a)}function V(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function W(a){return this._months[a.month()]}function X(a){return this._monthsShort[a.month()]}function Y(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=j([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function Z(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),V(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function $(b){return null!=b?(Z(this,b),a.updateOffset(this,!0),this):F(this,"Month")}function _(){return V(this.year(),this.month())}function aa(a){var b,c=a._a;return c&&l(a).overflow===-2&&(b=c[id]<0||c[id]>11?id:c[jd]<1||c[jd]>V(c[hd],c[id])?jd:c[kd]<0||c[kd]>24||24===c[kd]&&(0!==c[ld]||0!==c[md]||0!==c[nd])?kd:c[ld]<0||c[ld]>59?ld:c[md]<0||c[md]>59?md:c[nd]<0||c[nd]>999?nd:-1,l(a)._overflowDayOfYear&&(b<hd||b>jd)&&(b=jd),l(a).overflow=b),a}function ba(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function ca(a,b){var c=!0;return i(function(){return c&&(ba(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function da(a,b){qd[a]||(ba(b),qd[a]=!0)}function ea(a){var b,c,d=a._i,e=rd.exec(d);if(e){for(l(a).iso=!0,b=0,c=sd.length;b<c;b++)if(sd[b][1].exec(d)){a._f=sd[b][0];break}for(b=0,c=td.length;b<c;b++)if(td[b][1].exec(d)){a._f+=(e[6]||" ")+td[b][0];break}d.match(cd)&&(a._f+="Z"),xa(a)}else a._isValid=!1}function fa(b){var c=ud.exec(b._i);return null!==c?void(b._d=new Date((+c[1]))):(ea(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ga(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<1970&&h.setFullYear(a),h}function ha(a){var b=new Date(Date.UTC.apply(null,arguments));return a<1970&&b.setUTCFullYear(a),b}function ia(a){return ja(a)?366:365}function ja(a){return a%4===0&&a%100!==0||a%400===0}function ka(){return ja(this.year())}function la(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),f<e-7&&(f+=7),d=Fa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ma(a){return la(a,this._week.dow,this._week.doy).week}function na(){return this._week.dow}function oa(){return this._week.doy}function pa(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function qa(a){var b=la(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function ra(a,b,c,d,e){var f,g=6+e-d,h=ha(a,0,1+g),i=h.getUTCDay();return i<e&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ia(a-1)+f}}function sa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ta(a,b,c){return null!=a?a:null!=b?b:c}function ua(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function va(a){var b,c,d,e,f=[];if(!a._d){for(d=ua(a),a._w&&null==a._a[jd]&&null==a._a[id]&&wa(a),a._dayOfYear&&(e=ta(a._a[hd],d[hd]),a._dayOfYear>ia(e)&&(l(a)._overflowDayOfYear=!0),c=ha(e,0,a._dayOfYear),a._a[id]=c.getUTCMonth(),a._a[jd]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[kd]&&0===a._a[ld]&&0===a._a[md]&&0===a._a[nd]&&(a._nextDay=!0,a._a[kd]=0),a._d=(a._useUTC?ha:ga).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[kd]=24)}}function wa(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ta(b.GG,a._a[hd],la(Fa(),1,4).year),d=ta(b.W,1),e=ta(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ta(b.gg,a._a[hd],la(Fa(),f,g).year),d=ta(b.w,1),null!=b.d?(e=b.d,e<f&&++d):e=null!=b.e?b.e+f:f),h=ra(c,d,e,g,f),a._a[hd]=h.year,a._dayOfYear=h.dayOfYear}function xa(b){if(b._f===a.ISO_8601)return void ea(b);b._a=[],l(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=N(b._f,b._locale).match(Pc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(Q(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&l(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Sc[f]?(d?l(b).empty=!1:l(b).unusedTokens.push(f),U(f,d,b)):b._strict&&!d&&l(b).unusedTokens.push(f);l(b).charsLeftOver=i-j,h.length>0&&l(b).unusedInput.push(h),l(b).bigHour===!0&&b._a[kd]<=12&&b._a[kd]>0&&(l(b).bigHour=void 0),b._a[kd]=ya(b._locale,b._a[kd],b._meridiem),va(b),aa(b)}function ya(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function za(a){var b,c,d,e,f;if(0===a._f.length)return l(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=o({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],xa(b),m(b)&&(f+=l(b).charsLeftOver,f+=10*l(b).unusedTokens.length,l(b).score=f,(null==d||f<d)&&(d=f,c=b));i(a,c||b)}function Aa(a){if(!a._d){var b=D(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],va(a)}}function Ba(a){var b=new p(aa(Ca(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Ca(a){var b=a._i,c=a._f;return a._locale=a._locale||A(a._l),null===b||void 0===c&&""===b?n({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),q(b)?new p(aa(b)):(e(c)?za(a):c?xa(a):f(b)?a._d=b:Da(a),a))}function Da(b){var c=b._i;void 0===c?b._d=new Date:f(c)?b._d=new Date((+c)):"string"==typeof c?fa(b):e(c)?(b._a=g(c.slice(0),function(a){return parseInt(a,10)}),va(b)):"object"==typeof c?Aa(b):"number"==typeof c?b._d=new Date(c):a.createFromInputFallback(b)}function Ea(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Ba(f)}function Fa(a,b,c,d){return Ea(a,b,c,d,!1)}function Ga(a,b){var c,d;if(1===b.length&&e(b[0])&&(b=b[0]),!b.length)return Fa();for(c=b[0],d=1;d<b.length;++d)b[d].isValid()&&!b[d][a](c)||(c=b[d]);return c}function Ha(){var a=[].slice.call(arguments,0);return Ga("isBefore",a)}function Ia(){var a=[].slice.call(arguments,0);return Ga("isAfter",a)}function Ja(a){var b=D(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=A(),this._bubble()}function Ka(a){return a instanceof Ja}function La(a,b){J(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+I(~~(a/60),2)+b+I(~~a%60,2)})}function Ma(a){var b=(a||"").match(cd)||[],c=b[b.length-1]||[],d=(c+"").match(zd)||["-",0,0],e=+(60*d[1])+s(d[2]);return"+"===d[0]?e:-e}function Na(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(q(b)||f(b)?+b:+Fa(b))-+d,d._d.setTime(+d._d+e),a.updateOffset(d,!1),d):Fa(b).local()}function Oa(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Pa(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ma(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Oa(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?db(this,$a(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Oa(this)}function Qa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),
this):-this.utcOffset()}function Ra(a){return this.utcOffset(0,a)}function Sa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Oa(this),"m")),this}function Ta(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ma(this._i)),this}function Ua(a){return a=a?Fa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Va(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wa(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(o(a,this),a=Ca(a),a._a){var b=a._isUTC?j(a._a):Fa(a._a);this._isDSTShifted=this.isValid()&&t(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Xa(){return!this._isUTC}function Ya(){return this._isUTC}function Za(){return this._isUTC&&0===this._offset}function $a(a,b){var c,d,e,f=a,g=null;return Ka(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=Ad.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:s(g[jd])*c,h:s(g[kd])*c,m:s(g[ld])*c,s:s(g[md])*c,ms:s(g[nd])*c}):(g=Bd.exec(a))?(c="-"===g[1]?-1:1,f={y:_a(g[2],c),M:_a(g[3],c),d:_a(g[4],c),h:_a(g[5],c),m:_a(g[6],c),s:_a(g[7],c),w:_a(g[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=bb(Fa(f.from),Fa(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Ja(f),Ka(a)&&h(a,"_locale")&&(d._locale=a._locale),d}function _a(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function ab(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function bb(a,b){var c;return b=Na(b,a),a.isBefore(b)?c=ab(a,b):(c=ab(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function cb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(da(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=$a(c,d),db(this,e,a),this}}function db(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e||e,f&&b._d.setTime(+b._d+f*d),g&&G(b,"Date",F(b,"Date")+g*d),h&&Z(b,F(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function eb(a,b){var c=a||Fa(),d=Na(c,this).startOf("day"),e=this.diff(d,"days",!0),f=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Fa(c)))}function fb(){return new p(this)}function gb(a,b){var c;return b=C("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=q(a)?a:Fa(a),+this>+a):(c=q(a)?+a:+Fa(a),c<+this.clone().startOf(b))}function hb(a,b){var c;return b=C("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=q(a)?a:Fa(a),+this<+a):(c=q(a)?+a:+Fa(a),+this.clone().endOf(b)<c)}function ib(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function jb(a,b){var c;return b=C(b||"millisecond"),"millisecond"===b?(a=q(a)?a:Fa(a),+this===+a):(c=+Fa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function kb(a,b,c){var d,e,f=Na(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=C(b),"year"===b||"month"===b||"quarter"===b?(e=lb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:r(e)}function lb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function mb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function nb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():M(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ob(b){var c=M(this,b||a.defaultFormat);return this.localeData().postformat(c)}function pb(a,b){return this.isValid()?$a({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.from(Fa(),a)}function rb(a,b){return this.isValid()?$a({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function sb(a){return this.to(Fa(),a)}function tb(a){var b;return void 0===a?this._locale._abbr:(b=A(a),null!=b&&(this._locale=b),this)}function ub(){return this._locale}function vb(a){switch(a=C(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function wb(a){return a=C(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function xb(){return+this._d-6e4*(this._offset||0)}function yb(){return Math.floor(+this/1e3)}function zb(){return this._offset?new Date((+this)):this._d}function Ab(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Bb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Cb(){return m(this)}function Db(){return i({},l(this))}function Eb(){return l(this).overflow}function Fb(a,b){J(0,[a,a.length],0,b)}function Gb(a,b,c){return la(Fa([a,11,31+b-c]),b,c).week}function Hb(a){var b=la(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Ib(a){var b=la(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Jb(){return Gb(this.year(),1,4)}function Kb(){var a=this.localeData()._week;return Gb(this.year(),a.dow,a.doy)}function Lb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Mb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Nb(a){return this._weekdays[a.day()]}function Ob(a){return this._weekdaysShort[a.day()]}function Pb(a){return this._weekdaysMin[a.day()]}function Qb(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;b<7;b++)if(this._weekdaysParse[b]||(c=Fa([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Rb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Mb(a,this.localeData()),this.add(a-b,"d")):b}function Sb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Tb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Ub(a,b){J(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Vb(a,b){return b._meridiemParse}function Wb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Xb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Yb(a,b){b[nd]=s(1e3*("0."+a))}function Zb(){return this._isUTC?"UTC":""}function $b(){return this._isUTC?"Coordinated Universal Time":""}function _b(a){return Fa(1e3*a)}function ac(){return Fa.apply(null,arguments).parseZone()}function bc(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function cc(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function dc(){return this._invalidDate}function ec(a){return this._ordinal.replace("%d",a)}function fc(a){return a}function gc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function hc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function ic(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function jc(a,b,c,d){var e=A(),f=j().set(d,b);return e[c](f,a)}function kc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return jc(a,b,c,e);var f,g=[];for(f=0;f<d;f++)g[f]=jc(a,f,c,e);return g}function lc(a,b){return kc(a,b,"months",12,"month")}function mc(a,b){return kc(a,b,"monthsShort",12,"month")}function nc(a,b){return kc(a,b,"weekdays",7,"day")}function oc(a,b){return kc(a,b,"weekdaysShort",7,"day")}function pc(a,b){return kc(a,b,"weekdaysMin",7,"day")}function qc(){var a=this._data;return this._milliseconds=Yd(this._milliseconds),this._days=Yd(this._days),this._months=Yd(this._months),a.milliseconds=Yd(a.milliseconds),a.seconds=Yd(a.seconds),a.minutes=Yd(a.minutes),a.hours=Yd(a.hours),a.months=Yd(a.months),a.years=Yd(a.years),this}function rc(a,b,c,d){var e=$a(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function sc(a,b){return rc(this,a,b,1)}function tc(a,b){return rc(this,a,b,-1)}function uc(a){return a<0?Math.floor(a):Math.ceil(a)}function vc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*uc(xc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=r(f/1e3),i.seconds=a%60,b=r(a/60),i.minutes=b%60,c=r(b/60),i.hours=c%24,g+=r(c/24),e=r(wc(g)),h+=e,g-=uc(xc(e)),d=r(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function wc(a){return 4800*a/146097}function xc(a){return 146097*a/4800}function yc(a){var b,c,d=this._milliseconds;if(a=C(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+wc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(xc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function zc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*s(this._months/12)}function Ac(a){return function(){return this.as(a)}}function Bc(a){return a=C(a),this[a+"s"]()}function Cc(a){return function(){return this._data[a]}}function Dc(){return r(this.days()/7)}function Ec(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Fc(a,b,c){var d=$a(a).abs(),e=me(d.as("s")),f=me(d.as("m")),g=me(d.as("h")),h=me(d.as("d")),i=me(d.as("M")),j=me(d.as("y")),k=e<ne.s&&["s",e]||1===f&&["m"]||f<ne.m&&["mm",f]||1===g&&["h"]||g<ne.h&&["hh",g]||1===h&&["d"]||h<ne.d&&["dd",h]||1===i&&["M"]||i<ne.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Ec.apply(null,k)}function Gc(a,b){return void 0!==ne[a]&&(void 0===b?ne[a]:(ne[a]=b,!0))}function Hc(a){var b=this.localeData(),c=Fc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Ic(){var a,b,c,d=oe(this._milliseconds)/1e3,e=oe(this._days),f=oe(this._months);a=r(d/60),b=r(a/60),d%=60,a%=60,c=r(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Jc,Kc,Lc=a.momentProperties=[],Mc=!1,Nc={},Oc={},Pc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rc={},Sc={},Tc=/\d/,Uc=/\d\d/,Vc=/\d{3}/,Wc=/\d{4}/,Xc=/[+-]?\d{6}/,Yc=/\d\d?/,Zc=/\d{1,3}/,$c=/\d{1,4}/,_c=/[+-]?\d{1,6}/,ad=/\d+/,bd=/[+-]?\d+/,cd=/Z|[+-]\d\d:?\d\d/gi,dd=/[+-]?\d+(\.\d{1,3})?/,ed=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,fd={},gd={},hd=0,id=1,jd=2,kd=3,ld=4,md=5,nd=6;J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),J("MMMM",0,0,function(a){return this.localeData().months(this,a)}),B("month","M"),P("M",Yc),P("MM",Yc,Uc),P("MMM",ed),P("MMMM",ed),S(["M","MM"],function(a,b){b[id]=s(a)-1}),S(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[id]=e:l(c).invalidMonth=a});var od="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),qd={};a.suppressDeprecationWarnings=!1;var rd=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],td=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ud=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=ca("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),B("year","y"),P("Y",bd),P("YY",Yc,Uc),P("YYYY",$c,Wc),P("YYYYY",_c,Xc),P("YYYYYY",_c,Xc),S(["YYYYY","YYYYYY"],hd),S("YYYY",function(b,c){c[hd]=2===b.length?a.parseTwoDigitYear(b):s(b)}),S("YY",function(b,c){c[hd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return s(a)+(s(a)>68?1900:2e3)};var vd=E("FullYear",!1);J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),P("w",Yc),P("ww",Yc,Uc),P("W",Yc),P("WW",Yc,Uc),T(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=s(a)});var wd={dow:0,doy:6};J("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),P("DDD",Zc),P("DDDD",Vc),S(["DDD","DDDD"],function(a,b,c){c._dayOfYear=s(a)}),a.ISO_8601=function(){};var xd=ca("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Fa.apply(null,arguments);return a<this?this:a}),yd=ca("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Fa.apply(null,arguments);return a>this?this:a});La("Z",":"),La("ZZ",""),P("Z",cd),P("ZZ",cd),S(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ma(a)});var zd=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Ad=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Bd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;$a.fn=Ja.prototype;var Cd=cb(1,"add"),Dd=cb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ed=ca("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Fb("gggg","weekYear"),Fb("ggggg","weekYear"),Fb("GGGG","isoWeekYear"),Fb("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),P("G",bd),P("g",bd),P("GG",Yc,Uc),P("gg",Yc,Uc),P("GGGG",$c,Wc),P("gggg",$c,Wc),P("GGGGG",_c,Xc),P("ggggg",_c,Xc),T(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=s(a)}),T(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),J("Q",0,0,"quarter"),B("quarter","Q"),P("Q",Tc),S("Q",function(a,b){b[id]=3*(s(a)-1)}),J("D",["DD",2],"Do","date"),B("date","D"),P("D",Yc),P("DD",Yc,Uc),P("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),S(["D","DD"],jd),S("Do",function(a,b){b[jd]=s(a.match(Yc)[0],10)});var Fd=E("Date",!0);J("d",0,"do","day"),J("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),J("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),J("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),P("d",Yc),P("e",Yc),P("E",Yc),P("dd",ed),P("ddd",ed),P("dddd",ed),T(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:l(c).invalidWeekday=a}),T(["d","e","E"],function(a,b,c,d){b[d]=s(a)});var Gd="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Hd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Id="Su_Mo_Tu_We_Th_Fr_Sa".split("_");J("H",["HH",2],0,"hour"),J("h",["hh",2],0,function(){return this.hours()%12||12}),Ub("a",!0),Ub("A",!1),B("hour","h"),P("a",Vb),P("A",Vb),P("H",Yc),P("h",Yc),P("HH",Yc,Uc),P("hh",Yc,Uc),S(["H","HH"],kd),S(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),S(["h","hh"],function(a,b,c){b[kd]=s(a),l(c).bigHour=!0});var Jd=/[ap]\.?m?\.?/i,Kd=E("Hours",!0);J("m",["mm",2],0,"minute"),B("minute","m"),P("m",Yc),P("mm",Yc,Uc),S(["m","mm"],ld);var Ld=E("Minutes",!1);J("s",["ss",2],0,"second"),B("second","s"),P("s",Yc),P("ss",Yc,Uc),S(["s","ss"],md);var Md=E("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return 10*this.millisecond()}),J(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),J(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),J(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),J(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),J(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),B("millisecond","ms"),P("S",Zc,Tc),P("SS",Zc,Uc),P("SSS",Zc,Vc);var Nd;for(Nd="SSSS";Nd.length<=9;Nd+="S")P(Nd,ad);for(Nd="S";Nd.length<=9;Nd+="S")S(Nd,Yb);var Od=E("Milliseconds",!1);J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");var Pd=p.prototype;Pd.add=Cd,Pd.calendar=eb,Pd.clone=fb,Pd.diff=kb,Pd.endOf=wb,Pd.format=ob,Pd.from=pb,Pd.fromNow=qb,Pd.to=rb,Pd.toNow=sb,Pd.get=H,Pd.invalidAt=Eb,Pd.isAfter=gb,Pd.isBefore=hb,Pd.isBetween=ib,Pd.isSame=jb,Pd.isValid=Cb,Pd.lang=Ed,Pd.locale=tb,Pd.localeData=ub,Pd.max=yd,Pd.min=xd,Pd.parsingFlags=Db,Pd.set=H,Pd.startOf=vb,Pd.subtract=Dd,Pd.toArray=Ab,Pd.toObject=Bb,Pd.toDate=zb,Pd.toISOString=nb,Pd.toJSON=nb,Pd.toString=mb,Pd.unix=yb,Pd.valueOf=xb,Pd.year=vd,Pd.isLeapYear=ka,Pd.weekYear=Hb,Pd.isoWeekYear=Ib,Pd.quarter=Pd.quarters=Lb,Pd.month=$,Pd.daysInMonth=_,Pd.week=Pd.weeks=pa,Pd.isoWeek=Pd.isoWeeks=qa,Pd.weeksInYear=Kb,Pd.isoWeeksInYear=Jb,Pd.date=Fd,Pd.day=Pd.days=Rb,Pd.weekday=Sb,Pd.isoWeekday=Tb,Pd.dayOfYear=sa,Pd.hour=Pd.hours=Kd,Pd.minute=Pd.minutes=Ld,Pd.second=Pd.seconds=Md,Pd.millisecond=Pd.milliseconds=Od,Pd.utcOffset=Pa,Pd.utc=Ra,Pd.local=Sa,Pd.parseZone=Ta,Pd.hasAlignedHourOffset=Ua,Pd.isDST=Va,Pd.isDSTShifted=Wa,Pd.isLocal=Xa,Pd.isUtcOffset=Ya,Pd.isUtc=Za,Pd.isUTC=Za,Pd.zoneAbbr=Zb,Pd.zoneName=$b,Pd.dates=ca("dates accessor is deprecated. Use date instead.",Fd),Pd.months=ca("months accessor is deprecated. Use month instead",$),Pd.years=ca("years accessor is deprecated. Use year instead",vd),Pd.zone=ca("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Qa);var Qd=Pd,Rd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Sd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Td="Invalid date",Ud="%d",Vd=/\d{1,2}/,Wd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Xd=u.prototype;Xd._calendar=Rd,Xd.calendar=bc,Xd._longDateFormat=Sd,Xd.longDateFormat=cc,Xd._invalidDate=Td,Xd.invalidDate=dc,Xd._ordinal=Ud,Xd.ordinal=ec,Xd._ordinalParse=Vd,Xd.preparse=fc,Xd.postformat=fc,Xd._relativeTime=Wd,Xd.relativeTime=gc,Xd.pastFuture=hc,Xd.set=ic,Xd.months=W,Xd._months=od,Xd.monthsShort=X,Xd._monthsShort=pd,Xd.monthsParse=Y,Xd.week=ma,Xd._week=wd,Xd.firstDayOfYear=oa,Xd.firstDayOfWeek=na,Xd.weekdays=Nb,Xd._weekdays=Gd,Xd.weekdaysMin=Pb,Xd._weekdaysMin=Id,Xd.weekdaysShort=Ob,Xd._weekdaysShort=Hd,Xd.weekdaysParse=Qb,Xd.isPM=Wb,Xd._meridiemParse=Jd,Xd.meridiem=Xb,y("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===s(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=ca("moment.lang is deprecated. Use moment.locale instead.",y),a.langData=ca("moment.langData is deprecated. Use moment.localeData instead.",A);var Yd=Math.abs,Zd=Ac("ms"),$d=Ac("s"),_d=Ac("m"),ae=Ac("h"),be=Ac("d"),ce=Ac("w"),de=Ac("M"),ee=Ac("y"),fe=Cc("milliseconds"),ge=Cc("seconds"),he=Cc("minutes"),ie=Cc("hours"),je=Cc("days"),ke=Cc("months"),le=Cc("years"),me=Math.round,ne={s:45,m:45,h:22,d:26,M:11},oe=Math.abs,pe=Ja.prototype;pe.abs=qc,pe.add=sc,pe.subtract=tc,pe.as=yc,pe.asMilliseconds=Zd,pe.asSeconds=$d,pe.asMinutes=_d,pe.asHours=ae,pe.asDays=be,pe.asWeeks=ce,pe.asMonths=de,pe.asYears=ee,pe.valueOf=zc,pe._bubble=vc,pe.get=Bc,pe.milliseconds=fe,pe.seconds=ge,pe.minutes=he,pe.hours=ie,pe.days=je,pe.weeks=Dc,pe.months=ke,pe.years=le,pe.humanize=Hc,pe.toISOString=Ic,pe.toString=Ic,pe.toJSON=Ic,pe.locale=tb,pe.localeData=ub,pe.toIsoString=ca("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ic),pe.lang=Ed,J("X",0,0,"unix"),J("x",0,0,"valueOf"),P("x",bd),P("X",dd),S("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),S("x",function(a,b,c){c._d=new Date(s(a))}),a.version="2.10.6",d(Fa),a.fn=Qd,a.min=Ha,a.max=Ia,a.utc=j,a.unix=_b,a.months=lc,a.isDate=f,a.locale=y,a.invalid=n,a.duration=$a,a.isMoment=q,a.weekdays=nc,a.parseZone=ac,a.localeData=A,a.isDuration=Ka,a.monthsShort=mc,a.weekdaysMin=pc,a.defineLocale=z,a.weekdaysShort=oc,a.normalizeUnits=C,a.relativeTimeThreshold=Gc;var qe=a;return qe})},{}],9:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],10:[function(a,b,c){!function(){"use strict";var c=a("basejs"),d=c.extend({constructor:function(a,b){if(!(b&&b.loading_image_key&&b.loading_bg_color&&b.loading_text&&b.loading_font))throw"Loading screen is missing a required configuration field.";this.game=a,this.settings=b},show:function(a){this.bgColor=this.game.add.graphics(0,0),this.bgColor.beginFill(this.settings.loading_bg_color),this.bgColor.drawRect(0,0,this.game.world.width,this.game.world.height),this.bgColor.inputEnabled=!0,this.bgColor.endFill(),this.splashImage=this.game.add.sprite(this.game.world.centerX,.45*this.game.world.height,this.settings.loading_image_key),this.splashImage.anchor.setTo(.5,.5);var b=this.settings.loading_text;1==a&&(b=this.settings.clickthrough_text),this.progress=this.game.add.text(this.game.world.centerX,.64*this.game.world.height,b,this.settings.loading_font),this.progress.anchor.setTo(.5,.5)},destroy:function(){this.splashImage.cropEnabled=!1,this.splashImage.destroy(),this.splashImage=null,this.bgColor.destroy(),this.bgColor=null,this.progress.destroy(),this.progress=null,this.game.load.onFileComplete.removeAll()}});b.exports=d}()},{basejs:1}],11:[function(a,b,c){!function(){var c=a("./states/boot.js"),d=a("./states/clickthrough.js"),e=a("./states/preload.js"),f=a("./states/main.js"),g=a("./scorm");b.exports=function(a,b,h){var i={width:b,height:h,renderer:Phaser.CANVAS,parent:a,transparent:!1,antialias:!0,forceSetTimeOut:!1},j=26;b>640&&(j=32);var k={play_json_key:"playData",loading_image_key:"preloaderBar",loading_image_url:_environmentSettings.assetPath+"media/cwlogo.png",loading_bg_color:"0x0074c8",loading_font:{font:"Arial, Helvetica, Sans",fontSize:j,fill:"#ffffff"},loading_text:"Loading...",clickthrough_text:"Click here to continue.",play_json_url:_environmentSettings.assetPath+"media/play.json",theme_prefix:"theme_",data_prefix:"data_",preload_state_name:"preload",main_state_name:"main",boot_state_name:"boot",clickthrough_state_name:"clickthrough",default_act_name:"default",scorm_separator_char:"$",debug:!1},l=new Phaser.Game(i);return l.scorm=new g,l.state.add(k.boot_state_name,new c(k)),l.state.add(k.clickthrough_state_name,new d(k)),l.state.add(k.preload_state_name,new e(k)),l.state.add(k.main_state_name,new f(k)),l.state.start(k.boot_state_name),l}}()},{"./scorm":48,"./states/boot.js":49,"./states/clickthrough.js":50,"./states/main.js":51,"./states/preload.js":52}],12:[function(a,b,c){!function(){"use strict";var c=(a("lodash"),a("./scene-act/play-act"));b.exports={getActInstance:function(a,b,d,e){if(!a||"PlayAct"===a)return new c(b,d,e);var f=window[a];if(f){var g=new f(b,d,e);return g.actName=e,g}window.alert("Unable to load activity: "+a)}}}()},{"./scene-act/play-act":43,lodash:6}],13:[function(a,b,c){!function(){"use strict";var c=a("loglevel"),d=a("lodash"),e=a("basejs"),f=a("./play-act-manager"),g=e.extend({constructor:function(a,b,c){if(!a||!b||!c)throw"Creating a Play requires a Phaser game instance, configuration object and settings.";if(this.game=a,this.config=b,this.actData=b.acts,this.settings=c,this.actInstances={},this.previousAct=null,this.waitingOn=[],this.hasObjectives=!1,this.defaultActComplete=!1,this.commands={change_act:"change_act",mute_game:"mute_game",mute_game_on:"mute_on",save:"save",complete:"complete",default_complete:"default_complete"},!this.actData[this.settings.default_act_name])throw"Play could not start. You do not have a default ACT. See play.js header.";b.autoScale&&(this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL)},selectDefaultAct:function(){this.selectNextAct(this.settings.default_act_name)},selectNextAct:function(a){if(this.currentAct&&(this.currentAct.actName!==this.settings.default_act_name&&this.currentAct.stop(),this.previousAct=this.currentAct),this.actInstances[a])return this.currentAct=this.actInstances[a],void this.currentAct.setScormString(this.actData[a].suspendData);var b=this.actData[a],c=JSON.parse(this.game.cache.getText(this.settings.theme_prefix+b.id));c=this.addAssetPathToThemeData(c),this.currentAct=f.getActInstance(b.type,this.game,c,a),this.currentAct.setStandAlone&&this.currentAct.setStandAlone(a===this.settings.default_act_name),this.currentAct.events.onGameChoice.add(this.onGameChoiceEvent,this),this.currentAct.events.onActStatus.add(this.onActStatusEvent,this),this.currentAct.setScormString(b.suspendData),this.actInstances[a]=this.currentAct},addAssetPathToThemeData:function(a){if(a.texture=_environmentSettings.assetPath+a.texture,a.textureMap=_environmentSettings.assetPath+a.textureMap,a.data=_environmentSettings.assetPath+a.data,a.soundFile)for(var b=0;b<a.soundFile.length;b++)a.soundFile[b]=_environmentSettings.assetPath+a.soundFile[b];return a},startNextAct:function(a){this.game.state.restart(!1,!1,a)},showNextAct:function(a){if(this.currentAct){var b=this.actData[this.currentAct.actName];if(b.objective&&"completed"!==b.objectiveStatus&&(b.objectiveStatus="incomplete",this.game.scorm.setObjective(b.objectiveIndex,b.objective,b.objectiveStatus)),this.previousAct&&this.currentAct.actName===this.settings.default_act_name||this.currentAct.start(a),this.previousAct){this.currentAct.onGameChoice({act_exited:this.previousAct.actName});var e=this.actData[this.previousAct.actName];if(e&&e.objective){var f={};f["objective_"+e.objective]=e.objectiveStatus,this.currentAct.onGameChoice(f)}}else d.each(this.actData,function(a){if(a.objective){var b={};b["objective_"+a.objective]=a.objectiveStatus,this.currentAct.onGameChoice(b)}},this)}else c.error("No current Act to start!")},onGameChoiceEvent:function(a){var b=d.pairs(a)[0];a.consumed=this.playCommand(b[0],b[1])},onActStatusEvent:function(a){if(a===this.commands.save)this.saveScormData();else if(a===this.commands.complete){var b=this.actData[this.currentAct.actName],e=!0;this.hasObjectives===!0&&(b&&b.objective&&(b.objectiveStatus="completed",c.debug("Marking Scorm objective complete: "+b.objective),this.game.scorm.setObjective(b.objectiveIndex,b.objective,b.objectiveStatus)),d.each(this.actData,function(a){a.objective&&"completed"!==a.objectiveStatus&&(e=!1)},this)),e&&(c.debug("Marked everything complete in scorm."),this.game.scorm.markComplete())}},playCommand:function(a,b){if(c.debug("play command: "+a+" / "+b),a===this.commands.change_act)c.debug("Changing act to "+b),this.actData[b]?(this.selectNextAct(b),this.startNextAct(!0)):c.error("Request to change to non-existant act: "+b);else if(a===this.commands.default_complete)this.defaultActComplete=!0;else{if(a!=this.commands.save)return a===this.commands.mute_game&&(this.game.sound.mute=b!==this.commands.mute_game_on,!1);this.saveScormData()}return!0},preload:function(){d.each(this.getActsList(),function(a){c.debug("loading text "+a.theme+" as "+(this.settings.theme_prefix+a.id)),this.game.load.text(this.settings.theme_prefix+a.id,a.theme),this.waitingOn.push(this.settings.theme_prefix+a.id)},this)},isPreloadComplete:function(){var a=!0;return d.each(this.waitingOn,function(b){this.game.cache.getText(b)||(a=!1)},this),a},preloadAct:function(){this.currentAct&&this.currentAct.preload()},isPreloadActComplete:function(){return this.currentAct&&this.currentAct.isPreloadComplete()},isLogging:function(){return this.config&&this.config.logging===!0},getActsList:function(){return this.actData},isScormEnabled:function(){return this.config&&this.config.scorm===!0},renderDebug:function(){this.currentAct&&this.settings.debug===!0&&this.currentAct.renderDebug()},tickUpdate:function(a){this.currentAct&&this.currentAct.tickUpdate(this.game.time.now)},loadScormData:function(){var a,b=this.game.scorm.getSuspendData()||"",c=0,e=0;window.suspendData&&(b=window.suspendData),b=b.split(this.settings.scorm_separator_char),d.each(this.actData,function(d,f){d.objective&&(this.hasObjectives=!0,a=this.game.scorm.getObjective(e),d.objectiveIndex=e,a.status&&a.id===d.objective?d.objectiveStatus=a.status:(d.objectiveStatus="not attempted",this.game.scorm.setObjective(e,d.objective,"not attempted")),e++),d.suspendData=b[c]||"",c++},this)},saveScormData:function(){this.actData[this.currentAct.actName].suspendData=this.currentAct.getScormString();var a,b=[];d.each(this.actData,function(a){b.push(a.suspendData)},this),
a=b.join(this.settings.scorm_separator_char),c.debug("Saving Play Wide Scorm Data: "+a),this.game.scorm.setSuspendData(a)}});b.exports=g}()},{"./play-act-manager":12,basejs:1,lodash:6,loglevel:7}],14:[function(a,b,c){!function(){var c=a("lodash"),d=(a("loglevel"),a("basejs")),e=d.extend({execute:function(a){if(!a)throw"action requires an act to work on.";c.each(this.args,function(b){a.actCommand("add-actor",b)},this)},constructor:function(a){this.args=a}});b.exports=e}()},{basejs:1,lodash:6,loglevel:7}],15:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel"),a("basejs")),d=c.extend({execute:function(a){if(!a)throw"action requires an act to work on.";var b={};b[a.model.getValue(this.args[0])]=a.model.getValue(this.args[1]),this.args[3]===!0&&a.clearVariable(this.args[0]),a.onGameChoice(b)},constructor:function(a){this.args=a}});b.exports=d}()},{basejs:1,lodash:6,loglevel:7}],16:[function(a,b,c){!function(){var c=a("lodash"),d=(a("loglevel"),a("basejs")),e=d.extend({execute:function(a){if(!a)throw"action requires an act to work on.";c.each(this.args,function(b){a.actCommand("remove-actor",a.model.getValue(b))},this)},constructor:function(a){this.args=a}});b.exports=e}()},{basejs:1,lodash:6,loglevel:7}],17:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel"),a("basejs")),d=c.extend({execute:function(a){if(!a)throw"action requires an act to work on.";a.showNewScene(this.args[0])},constructor:function(a){this.args=a}});b.exports=d}()},{basejs:1,lodash:6,loglevel:7}],18:[function(a,b,c){!function(){"use strict";var c=a("lodash"),d=(a("loglevel"),a("./play-actor")),e=d.extend({enterScene:function(){this.text=this.data.text,this.audio=this.data.audio,this.key=this.data.key,this.currentX=this.data.location[0],this.currentY=this.data.location[1],this.data.announcerBox&&this.addAnnouncerBox(),this.data.inverseSoundEvents=!0,this.addWindow(),this.setSpeech()},getRequiredFields:function(){return["location"]},addAnnouncerBox:function(){this.announcerBox=this.game.add.sprite(this.data.location[0],this.data.location[1],this.theme.textureKey,this.getImage("announcer-box","actorImages")),this.currentX+=this.announcerBox.width-10},addWindow:function(){if(!this.theme.textWindows||!this.theme.textWindows.announce)throw"Announcer actor requires textWindows theme entry, and announce section inside it.";var a=this.game.add.group();a.x=this.currentX,a.y=this.currentY;var b=8,d=20,e=a.create(0,0,this.theme.textureKey,this.theme.textWindows.announce.top);this.fStyle=this.getFont("bubbleText"),this.rStyle=this.getFont("replayAudio"),this.fStyle.wordWrap=!0,this.fStyle.wordWrapWidth=.85*e.width,this.currentText=new Phaser.Text(this.game,b+50,d,this.text,this.fStyle),a.add(this.currentText);var f=this.currentText.height-(e.height-d);f<5&&(f=5);var g=new Phaser.TileSprite(this.game,0,e.height,e.width,f,this.theme.textureKey,this.theme.textWindows.announce.middle);a.add(g);var h=(this.currentText.y+this.currentText.height+d,a.create(0,e.height+g.height,this.theme.textureKey,this.theme.textWindows.announce.bottom));this.windows={top:e,middle:g,bottom:h},c.each(this.windows,function(a){a.inputEnabled=!0,a.events.onInputOver.add(this.onMouseIn,this),a.events.onInputOut.add(this.onMouseOut,this),a.events.onInputUp.add(this.onPointerUp,this)},this),this.replayText=new Phaser.Text(this.game,(h.x+h.width-40)/2,(e.height+h.height+g.height)/2,"Replay Audio",this.rStyle),this.replayText.anchor.setTo(.5,.5),a.add(this.replayText),this.replayText.visible=!1,this.currentText.bringToTop(),this.replayText.bringToTop(),this.windowGroup=a},onMouseIn:function(){this.fStyle.fill=this.theme.tints.bubbleText,this.currentText.setStyle(this.fStyle),this.replayText.visible=!0},onMouseOut:function(){this.fStyle.fill=this.getFont("bubbleText").fill,this.currentText.setStyle(this.fStyle),this.replayText.visible=!1},onPointerUp:function(){this.dispatchGameSpeech({text:this.text,audio:this.audio,key:this.key})},setSpeech:function(){this.currentText.setText(this.text),this.dispatchGameSpeech({text:this.text,audio:this.audio,key:this.key})},destroy:function(){this.rStyle=null,this.fStyle=null,this.windows&&c.each(this.windows,function(a){a.inputEnabled=!1},this),this.windows=null,this.windowGroup&&this.windowGroup.destroy(!0),this.announcerBox&&(this.announcerBox.destroy(),this.announcerBox=null),this.freeBaseActor()}});b.exports=e}()},{"./play-actor":42,lodash:6,loglevel:7}],19:[function(a,b,c){!function(){"use strict";var c=(a("lodash"),a("loglevel")),d=a("./play-actor"),e=d.extend({getRequiredFields:function(){return["audio","variable"]},enterScene:function(){this.audio=this.data.audio,"string"==typeof this.audio&&(this.audio=[this.audio]),this.audioIndex=0,this.playCurrent()},playCurrent:function(){if(this.audioIndex>this.audio.length-1){c.debug("Setting audio sprite variable");var a={};return a[this.data.variable]="played",void this.events.onGameChoice.dispatch(this.data.name,a)}var b=this.audio[this.audioIndex];this.events.onGameSpeech.dispatch(this.data.name,{text:this.data.text,audio:b,key:null})},onGameSpeechStop:function(a){a===this.audio[this.audioIndex]&&(this.audioIndex++,this.playCurrent())},destroy:function(){this.audio=null,this.freeBaseActor()}});b.exports=e}()},{"./play-actor":42,lodash:6,loglevel:7}],20:[function(a,b,c){!function(){var c=(a("loglevel"),a("./play-actor")),d=c.extend({enterScene:function(){this.buildActor()},getRequiredFields:function(){return[]},buildActor:function(){var a="undefined"==typeof this.data.location?0:this.data.location[0],b="undefined"==typeof this.data.location?0:this.data.location[1],c="undefined"==typeof this.data.size?this.game.world.width:this.data.size[0],d="undefined"==typeof this.data.size?this.game.world.height:this.data.size[1],e="undefined"==typeof this.data.blockerTint?0:this.data.blockerTint,f="undefined"==typeof this.data.blockerAlpha?.5:this.data.blockerAlpha;this.blockerSprite=new Phaser.Sprite(this.game,0,0);var g=new Phaser.Graphics(this.game,0,0);this.blockerSprite.addChild(g),g.beginFill(e,f),g.drawRect(a,b,c,d),g.endFill(),this.blockerSprite.inputEnabled=!0,this.blockerSprite.bringToTop(),this.game.add.existing(this.blockerSprite),this.addDebugBox()},addDebugBox:function(){window.isDebugging&&(this.debugBox=new Phaser.Graphics(this.game,this.data.location[0],this.data.location[1]),this.debugBox.beginFill(0,1),this.debugBox.drawRect(0,0,this.data.size[0],this.data.size[1]),this.debugBox.endFill(),this.game.add.existing(this.debugBox))},destroy:function(){this.blockerSprite&&(this.blockerSprite.inputEnabled=!1,this.blockerSprite.destroy(!0)),this.debugBox&&this.debugBox.destroy(),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,loglevel:7}],21:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel"),a("./play-actor")),d=c.extend({enterScene:function(){this.buildActor()},getRequiredFields:function(){return["location","image","variable"]},buildActor:function(){if(!this.theme.buttons||!this.theme.buttons[this.data.image])throw"Button Actor requires buttons entry in theme, with specific entry matching "+this.data.image;if(this.button=this.game.add.button(this.data.location[0],this.data.location[1],this.theme.textureKey,this.onPointerUp,this,this.theme.buttons[this.data.image].over,this.theme.buttons[this.data.image].out,this.theme.buttons[this.data.image].down,this.theme.buttons[this.data.image].up),this.buttonIsAnimated="undefined"!=typeof this.data.animated&&this.data.animated===!0,this.buttonIsAnimated&&(this.button.animations.add(this.data.image,this.theme.buttonAnimations[this.data.image]),this.animationFrameRate="undefined"!=typeof this.data.animationFrameRate?this.data.animationFrameRate:30,this.loopAnimation="undefined"!=typeof this.data.animationLoop&&this.data.animationLoop,this.animationRepeat="undefined"!=typeof this.data.animationRepeat?this.data.animationRepeat:0,this.animationRepeat>0&&(this.loopAnimation=!1,this.animationTimerEvent=this.game.time.events.loop(this.animationRepeat,this.animateButton,this)),this.animateButton()),this.button.inputEnabled=!0,this.data.scale&&this.button.scale.setTo(this.data.scale[0],this.data.scale[1]),this.data.text){var a=this.data.font;this.style=this.getFont("undefined"!=typeof a?a:"questionText");var b=this.button.width/2,c=this.button.height/2;this.textSprite=this.game.add.text(b,c,this.data.text,this.style),this.textSprite.anchor.setTo(.5,.45),this.button.addChild(this.textSprite)}},animateButton:function(){this.buttonIsAnimated&&this.button.animations.play(this.data.image,this.animationFrameRate,this.loopAnimation,!1)},onPointerUp:function(a){var b={};b[this.data.variable]=this.data.name,this.events.onGameChoice.dispatch(this.data.name,b)},destroy:function(){this.button&&("undefined"!=typeof this.animationTimerEvent&&this.game.time.events.remove(this.animationTimerEvent),this.button.destroy()),this.textSprite&&this.textSprite.destroy(),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,lodash:6,loglevel:7}],22:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel")),d=a("./play-actor"),e=d.extend({enterScene:function(){this.buildActor(),this.data.text&&this.addTextBox(),this.data.speechAnimation&&this.addSpeechAnimation()},getRequiredFields:function(){return["location"]},buildActor:function(){var a=this.modelInterface.getValue(this.data.image);a?(this.data.speechAnimation&&(a+="-talk"),this.sprite=this.game.add.sprite(this.data.location[0],this.data.location[1],this.theme.textureKey,this.getImage(a,"actorImages")),this.sprite.inputEnabled=!0,this.sprite.input.pixelPerfectOver=!1,this.data.hasOwnProperty("usePixelPerfectOver")&&this.data.usePixelPerfectOver&&(sprite.input.pixelPerfectOver=!0),this.data.scale&&this.sprite.scale.setTo(this.data.scale[0],this.data.scale[1])):(this.sprite=this.game.add.sprite(this.data.location[0],this.data.location[1]),this.sprite.width=this.data.size[0],this.sprite.height=this.data.size[1],this.sprite.inputEnabled=!0,this.addDebugBox()),this.sprite.events.onInputOver.add(this.onMouseIn,this),this.sprite.events.onInputOut.add(this.onMouseOut,this),this.sprite.events.onInputUp.add(this.onPointerUp,this)},addDebugBox:function(){window.isDebugging&&(this.debugBox=new Phaser.Graphics(this.game,this.data.location[0],this.data.location[1]),this.debugBox.beginFill(0,1),this.debugBox.drawRect(0,0,this.data.size[0],this.data.size[1]),this.debugBox.endFill(),this.game.add.existing(this.debugBox))},addTextBox:function(){this.theme.bubbleTextWidth||c.error("You must specify a bubbleTextWidth in your theme when using character labels.");var a=this.sprite.height/4,b=this.sprite.width/2,d=this.theme.bubbleTextWidth,e=this.getFont("bubbleIcon"),f=this.data.location[0]+b,g=this.data.location[1]+a;e.wordWrap=!0,e.wordWrapWidth=.9*d;var h=new Phaser.Text(this.game,d/2,10,this.data.text,e);h.anchor.setTo(.5,0);var i=h.height+10;f+d+3>this.game.world.width&&(f=this.game.world.width-d-3),g+i+3>this.game.world.height&&(g=this.game.world.height-i-3),this.graphics=new Phaser.Graphics(this.game,f,g),this.graphics.beginFill(0,1),this.graphics.drawRoundedRect(3,3,d,i,9),this.graphics.endFill(),this.graphics.beginFill(16777215),this.graphics.drawRoundedRect(0,0,d,i,9),this.graphics.endFill(),this.graphics.visible=!1,this.graphics.addChild(h),this.game.add.existing(this.graphics)},addSpeechAnimation:function(){var a=this.theme.speechAnimations[this.modelInterface.getValue(this.data.image)];return a?(this.speechAnimation=this.game.add.sprite(this.data.location[0]+a.mouthOffset[0],this.data.location[1]+a.mouthOffset[1],this.theme.textureKey,a.images[0]),this.speechAnimation.animations.add("talk",a.images),this.speechAnimationSet=a.images,this.speechAnimationDefault=a.images[0],void(this.data.scale&&(this.speechAnimation.scale.setTo(this.data.scale[0],this.data.scale[1]),this.speechAnimation.x=this.data.location[0]+a.mouthOffset[0]*this.data.scale[0],this.speechAnimation.y=this.data.location[1]+a.mouthOffset[1]*this.data.scale[1]))):(c.error("Could not add speech animation for character: "+this.data.name),c.error("Speech animation not found for "+this.data.image),void c.error("Check that you have a speechAnimations section in your theme."))},onGameSpeech:function(a){var b=this.modelInterface.getValue(a.audio);a.key&&(b=this.modelInterface.getValue(a.key)+"_"+b),c.debug("On game speech: "+b),this.speechAnimation&&this.theme.soundSyncData&&this.theme.soundSyncData[b]&&(this.soundSyncData=this.theme.soundSyncData[b],this.timer||(this.timer=this.game.time.create(!1),this.speechIndex=0,this.timer.loop(100,this.incrementSpeech,this),this.timer.start()))},incrementSpeech:function(){this.soundSyncData&&(this.speechIndex++,this.speechAnimation.frameName=this.speechAnimationSet[this.soundSyncData[this.speechIndex]])},onGameSpeechStop:function(a){this.speechAnimation&&this.soundSyncData&&(this.timer.stop(),this.timer.destroy(),this.timer=null,this.soundSyncData=null,this.speechAnimation.frameName=this.speechAnimationDefault)},onMouseIn:function(a){this.graphics&&(this.graphics.visible=!0,this.game.world.bringToTop(this.graphics),this.data.audio&&this.dispatchGameSpeech({text:this.data.text,audio:this.data.audio,key:this.data.key||this.data.name}))},onMouseOut:function(a){this.graphics&&this.graphics.visible===!0&&(this.graphics.visible=!1)},onPointerUp:function(a){var b={};b[this.data.variable]=this.data.name,this.dispatchGameChoice(b)},destroy:function(){this.sprite&&(this.sprite.inputEnabled=!1,this.sprite.destroy()),this.data.text&&this.graphics.destroy(!0),this.speechAnimation&&this.speechAnimation.destroy(),this.debugBox&&this.debugBox.destroy(),this.timer&&this.timer.destroy(),this.freeBaseActor()}});b.exports=e}()},{"./play-actor":42,lodash:6,loglevel:7}],23:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel")),d=a("./play-actor"),e=5,f={PR:0,DI:1,AL:2,EN:3,PA:4},g=6,h=25,i=d.extend({getRequiredFields:function(){return["choiceMap","startChoice"]},enterScene:function(){this.choiceMap=this.data.choiceMap,this.currentChoice=this.choiceMap[this.data.startChoice],this.buildActor(),this.populateChoice()},buildActor:function(){this.buttons=[],this.text=[];var a,b,c,d=50,f=0;for(this.fStyle=this.getFont("bubbleText"),a=e;a>0;a--)b=this.game.add.button(0,0,this.theme.textureKey,this.onChoice,this,"response-bg-over.png","response-bg-up.png","response-bg-down.png","response-bg-up.png"),f=(this.game.world.width-b.width)/2,d=this.game.world.height-(b.height+g)*a,b.x=f,b.y=d,c=new Phaser.Text(this.game,h,b.height/2,"",this.fStyle),b.addChild(c),c.anchor.setTo(0,.5),this.buttons.push(b),this.text.push(c)},populateChoice:function(){var a,b,d,g,h=this.currentChoice,i=e-h.choices.length,j=[!0,!0,!0,!0,!0],k=[],l=-1;if(h.decisionPoint===!0||"true"===h.decisionPoint){for(this.dpIndex=this.getDecisionIndex(),c.debug("Showing decision point: "+this.dpIndex),0!==this.dpIndex&&1!==this.dpIndex||(d=this.getPreviousPlayAnswer(this.dpIndex),d&&"XX"!==d&&(c.debug("Hiding answer "+d+" from previous playthrough."),l=f[d])),this.dpIndex>0&&(d=this.getPreviousAnswer(this.dpIndex),c.debug("got previous answer of "+d),g=f[d],0===g?(j[3]=!1,j[4]=!1):4===g?(j[0]=!1,j[1]=!1):(j=[!1,!1,!1,!1,!1],j[g]=!0,j[g+1]=!0,j[g-1]=!0)),l!==-1&&(j[l]=!1),a=0;a<h.choices.length;a++)j[a]&&k.push(h.choices[a]);i=e-k.length,c.debug("determined button offset of "+i)}else for(a=0;a<h.choices.length;a++)k.push(h.choices[a]);for(b=0;b<i;b++)this.buttons[b].visible=!1,this.buttons[b].inputEnabled=!1;var m=[];for(a=0;a<k.length;a++)m.push(a);Phaser.ArrayUtils.shuffle(m);var n;for(a=0;a<k.length;a++)n=m[a],this.text[a+i].setText(k[n].text),this.buttons[a+i].currentOption=k[n],this.buttons[a+i].visible=!0,this.buttons[a+i].inputEnabled=!0;if(h.text||h.audio){var o={text:h.text,audio:h.audio,key:h.key};this.events.onGameSpeech.dispatch(this.data.name,o)}},destroy:function(){for(var a;this.text.length>0;)a=this.text.shift(),a.destroy(),a=null;for(;this.buttons.length>0;)a=this.buttons.shift(),a.destroy(),a=null;this.freeBaseActor()},onChoice:function(a){var b=a.currentOption;if(b.variable){var c={};c[b.variable]=b.value,this.events.onGameChoice.dispatch(this.data.name,c)}b.link&&(this.currentChoice=this.choiceMap[b.link],this.populateChoice())},getDecisionIndex:function(){var a,b=this.modelInterface.getValue("$decisionsCurrent");for(a=0;a<b.length;a++)if("XX"===b[a])return a;return-1},getPreviousPlayAnswer:function(a){return this.modelInterface.getValue("$decisionsPrevious")[a]},getPreviousAnswer:function(a){return this.modelInterface.getValue("$decisionsCurrent")[a-1]}});b.exports=i}()},{"./play-actor":42,lodash:6,loglevel:7}],24:[function(a,b,c){!function(){var c=(a("lodash"),a("./play-actor")),d=c.extend({getRequiredFields:function(){return["location","image"]},enterScene:function(){this.buildActor()},buildActor:function(){this.sprite=this.game.add.sprite(this.data.location[0],this.data.location[1],this.theme.textureKey,this.getImage(this.data.image,this.data.key));var a=0,b=0,c=this.data.location[0],d=this.data.location[1];if(this.data.scale&&this.sprite.scale.setTo(this.data.scale[0],this.data.scale[1]),"center"===c&&(c=this.game.world.centerX,a=.5),"center"===d&&(d=this.game.world.centerY,b=.5),this.data.anchor&&(a=this.data.anchor[0],b=this.data.anchor[1]),this.sprite.anchor.setTo(a,b),this.sprite.x=c,this.sprite.y=d,this.data.angle&&(this.sprite.angle=this.data.angle),this.data.tween){var e=this.data.tween;e.location&&this.game.add.tween(this.sprite).to({x:e.location[0],y:e.location[1]},e.time,"Linear",!0),e.scale&&this.game.add.tween(this.sprite.scale).to({x:e.scale[0],y:e.scale[1]},e.time,"Linear",!0)}},destroy:function(){this.sprite&&this.sprite.destroy(),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,lodash:6}],25:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel"),a("./play-actor")),d=c.extend({getRequiredFields:function(){return["location","images","variable"]},enterScene:function(){this.buildActor()},buildActor:function(){var a=this.game.add.sprite(this.data.location[0],this.data.location[1],this.theme.textureKey,this.getImage(this.getFrame(),this.data.key));this.game.physics.enable(a,Phaser.Physics.ARCADE),a.body.setSize(1,1,a.width/2,a.height/2),a.inputEnabled=!0,a.input.pixelPerfectOver=!1,this.data.hasOwnProperty("usePixelPerfectOver")&&this.data.usePixelPerfectOver&&(a.input.pixelPerfectOver=!0),a.input.enableDrag(!0,!0),a.events.onDragStop.add(this.itemDragStop,this),a.events.onDragStart.add(this.itemDragStart,this),a.origLoc=[a.x,a.y],this.sprite=a},returnToHome:function(){},itemDragStop:function(){this.isDragging=!1,this.updateImage();var a={};a.dropped=this.data.name,this.dispatchGameChoice(a),this.sprite&&(this.sprite.x=this.sprite.origLoc[0],this.sprite.y=this.sprite.origLoc[1])},itemDragStart:function(){this.isDragging=!0,this.updateImage();var a={};a.dragging=this.data.name,this.dispatchGameChoice(a)},destroy:function(){this.sprite&&(this.sprite.destroy(),this.sprite=null),this.freeBaseActor()},getFrame:function(a){var b=this.data.images.normal;return"overlap"===a&&this.data.images.overlap?b=this.data.images.overlap:"dragging"!==a&&b||!this.data.images.dragging||(b=this.data.images.dragging),b},updateImage:function(){var a;a=null!==this.isOverlapping?this.getFrame("overlap"):this.isDragging===!0?this.getFrame("dragging"):this.getFrame("normal"),this.sprite.frameName=this.getImage(a,this.data.key)},getBody:function(){return this.sprite?this.sprite.body:null},onOverlapping:function(a){this.isOverlapping!==a&&(this.isOverlapping=a,this.updateImage())}});b.exports=d}()},{"./play-actor":42,lodash:6,loglevel:7}],26:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel")),d=a("./play-actor"),e=d.extend({getRequiredFields:function(){return["location","images","variable"]},enterScene:function(){this.buildActor()},buildActor:function(){var a=this.game.add.sprite(this.data.location[0],this.data.location[1],this.theme.textureKey,this.getImage(this.data.images.overlap,this.data.key));this.game.physics.enable(a,Phaser.Physics.ARCADE),a.body.setSize(.6*a.width,.6*a.height,.2*a.width,.2*a.height),a.inputEnabled=!0,a.input.pixelPerfectOver=!1,this.data.hasOwnProperty("usePixelPerfectOver")&&this.data.usePixelPerfectOver&&(a.input.pixelPerfectOver=!0),this.sprite=a,a.visible=!1},destroy:function(){this.sprite&&(this.sprite.destroy(),this.sprite=null),this.freeBaseActor()},updateImage:function(){null!==this.isOverlapping?this.sprite.visible=!0:this.sprite.visible=!1},getBody:function(){return this.sprite?this.sprite.body:null},onOverlapping:function(a){this.isOverlapping!==a&&(this.isOverlapping=a,this.updateImage())},onReceiveDrop:function(a){c.debug("Received drop? "+a);var b={};b[this.data.variable]=a,this.dispatchGameChoice(b)}});b.exports=e}()},{"./play-actor":42,lodash:6,loglevel:7}],27:[function(a,b,c){!function(){"use strict";var c=(a("lodash"),a("loglevel"),a("./play-actor")),d=c.extend({getRequiredFields:function(){return["text","location"]},enterScene:function(){this.text=this.data.text,this.addWindow(this.data.location[0],this.data.location[1])},addWindow:function(a,b){if(!this.theme.textWindows||!this.theme.textWindows.instruction)throw"Instruction actor requires textWindows theme entry, and instruction area inside it.";this.window=this.game.add.sprite(a,b,this.theme.textureKey,this.theme.textWindows.instruction),this.fStyle=this.getFont("moveOn"),this.fStyle.wordWrap=!0,this.fStyle.wordWrapWidth=.9*this.window.width,this.currentText=new Phaser.Text(this.game,this.window.width/2,this.window.height/2,this.text,this.fStyle),this.currentText.anchor.setTo(.5,.5),this.window.addChild(this.currentText)},destroy:function(){this.window&&this.window.destroy(!0),this.fStyle=null,this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,lodash:6,loglevel:7}],28:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel"),a("./play-actor")),d=c.extend({getRequiredFields:function(){return["start","end"]},enterScene:function(){this.startLoc=this.data.start,this.endLoc=this.data.end,this.buildActor()},buildActor:function(){this.graphics=this.game.add.graphics(0,0);var a=16724736,b=20,c=1;this.data.color&&(a=this.data.color),this.data.width&&(b=parseInt(this.data.width,10)),this.data.alpha&&(c=parseFloat(this.data.alpha)),this.graphics.lineStyle(b,a,c),this.graphics.moveTo(this.startLoc[0],this.startLoc[1]),this.graphics.lineTo(this.endLoc[0],this.endLoc[1])},onGameSpeech:function(a){},destroy:function(){this.startLoc=null,this.endLoc=null,this.graphics.destroy(),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,lodash:6,loglevel:7}],29:[function(a,b,c){!function(){var c=a("./play-actor"),d=c.extend({getRequiredFields:function(){return["location","image"]},enterScene:function(){this.isAlerted=!1,this.buildActor(),this.data.alert&&this.onGameChoice({phone_alert:this.data.alert})},buildActor:function(){this.alertGroup=null,this.buttonAnimation=null;var a=this.data.image;this.button=this.game.add.button(this.data.location[0],this.data.location[1]+36,this.theme.textureKey,this.onPointerUp,this,this.theme[a].button.over,this.theme[a].button.out,this.theme[a].button.down,this.theme[a].button.up),this.button.inputEnabled=!0},buildActorAlerts:function(){this.alertGroup=this.game.add.group(),this.alertGroup.x=this.data.location[0],this.alertGroup.y=this.data.location[1];var a=this.data.image;this.alerts={game:new Phaser.Sprite(this.game,0,0,this.theme.textureKey,this.theme[a].alerts.game),message:new Phaser.Sprite(this.game,0,0,this.theme.textureKey,this.theme[a].alerts.message),pdf:new Phaser.Sprite(this.game,0,0,this.theme.textureKey,this.theme[a].alerts.pdf),video:new Phaser.Sprite(this.game,0,0,this.theme.textureKey,this.theme[a].alerts.video),gtfs:new Phaser.Sprite(this.game,0,0,this.theme.textureKey,this.theme[a].alerts.gtfs)},this.alertGroup.add(this.alerts.game),this.alertGroup.add(this.alerts.message),this.alertGroup.add(this.alerts.pdf),this.alertGroup.add(this.alerts.video),this.alertGroup.add(this.alerts.gtfs),this.showAlert(!1)},onGameChoice:function(a){this.isAlerted?this.playAlert():a.phone_alert&&(this.isAlerted=!0,this.showAlert(a.phone_alert),this.playAlert())},showAlert:function(a){null===this.alertGroup&&this.buildActorAlerts(),this.alerts.game.visible=!1,this.alerts.message.visible=!1,this.alerts.pdf.visible=!1,this.alerts.video.visible=!1,this.alerts.gtfs.visible=!1,a&&(this.alerts[a].visible=!0)},playAlert:function(){var a=parseInt(this.modelInterface.getValue("$phoneRingerIndex"),10);null===this.buttonAnimation&&(this.buttonAnimation=this.button.animations.add("ring",this.theme[this.data.image].ring)),this.button.animations.play("ring",4);var b={text:"",audio:this.theme.phone.ringtones[a]};this.events.onGameSpeech.dispatch(this.data.name,b)},onPointerUp:function(a){this.isAlerted=!1,this.showAlert(!1),this.button.animations.stop();var b={};b.show_cell_phone=this.data.name,this.events.onGameChoice.dispatch(this.data.name,b)},destroy:function(){this.alerts=null,this.alertGroup&&this.alertGroup.destroy(),this.button&&this.button.destroy(),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42}],30:[function(a,b,c){!function(){var c=a("lodash"),d=a("loglevel"),e=a("./play-actor"),f=a("moment"),g=e.extend({getRequiredFields:function(){return[]},enterScene:function(){this.fontHeader=this.getFont("phoneHeader"),this.fontBody=this.getFont("phoneBody"),this.fontBodyLink=this.getFont("phoneBodyLink"),this.isInitialized=!1,this.data.open&&this.showPhone()},onGameChoice:function(a){a.show_cell_phone&&(this.isInitialized&&this.phoneGroup.visible?this.onClickClose():this.showPhone())},dispatch:function(a,b){var c={};c[a.variable]=b,this.events.onGameChoice.dispatch(this.data.name,c)},onClickHelp:function(){this.currentIcon=this.data.help,this.currentIcon.variable&&this.dispatch(this.currentIcon,"open"),this.showText("Help",this.currentIcon.text,!1,this.currentIcon.link,this.currentIcon.value)},onClickGtfs:function(){this.currentIcon=this.data.gtfs,this.currentIcon.variable&&this.dispatch(this.currentIcon,"open"),this.showText("Get The Facts",this.currentIcon.text,!1,this.currentIcon.link,this.currentIcon.value)},onClickMessages:function(){this.currentIcon=this.data.messages,this.currentIcon.variable&&this.dispatch(this.currentIcon,"open"),this.showText(this.currentIcon.from,this.currentIcon.text,!0,this.currentIcon.link,this.currentIcon.value)},onClickVideos:function(){this.currentIcon=this.data.videos,this.currentIcon.variable&&this.dispatch(this.currentIcon,"open"),this.showText("Videos",this.currentIcon.text,!1,this.currentIcon.link,this.currentIcon.value)},onClickRingtone:function(){var a=parseInt(this.modelInterface.getValue("$phoneRingerIndex"),10);a++,a%=this.theme.phone.ringtones.length,this.events.onGameSpeech.dispatch(this.data.name,{text:"",audio:this.theme.phone.ringtones[a]}),this.events.onGameChoice.dispatch(this.data.name,{phoneRingerIndex:a})},onClickBackground:function(){var a=parseInt(this.modelInterface.getValue("$phoneBgIndex"),10);a++,a%=this.theme.phone.backgrounds.length,this.phoneBg.frameName=this.theme.phone.backgrounds[a],this.events.onGameChoice.dispatch(this.data.name,{phoneBgIndex:a})},onClickClose:function(){this.phoneGroup.visible=!1,this.textGroup.visible=!1,this.blockingSprite.visible=!1,this.blockingSprite2.visible=!1,this.events.onGameChoice.dispatch(this.data.name,{phone:"closed"})},createPhoneButton:function(a,b,c){var d=new Phaser.Button(this.game,0,0,this.theme.textureKey,b,c,this.theme.phone.icons[a][1],this.theme.phone.icons[a][0],this.theme.phone.icons[a][1],this.theme.phone.icons[a][0]);return d.input.useHandCursor=!0,d},showPhone:function(){this.isInitialized===!1&&(this.initHomeScreenGroup(),this.initBlockingGroup(),this.initMessageWindowGroup()),this.phoneGroup.visible=!0,this.blockingSprite.visible=!0,this.blockingSprite2.visible=!1,this.blockingSprite.bringToTop(),this.game.world.bringToTop(this.phoneGroup),this.blockingSprite2.bringToTop(),this.game.world.bringToTop(this.textGroup),this.events.onGameChoice.dispatch(this.data.name,{phone:"open"})},initHomeScreenGroup:function(){var a=parseInt(this.modelInterface.getValue("$phoneBgIndex"),10);this.phoneGroup=this.game.add.group(),this.phoneGroup.x=this.game.world.centerX,this.phoneBg=new Phaser.Sprite(this.game,0,0,this.theme.textureKey,this.theme.phone.backgrounds[a]),this.phoneBg.anchor.setTo(.5,0),this.phoneGroup.add(this.phoneBg),this.helpButton=this.createPhoneButton("help",this.onClickHelp,this,2),this.phoneGroup.add(this.helpButton),this.helpButton.x=-this.helpButton.width,this.helpButton.y=50,this.helpButton.anchor.setTo(.5,0),this.helpButton.bringToTop(),this.gtfsButton=this.createPhoneButton("gtfs",this.onClickGtfs,this,2),this.phoneGroup.add(this.gtfsButton),this.gtfsButton.x=0,this.gtfsButton.y=50,this.gtfsButton.anchor.setTo(.5,0),this.gtfsButton.bringToTop(),this.messagesButton=this.createPhoneButton("messages",this.onClickMessages,this,2),this.phoneGroup.add(this.messagesButton),this.messagesButton.x=this.messagesButton.width,this.messagesButton.y=50,this.messagesButton.anchor.setTo(.5,0),this.messagesButton.bringToTop(),this.videosButton=this.createPhoneButton("videos",this.onClickVideos,this,2),this.phoneGroup.add(this.videosButton),this.videosButton.x=-this.videosButton.width,this.videosButton.y=50+this.videosButton.height,this.videosButton.anchor.setTo(.5,0),this.videosButton.bringToTop(),this.ringtoneButton=this.createPhoneButton("ringtones",this.onClickRingtone,this,2),this.phoneGroup.add(this.ringtoneButton),this.ringtoneButton.x=0,this.ringtoneButton.y=50+this.videosButton.height,this.ringtoneButton.anchor.setTo(.5,0),this.ringtoneButton.bringToTop(),this.backgroundButton=this.createPhoneButton("background",this.onClickBackground,this,2),this.phoneGroup.add(this.backgroundButton),this.backgroundButton.x=this.messagesButton.width,this.backgroundButton.y=50+this.videosButton.height,this.backgroundButton.anchor.setTo(.5,0),this.backgroundButton.bringToTop(),this.closeButton=this.createPhoneButton("close",this.onClickClose,this,2),this.phoneGroup.add(this.closeButton),this.closeButton.x=0,this.closeButton.y=50+3*this.gtfsButton.height,this.closeButton.anchor.setTo(.5,0),this.closeButton.bringToTop(),this.phoneGroup.visible=!1},initBlockingGroup:function(){this.blockingSprite=this.createBlockingSprite(),this.blockingSprite2=this.createBlockingSprite(),this.game.add.existing(this.blockingSprite),this.game.add.existing(this.blockingSprite2),this.blockingSprite.visible=!1,this.blockingSprite2.visible=!1},initMessageWindowGroup:function(){var a=this.phoneBg.width-32,b=this.game.world.centerX-a/2,c=this.phoneBg.y+32,d=this.phoneBg.height-74,e=d/7,f=10;d-=e,this.textGroup=this.game.add.group(),this.textGroup.x=b,this.textGroup.y=c,this.headingText=new Phaser.Text(this.game,a/2,e/2,"HEADING TEST",this.fontHeader),this.headingText.anchor.setTo(.5,.5),this.fontBody.wordWrap=!0,this.fontBody.wordWrapWidth=.9*a,this.fontBodyLink.wordWrap=!0,this.fontBodyLink.wordWrapWidth=.9*a,this.bodyText=new Phaser.Text(this.game,f,e+f,"THIS IS A TEXT MESSAGE FOR YOU TO SEE TEST",this.fontBody),this.bodyText.anchor.setTo(0,0),this.bodyText.inputEnabled=!0,this.bodyText.events.onInputDown.add(this.clickedBodyText,this);var g=new Phaser.Graphics(this.game);this.textGroup.add(g),g.beginFill(3487029),g.lineStyle(1,0,1),g.drawRect(0,0,a,e),g.beginFill(16777215,.9),g.drawRect(0,e,a,d),g.endFill();var h=new Phaser.Sprite(this.game,0,0,this.theme.textureKey,this.theme.phone.messages.button);h.x=a-h.width-f,h.y=e+d-f-h.height,h.inputEnabled=!0,h.events.onInputDown.add(this.chooseOk,this),this.playButton=new Phaser.Sprite(this.game,f,0,this.theme.textureKey,this.theme.phone.playButton),this.playButton.inputEnabled=!0,this.playButton.events.onInputDown.add(this.clickedBodyText,this),this.playButton.visible=!1,this.textGroup.add(this.headingText),this.textGroup.add(this.bodyText),this.textGroup.add(h),this.textGroup.add(this.playButton),this.hideText()},showText:function(a,b,c,d,e){var g=null;if(e&&(g=this.modelInterface.getValue(e)),
this.headingText.setText(a),this.setBodyText(b,d,e),this.textGroup.visible=!0,this.blockingSprite2.visible=!0,c){var h="Received: "+f().format("MMM Do YYYY, h:mm a "),i=this.modelInterface.getValue(a);i=i.charAt(0).toUpperCase()+i.slice(1),this.headingText.setText("From: "+i+"\n"+h)}},setBodyText:function(a,b,e){if(d.debug("In set body text."),b===!0?(this.bodyText.inputEnabled=!0,this.playButton.visible=!0,this.playButton.inputEnabled=!0):(this.bodyText.inputEnabled=!1,this.playButton.visible=!1,this.playButton.inputEnabled=!1),"string"==typeof a)d.debug("Setting as simple string"),this.bodyText.setStyle(this.fontBody),this.bodyText.setText(this.substituteText(a));else if(d.debug("not a string, parsing everything.."),this.bodyText.setStyle(this.fontBodyLink),e){d.debug("useValue defined, as: "+e);var f=parseInt(this.modelInterface.getValue(e),10);d.debug("value is "+f);var g=!1;if(c.each(a,function(a){f>=a[0]&&f<=a[1]&&(this.bodyText.setText(this.substituteText(a[2])),g=!0)},this),g===!1){var h=0,i=0,j="",k="";c.each(a,function(a){a[0]>h&&(h=a[0],j=a[2]),a[1]>h&&(h=a[1],j=a[2]),a[0]<i&&(i=a[0],k=a[2]),a[1]<i&&(i=a[1],k=a[2])},this),f>h?this.bodyText.setText(this.substituteText(j)):f<i?this.bodyText.setText(this.substituteText(k)):this.bodyText.setText(this.substituteText(a[0][2]))}}else this.bodyText.setText(this.substituteText(a[0][2]));this.playButton.y=this.bodyText.y+this.bodyText.height+5},substituteText:function(a){d.debug("Doing substitution on: "+a);var b,c;if(b=a.indexOf("$"),b===-1)return a;if(c=a.indexOf("$",b+1),c===-1)return a;var e=a.substring(b,c+1),f=e.substring(0,e.length-1),g=this.modelInterface.getValue(f);return g=g.charAt(0).toUpperCase()+g.slice(1),a.replace(e,g)},hideText:function(){this.textGroup.visible=!1,this.blockingSprite2.visible=!1},chooseOk:function(){this.currentIcon&&this.currentIcon.variable&&(this.dispatch(this.currentIcon,"closed"),this.currentIcon=null),this.hideText()},clickedBodyText:function(){this.dispatch(this.currentIcon,"clicked"),this.dispatch(this.currentIcon,"afterClicked")},destroy:function(){this.fontHeader=null,this.fontBody=null,this.phoneGroup&&this.phoneGroup.destroy(),this.textGroup&&this.textGroup.destroy(),this.blockingSprite&&this.blockingSprite.destroy(!0),this.blockingSprite2&&this.blockingSprite2.destroy(!0),this.playButton&&this.playButton.destroy(),this.freeBaseActor()}});b.exports=g}()},{"./play-actor":42,lodash:6,loglevel:7,moment:8}],31:[function(a,b,c){!function(){var c=a("./play-actor"),d=c.extend({constructor:function(a,b){if(!a)throw"actor requires game constructor argument.";this.game=a,this.data={name:"playthroughdisplay"},this.theme=b},enterScene:function(){this.buildActor()},buildActor:function(){if(!this.theme.playthroughDisplayContainer)throw"You cannot display playthrough without providing an image in the theme.";this.sprite=this.game.add.sprite(0,0,this.theme.textureKey,this.theme.playthroughDisplayContainer),this.sprite.x=this.game.world.width-this.sprite.width,this.sprite.y=0;var a=this.getFont("playThrough"),b=new Phaser.Text(this.game,this.sprite.width/2,this.sprite.height/2,"Playthrough: "+this.modelInterface.getValue("$playThrough"),a);b.anchor.setTo(.5,.5),this.sprite.addChild(b),this.sprite.visible=!1},hide:function(){this.sprite&&(this.sprite.visible=!1)},show:function(){this.sprite&&(this.sprite.visible=!0,this.sprite.bringToTop())},destroy:function(){this.sprite&&this.sprite.destroy(!0),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42}],32:[function(a,b,c){!function(){var c=a("lodash"),d=(a("loglevel"),a("./play-actor")),e=d.extend({constructor:function(a,b,c){if(!a)throw"Decoration actor requires game constructor argument.";if(!b)throw"Decoration actor requires data constructor argument.";this.game=a,this.theme=c,this.data=b,this.events={onGameChoice:new Phaser.Signal,onGameSpeech:new Phaser.Signal},this.choiceMap=this.data.choiceMap,this.currentQuestionName=this.data.startQuestion,this.currentQuestion=this.choiceMap[this.currentQuestionName],this.marginY=6;var d=this.data.font;this.style=this.getFont("undefined"!=typeof d?d:"questionText"),this.location=this.data.location,this.radioGroup=this.game.add.group(),this.radioTextGroup=this.game.add.group(),this.currentX="undefined"!=this.location?this.location[0]:3*this.theme.snitchingOrTellingleftMargin,this.currentY="undefined"!=this.location?this.location[1]:35},enterScene:function(){this.determineChoiceList(),this.buildActor(),this.populateChoices()},determineChoiceList:function(){},buildActor:function(){if("undefined"!=typeof this.currentQuestion.text&&(this.questionText=this.game.add.text(this.currentX,this.currentY,this.currentQuestion.text,this.style),this.currentY+=this.questionText.height+this.marginY),!this.data.submitButtonImage||!this.data.submitButtonID||!this.data.submitButtonLocation)throw"Question Actor requires submit button configuration in scene data";if(!this.theme.buttons||!this.theme.buttons[this.data.submitButtonImage])throw"Question Actor requires a submit button entry in theme";this.submitButton=this.game.add.button(this.data.submitButtonLocation[0],this.data.submitButtonLocation[1],this.theme.textureKey,this.onSubmitButtonPointerUp,this,this.theme.buttons[this.data.submitButtonImage].over,this.theme.buttons[this.data.submitButtonImage].out,this.theme.buttons[this.data.submitButtonImage].down,this.theme.buttons[this.data.submitButtonImage].up),this.submitButton.inputEnabled=!1},populateChoices:function(){var a,b,d=this.currentQuestion,e=(this.currentY,0),f=d.choices;if(c.each(f,function(c){a=this.radioGroup.create(0,0,this.theme.textureKey,this.theme.buttons.radioButtonGroup.unselected),a.inputEnabled=!0,a.events.onInputDown.add(this.onChooseOption,this),a.group=this.radioGroup,a.x=3*this.theme.snitchingOrTellingleftMargin,a.y=this.currentY+2,a.frameName=this.theme.buttons.radioButtonGroup.unselected,a.variable=c.variable,a.value=c.value,a.scale.set(.75,.75),b=new Phaser.Text(this.game,4*this.theme.snitchingOrTellingleftMargin,0,c.text,this.style),this.radioTextGroup.add(b),b.y=this.currentY,b.inputEnabled=!0,b.events.onInputDown.add(this.onChooseOption,this),b.group=this.radioTextGroup,b.variable=c.variable,b.value=c.value,b.radioButton=a,a.optionText=b,this.currentY+=a.optionText.height,e++},this),d.text||d.audio){var g={text:d.text,audio:d.audio,key:d.key};this.events.onGameSpeech.dispatch(this.data.name,g)}},onChooseOption:function(a){a.radioButton?(a.radioButton.group.setAll("frameName",this.theme.buttons.radioButtonGroup.unselected),a.radioButton.frameName=this.theme.buttons.radioButtonGroup.selected):(a.group.setAll("frameName",this.theme.buttons.radioButtonGroup.unselected),a.frameName=this.theme.buttons.radioButtonGroup.selected);var b={};b[a.variable]=a.value,this.events.onGameChoice.dispatch(this.data.name,b),this.lastResponseValue=a.value,this.submitButton.inputEnabled=!0},onSubmitButtonPointerUp:function(a){var b={text:this.lastResponseValue};this.events.onGameSpeech.dispatch(this.data.submitButtonID,b)},destroy:function(){this.radioGroup&&(this.radioGroup.forEachExists(function(a){a.optionText&&(a.optionText=null),a.destroy()},this),this.radioGroup.destroy()),this.radioTextGroup&&(this.radioTextGroup.forEachExists(function(a){a.radioButton&&(a.radioButton=null),a.destroy()},this),this.radioTextGroup.destroy()),this.submitButton&&this.submitButton.destroy(),this.questionText&&this.questionText.destroy(),this.events.onGameChoice.dispose(),this.events.onGameSpeech.dispose(),this.events.length=0}});b.exports=e}()},{"./play-actor":42,lodash:6,loglevel:7}],33:[function(a,b,c){!function(){"use strict";var c=a("lodash"),d=(a("loglevel"),a("./play-actor")),e=12,f=12,g=d.extend({getRequiredFields:function(){return[]},enterScene:function(){this.text=this.data.text||" ",this.audio=this.data.audio||"",this.key=this.data.key,this.addWindow(200,50),this.setSpeech(),!this.data.hidden&&this.text&&" "!==this.text||(this.windowGroup.visible=!1)},addWindow:function(a,b){if(!this.theme.textWindows||!this.theme.textWindows.small)throw"Instruction actor requires textWindows theme entry, and small definition inside it.";var d=this.game.add.group();d.x=a,d.y=b;var g=d.create(0,0,this.theme.textureKey,this.theme.textWindows.small.top);this.fStyle=this.getFont("bubbleText"),this.rStyle=this.getFont("replayAudio"),this.fStyle.wordWrap=!0,this.fStyle.wordWrapWidth=.85*g.width,this.currentText=new Phaser.Text(this.game,e,f," ",this.fStyle),d.add(this.currentText);var h=d.create(0,0,this.theme.textureKey,this.theme.textWindows.small.bottom),i=new Phaser.TileSprite(this.game,0,g.height,338,this.currentText.height-30,this.theme.textureKey,this.theme.textWindows.small.middle);d.add(i),h.y=g.height+i.height,this.windows={top:g,middle:i,bottom:h},c.each(this.windows,function(a){a.inputEnabled=!0,a.events.onInputOver.add(this.onMouseIn,this),a.events.onInputOut.add(this.onMouseOut,this),a.events.onInputUp.add(this.onPointerUp,this)},this),this.replayText=new Phaser.Text(this.game,(h.x+h.width-40)/2,(g.height+h.height+i.height)/2,"Replay Audio",this.rStyle),this.replayText.anchor.setTo(.5,.5),d.add(this.replayText),this.replayText.visible=!1,this.currentText.bringToTop(),this.replayText.bringToTop(),this.windowGroup=d,d.x-=g.width/2},resize:function(){this.windows.middle.height=this.currentText.height-30,this.windows.bottom.y=this.windows.top.height+this.windows.middle.height},onMouseIn:function(){this.fStyle.fill=this.theme.tints.bubbleText,this.currentText.setStyle(this.fStyle),this.replayText.visible=!0},onMouseOut:function(){this.fStyle.fill=this.getFont("bubbleText").fill,this.currentText.setStyle(this.fStyle),this.replayText.visible=!1},onPointerUp:function(){this.events.onGameSpeech.dispatch(this.data.name,{text:this.text,audio:this.audio,key:this.key})},setSpeech:function(){var a=this.substituteText(this.getText(this.text,this.key));this.currentText.setText(a),this.events.onGameSpeech.dispatch(this.data.name,{text:a,audio:this.audio,key:this.key}),this.resize()},onGameSpeech:function(a){this.text=a.text,this.key=a.key,this.audio=a.audio,this.currentText.setText(this.substituteText(this.getText(this.text,this.key))),this.resize(),this.text&&" "!==this.text&&(this.windowGroup.visible=!0)},destroy:function(){this.rStyle=null,this.fStyle=null,this.windows&&c.each(this.windows,function(a){a.inputEnabled=!1},this),this.windows=null,this.currentText=null,this.windowGroup&&this.windowGroup.destroy(!0),this.freeBaseActor()}});b.exports=g}()},{"./play-actor":42,lodash:6,loglevel:7}],34:[function(a,b,c){!function(){"use strict";var c=(a("lodash"),a("loglevel"),a("./play-actor")),d=c.extend({getRequiredFields:function(){return[]},enterScene:function(){this.carrotSide=this.data.carrotSide,this.location=this.data.location,this.carrotPosition=this.data.carrotPosition,this.centerFill=this.data.centerFill,this.text=this.data.text,this.bubbleWidth=this.data.bubbleWidth,this.textPadding=this.data.textPadding,this.hidden=this.data.hidden,this.startDelay=this.data.startDelay,this.addWindow(this.location[0],this.location[1]),this.data.hidden&&(this.windowGroup.visible=!1)},addWindow:function(a,b){if(!this.theme.textBubbleImages)throw"Instruction actor requires textBubbleImages theme entry.";var c=this.game.add.group();c.x=a,c.y=b;var d=c.create(0,0,this.theme.textureKey,this.theme.textBubbleImages.topLeft),e=c.create(d.width,0,this.theme.textureKey,this.theme.textBubbleImages.top),f=c.create(d.width+e.width,0,this.theme.textureKey,this.theme.textBubbleImages.topRight),g=c.create(f.x,f.height,this.theme.textureKey,this.theme.textBubbleImages.right),h=c.create(f.x,f.height+g.height,this.theme.textureKey,this.theme.textBubbleImages.bottomRight),i=c.create(e.x,h.y,this.theme.textureKey,this.theme.textBubbleImages.bottom),j=c.create(0,h.y,this.theme.textureKey,this.theme.textBubbleImages.bottomLeft),k=(c.create(0,d.height,this.theme.textureKey,this.theme.textBubbleImages.left),this.game.add.graphics(d.width,d.height,c));this.fStyle=this.getFont("textBubbleText"),this.fStyle.wordWrap=!0,this.fStyle.wordWrapWidth=this.bubbleWidth-2*this.textPadding,this.currentText=new Phaser.Text(this.game,this.textPadding,this.textPadding,this.text,this.fStyle),c.add(this.currentText);for(var l=this.bubbleWidth-d.width-f.width,m=Math.ceil(l/e.width),n=l%e.width,o=1;o<m;o++)var p=c.create(d.width+o*e.width,0,this.theme.textureKey,this.theme.textBubbleImages.top);0!=n&&(p.x-=e.width-n),f.x=this.bubbleWidth-f.width,g.x=h.x=f.x;var q=this.currentText.height+2*this.textPadding-e.height-i.height,r=Math.ceil(q/g.height),s=q%g.height;for(o=1;o<r;o++)var t=c.create(f.x,f.height+g.height*o,this.theme.textureKey,this.theme.textBubbleImages.right);for(0!=s&&(t.y-=g.height-s),h.y=f.height+q,i.y=h.y,o=1;o<m;o++)var u=c.create(d.width+o*e.width,i.y,this.theme.textureKey,this.theme.textBubbleImages.bottom);for(0!=n&&(u.x-=e.width-n),j.y=h.y,o=1;o<r;o++)var v=c.create(0,f.height+g.height*o,this.theme.textureKey,this.theme.textBubbleImages.left);0!=s&&(v.y-=g.height-s);var w=null;switch(this.carrotSide){case"top":w=c.create(this.bubbleWidth*this.carrotPosition,this.theme.textBubbleImages.carrotOverlap,this.theme.textureKey,this.theme.textBubbleImages.carrot),w.scale.y=-1,w.anchor.x=.5;break;case"right":w=c.create(this.bubbleWidth-this.theme.textBubbleImages.carrotOverlap,(q+f.height+h.height)*this.carrotPosition,this.theme.textureKey,this.theme.textBubbleImages.carrot),w.anchor.x=.5,w.rotation=-90*(Math.PI/180);break;case"bottom":w=c.create(this.bubbleWidth*this.carrotPosition,q+f.height+h.height-this.theme.textBubbleImages.carrotOverlap,this.theme.textureKey,this.theme.textBubbleImages.carrot),w.anchor.x=.5;break;case"left":w=c.create(this.theme.textBubbleImages.carrotOverlap,(q+f.height+h.height)*this.carrotPosition,this.theme.textureKey,this.theme.textBubbleImages.carrot),w.anchor.x=.5,w.rotation=90*(Math.PI/180)}k.beginFill(this.centerFill),k.drawRect(0,0,l,q),k.endFill(),c.bringToTop(this.currentText),this.windowGroup=c},destroy:function(){this.rStyle=null,this.currentText=null,this.windowGroup&&this.windowGroup.destroy(!0),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,lodash:6,loglevel:7}],35:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel"),a("./play-actor")),d=c.extend({getRequiredFields:function(){return["location","font","text"]},enterScene:function(){this.text=this.data.text,this.location=this.data.location,this.audio=this.data.audio,this.key=this.data.key;var a=this.data.font;this.style=this.getFont("undefined"!=typeof a?a:"questionText"),this.data.wordWrapWidth&&(this.style.wordWrap=!0,this.style.wordWrapWidth=parseInt(this.data.wordWrapWidth,10)),this.buildActor()},buildActor:function(){var a=this.location[0],b=this.location[1],c=0,d=0;if("center"===a&&(a=this.game.world.centerX,c=.5),"center"===b&&(b=this.game.world.centerY,d=.5),"left"===this.data.anchor?c=0:"center"===this.data.anchor?c=.5:"right"===this.data.anchor&&(c=1),this.data.anchor&&(c=this.data.anchor[0],d=this.data.anchor[1]),this.bulletX=a,this.data.bullet){var e="undefined"!=typeof this.style.bulletOffset,f=e?"•":"• ";this.bulletSprite=this.game.add.text(a,b,f,this.style),a+=this.bulletSprite.width,e&&(a+=this.style.bulletOffset)}this.textX=a,this.textSprite=this.game.add.text(a,b,this.text,this.style),"undefined"!=typeof this.style.lineSpacing&&(this.textSprite.lineSpacing=this.style.lineSpacing),"undefined"!=typeof this.style.alpha&&(this.textSprite.alpha=this.style.alpha);var g=void 0!=typeof this.style.shadowX,h=void 0!=typeof this.style.shadowY,i=void 0!=typeof this.style.shadowColor,j=void 0!=typeof this.style.shadowBlur;if(g||h||i||j){var k=5,l=5;g&&(k=this.style.shadowX,h||(l=k)),h&&(l=this.style.shadowY,g||(k=l));var m="rgba(0,0,0,1)";i&&(m=this.style.shadowColor);var n=0;j&&(n=this.style.shadowBlur),this.textSprite.setShadow(k,l,m,n)}if(this.textSprite.anchor.setTo(c,d),this.audio){var o={audio:this.audio,key:this.key};this.events.onGameSpeech.dispatch(this.data.name,o)}if(this.data.tween){var p=this.data.tween,q=this.textX-this.bulletX;if(p.location){var r="undefined"!=typeof p.yoyo&&p.yoyo,s="undefined"!=typeof p.delay?p.delay:0;this.data.bullet&&this.game.add.tween(this.bulletSprite).to({x:p.location[0],y:p.location[1]},p.time,"Linear",!0,s,0,r),this.game.add.tween(this.textSprite).to({x:p.location[0]+q,y:p.location[1]},p.time,"Linear",!0,s,0,r)}}},onGameSpeech:function(a){a&&a.text&&this.textSprite.setText(a.text)},destroy:function(){this.textSprite&&this.textSprite.destroy(),this.bulletSprite&&this.bulletSprite.destroy(),this.location=null,this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,lodash:6,loglevel:7}],36:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel"),a("./play-actor")),d=c.extend({getRequiredFields:function(){return["location","images","values","variable"]},enterScene:function(){this.isActive=!1,this.data.active&&this.data.active===!0&&(this.isActive=!0),this.buildActor(),"mute_game"===this.data.variable&&(this.isActive=!this.game.sound.mute),this.buttonOn.visible=this.isActive,this.buttonOff.visible=!this.isActive},buildActor:function(){if(!this.theme.buttons||!this.theme.buttons[this.data.images.off]||!this.theme.buttons[this.data.images.on])throw"Button Actor requires buttons entry in theme, with specific entry matching images off/on";this.buttonOff=this.game.add.button(this.data.location[0],this.data.location[1],this.theme.textureKey,this.onPointerUp,this,this.theme.buttons[this.data.images.off].over,this.theme.buttons[this.data.images.off].out,this.theme.buttons[this.data.images.off].down,this.theme.buttons[this.data.images.off].up),this.buttonOff.inputEnabled=!0,this.buttonOn=this.game.add.button(this.data.location[0],this.data.location[1],this.theme.textureKey,this.onPointerUp,this,this.theme.buttons[this.data.images.on].over,this.theme.buttons[this.data.images.on].out,this.theme.buttons[this.data.images.on].down,this.theme.buttons[this.data.images.on].up),this.buttonOn.inputEnabled=!0,this.data.scale&&(this.buttonOff.scale.setTo(this.data.scale[0],this.data.scale[1]),this.buttonOn.scale.setTo(this.data.scale[0],this.data.scale[1]))},onAction:function(){var a={};a[this.data.variable]=this.isActive?this.data.values.on:this.data.values.off,this.events.onGameChoice.dispatch(this.data.name,a),this.buttonOn.visible=this.isActive,this.buttonOff.visible=!this.isActive},onPointerUp:function(){this.isActive=!this.isActive,this.onAction()},destroy:function(){this.buttonOff&&(this.buttonOff.inputEnabled=!1,this.buttonOff.destroy()),this.buttonOn&&(this.buttonOn.inputEnabled=!1,this.buttonOn.destroy()),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,lodash:6,loglevel:7}],37:[function(a,b,c){!function(){var c=(a("lodash"),a("./play-actor")),d=c.extend({enterScene:function(){this.buildActor()},getRequiredFields:function(){return["location","width","height","url","variable"]},buildActor:function(){this.button=this.game.add.button(this.data.location[0],this.data.location[1],null,this.onPointerUp,this,null,null,null,null),this.button.inputEnabled=!0,this.button.width=this.data.width,this.button.height=this.data.height},onPointerUp:function(a){window.open(_environmentSettings.assetPath+this.data.url,"_blank");var b={};b[this.data.variable]=this.data.name,this.events.onGameChoice.dispatch(this.data.name,b)},destroy:function(){this.button&&this.button.destroy(),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,lodash:6}],38:[function(a,b,c){!function(){var c=(a("lodash"),a("./play-actor-button")),d=c.extend({getRequiredFields:function(){var a=["url"],b=this.base(),c="undefined"!=typeof b?b.concat(a):a;return c},onPointerUp:function(a){window.open(_environmentSettings.assetPath+this.data.url,"_blank"),this.base(a)}});b.exports=d}()},{"./play-actor-button":21,lodash:6}],39:[function(a,b,c){!function(){"use strict";var c=a("lodash"),d=a("loglevel"),e=a("./play-actor"),f=a("jquery"),g=e.extend({getRequiredFields:function(){return["location","size","video"]},enterScene:function(){if(!Wistia)throw"Wistia appears to be missing, cannot create wistia actor.";this.video=this.data.video,this.blockInput=this.data.blockInput||!1,this.element=f(this.game.canvas.parentElement),this.blockInput&&(this.blockingSprite=this.createBlockingSprite(),this.blockingSprite.bringToTop(),this.blockingSprite.visible=!1),this.currentX=this.data.location[0],this.currentY=this.data.location[1],this.width=this.data.size[0],this.height=this.data.size[1],"center"===this.currentX&&(this.currentX=this.game.world.centerX-this.width/2),"center"===this.currentY&&(this.currentY=this.game.world.centerY-this.height/2),c.bindAll(this,"addWindow"),window.wistiaInit=this.addWindow},addListeners:function(){c.bindAll(this,"onWistiaEnd"),c.bindAll(this,"onWistiaPlay"),this.wistiaEmbed.bind("play",this.onWistiaPlay),this.wistiaEmbed.bind("end",this.onWistiaEnd),this.data.variable&&(c.bindAll(this,"onWistiaMarker"),this.data.markers&&c.isArray(this.data.markers)&&this.wistiaEmbed.bind("secondchange",this.onWistiaMarker))},onGameSpeech:function(a){a.audio&&a.audio!==this.video&&this.pause()},pause:function(){"undefined"!=typeof this.wistiaEmbed&&this.wistiaEmbed.pause()},onWistiaMute:function(a){d.debug("Called onWistiaMute: "+a),a?this.wistiaEmbed.volume(0):this.wistiaEmbed.volume(1)},onWistiaMarker:function(a){c.each(this.data.markers,function(b){if(parseInt(b,10)===a){var c={};return c[this.data.variable]=a,this.dispatchGameChoice(c),!1}},this)},onWistiaEnd:function(){if(this.data.variable){var a={};a[this.data.variable]="finished",this.dispatchGameChoice(a)}},onWistiaPlay:function(){if(this.onWistiaMute(this.game.sound.mute),this.events.onGameSpeech.dispatch(this.data.name,{text:null,audio:this.video,key:null}),this.data.variable){var a={};a[this.data.variable]="started",this.dispatchGameChoice(a)}},addWindow:function(){if(this.element){this.videoContainer=document.createElement("div"),0==this.data.autoScale?this.videoContainer.setAttribute("style","position: absolute; z-index: 150; width: "+this.width+"px; height: "+this.height+"px; top: "+this.currentY+"px; left: "+this.currentX+"px;"):this.game.scale.isFullScreen?this.setFullscreenVideoPosition():this.setDomVideoPosition(),this.videoContainer.setAttribute("id","videoContainer"),this.videoElement=document.createElement("div");var a="wistia_embed wistia_async_"+this.video;this.game.device.iPad&&(a+=" qualityMax=360"),1!=this.data.autoScale&&null!=this.data.autoScale||(a+=" videoFoam=true"),this.videoElement.setAttribute("class",a),this.videoElement.setAttribute("id","videoElement"),this.videoContainer.appendChild(this.videoElement);var b=document.querySelector("#game");b.appendChild(this.videoContainer),this.handleFullscreen.bind(this),this.game.scale.onFullScreenChange.add(this.handleFullscreen,this),window._wq=window._wq||[],c.bindAll(this,"onWistiaEmbed"),_wq.push({id:this.video,onReady:this.onWistiaEmbed})}},setDomVideoPosition:function(){var a=this.currentX/this.game.world.width*100;this.videoLocationLeftPct=a;var b=this.currentY/this.game.world.height*100,c=this.data.size[0]/this.game.world.width*100;this.videoContainer.setAttribute("style","position: absolute; z-index: 150;"),this.videoContainer.style.width=c+"%",this.videoContainer.style.top=b+"%",this.videoContainer.style.left=a+"%"},handleFullscreen:function(a){if(console.log(a.isFullScreen),1==a.isFullScreen){var b=this.game.time.create(!0);b.add(250,this.setFullscreenVideoPosition,this),b.start()}else this.setDomVideoPosition()},setFullscreenVideoPosition:function(){var a=document.getElementById(this.game.parent),b=document.getElementsByTagName("canvas")[0],c=this.game.scale.scaleFactorInversed.x;this.videoContainer.setAttribute("style","position: absolute; z-index: 150;");var d=b.offsetLeft/a.offsetWidth*100,e=this.currentX*c/a.offsetWidth*100,f=d+e;this.videoContainer.style.left=f+"%";var g=b.offsetTop/a.offsetHeight*100,h=this.currentY*c/a.offsetHeight*100,i=g+h;this.videoContainer.style.top=i+"%";var j=this.data.size[0]/this.game.world.width,k=this.game.scale.width,l=k*j,m=l/a.offsetWidth*100;this.videoContainer.style.width=m+"%"},onWistiaEmbed:function(a){console.log("wistia video loaded"),this.element&&!this.wistiaEmbed&&(this.wistiaEmbed=a,this.showBlockingSprite(),this.addCloseButton(),this.blockInput&&(this.blockingSprite.visible=!0),this.addListeners(),this.data.autoplay===!0&&this.wistiaEmbed.play())},showBlockingSprite:function(){this.blockInput&&this.game.add.existing(this.blockingSprite)},addCloseButton:function(){if(this.data.hideCloseButton!==!0){var a,b;"undefined"==typeof this.data.closeButtonLocation?(a=this.currentX+this.width,b=this.currentY):(a=this.data.closeButtonLocation[0],b=this.data.closeButtonLocation[1]),this.button=new Phaser.Button(this.game,a,b,this.theme.textureKey,this.onClose,this,this.theme.buttons.videoClose.over,this.theme.buttons.videoClose.out,this.theme.buttons.videoClose.down,this.theme.buttons.videoClose.up),"undefined"==typeof this.data.closeButtonLocation&&(this.button.y-=this.button.height),this.button.bringToTop(),this.button.input.useHandCursor=!0,this.game.add.existing(this.button)}},createBlockingSprite:function(){var a="undefined"==typeof this.data.blockerTint?0:this.data.blockerTint,b="undefined"==typeof this.data.blockerAlpha?.5:this.data.blockerAlpha,c=new Phaser.Sprite(this.game,0,0),d=new Phaser.Graphics(this.game,0,0);return c.addChild(d),d.beginFill(a,b),d.drawRect(0,0,this.game.world.width,this.game.world.height),d.endFill(),c.inputEnabled=!0,c},onClose:function(){this.destroy()},destroy:function(){if(this.element){this.wistiaEmbed&&(this.wistiaEmbed.unbind(),this.wistiaEmbed.remove(),this.wistiaEmbed=null),this.blockInput&&(this.blockingSprite.visible=!1),this.button&&(this.button.visible=!1,this.button.destroy(),this.button=null),f("#videoContainer").hide();var a={};a[this.data.name]="closed",this.events.onGameChoice.dispatch(this.data.name,a),this.blockInput&&this.blockingSprite.destroy(!0),f("#videoContainer").remove(),this.element=null,this.freeBaseActor()}}});b.exports=g}()},{"./play-actor":42,jquery:5,lodash:6,loglevel:7}],40:[function(a,b,c){!function(){"use strict";var c=(a("lodash"),a("loglevel"),a("./play-actor")),d=15,e=20,f=c.extend({getRequiredFields:function(){return["location"]},enterScene:function(){this.text=this.data.text||" ",this.key=this.data.key,this.addWindow(this.data.location[0],this.data.location[1]),this.setSpeech()},addWindow:function(a,b){if(!this.theme.textWindows||!this.theme.textWindows.zink)throw"Instruction actor requires textWindows theme entry, and zink definition inside it.";var c=this.game.add.group();c.x=a,c.y=b;var f=c.create(0,0,this.theme.textureKey,this.theme.textWindows.zink);this.fStyle=this.getFont("bubbleText"),this.fStyle.wordWrap=!0,this.fStyle.wordWrapWidth=.55*f.width,this.currentText=new Phaser.Text(this.game,d,e," ",this.fStyle),c.add(this.currentText),this.currentText.bringToTop(),this.windowGroup=c},setSpeech:function(){this.currentText.setText(this.getText(this.text,this.key)),this.events.onGameSpeech.dispatch(this.data.name,{text:this.text,audio:this.audio,key:this.key})},onGameSpeech:function(a){this.text=a.text,this.key=a.key,this.currentText.setText(this.getText(this.text,this.key))},destroy:function(){this.fStyle=null,this.windowGroup&&this.windowGroup.destroy(!0),this.windowGroup=null,this.currentText=null,this.freeBaseActor()}});b.exports=f}()},{"./play-actor":42,lodash:6,loglevel:7}],41:[function(a,b,c){!function(){var c=(a("lodash"),a("loglevel"),a("./play-actor")),d=c.extend({getRequiredFields:function(){return[]},enterScene:function(){this.buildActor(),this.data.text&&this.addTextBox()},buildActor:function(){this.darkOut=new Phaser.Graphics(this.game,0,0),this.darkOut.beginFill(0,.4),this.darkOut.drawRect(0,0,this.game.world.width,this.game.world.height),this.darkOut.endFill(),this.game.add.existing(this.darkOut),this.sprite=this.game.add.sprite(this.game.world.centerX,0,this.theme.textureKey,this.getImage("zink-poster","actorImages")),this.sprite.x=this.game.world.centerX-this.sprite.width/2,this.sprite.angle-=3},addTextBox:function(){this.font=this.getFont("zinkPoster"),this.boxY=this.sprite.y+.75*this.sprite.height,this.boxWidth=this.sprite.width-2,this.boxHeight=115,this.font.wordWrap=!0,this.font.wordWrapWidth=.9*this.boxWidth,this.text=new Phaser.Text(this.game,10,5,this.data.text,this.font),this.graphics=new Phaser.Graphics(this.game,1,this.boxY),this.graphics.beginFill(15724527,1),this.graphics.drawRect(0,0,this.boxWidth,this.boxHeight),this.graphics.endFill(),this.graphics.addChild(this.text),this.sprite.addChild(this.graphics)},destroy:function(){this.sprite&&this.sprite.destroy(),this.darkOut&&this.darkOut.destroy(),this.freeBaseActor()}});b.exports=d}()},{"./play-actor":42,lodash:6,loglevel:7}],42:[function(a,b,c){!function(){"use strict";var c=a("lodash"),d=a("loglevel"),e=a("basejs"),f={font:"20px Tahoma",fill:"#000000",fontWeight:"bold"},g="Text Not Found.",h="Image Not Found.",i=e.extend({constructor:function(a,b,c){if(!a)throw"Actor requires game constructor argument.";if(!b)throw"Actor requires data constructor argument.";if(!c)throw"Actor requires data constructor argument.";this.game=a,this.theme=c,this.data=b,this.validate(),this.events={onGameChoice:new Phaser.Signal,onGameSpeech:new Phaser.Signal}},freeBaseActor:function(){this.events&&(this.events.onGameChoice.dispose(),this.events.onGameSpeech.dispose()),this.events=null,this.theme=null},validate:function(){if(!this.data.name)throw"Actor has data, but no name. Name is required.";if(!this.data.type)throw"Actor has data, but no name. Name is required.";if(c.each(this.getRequiredFields(),function(a){if(void 0===this.data[a]||null===this.data[a])throw"["+this.data.type+"] Actor ["+this.data.name+"] is missing required field: "+a},this),this.data.name&&"$"===this.data.name.charAt(0))throw"Actor names cannot be variables, and will not be resolved."},getType:function(){return this.data.type},getName:function(){return this.data.name},getPrimarySprite:function(){return this.sprite},getRequiredFields:function(){throw"You must implement this function. Return an array of field names."},setModelInterface:function(a){this.modelInterface=a},getFont:function(a){return d.debug("Asking for font with "+a),this.theme&&this.theme.fonts&&this.theme.fonts[a]?c.clone(this.theme.fonts[a]):(d.error("Font not found for "+a),c.clone(f))},getText:function(a,b){d.debug("Asking for text with "+a+" / "+b);var c=a,e=b;if(this.modelInterface&&(c=this.modelInterface.getValue(a),e=this.modelInterface.getValue(b)),d.debug("--> Asking for text with "+c+" / "+e),!this.theme||!this.theme.texts&&!e)return d.error("text unavailable for "+c+" / "+e),g;var f=this.theme.texts[c];return f||e?(e&&this.theme.texts[e]&&(f=this.theme.texts[e][c]),d.debug("returning "+f),f||c):c},getImage:function(a,b){d.debug("Asking for image with "+a+" / "+b);var c=a,e=b;if(this.modelInterface&&(c=this.modelInterface.getValue(a),e=this.modelInterface.getValue(b)),d.debug("--> Asking for image with "+c+" / "+e),!this.theme||!this.theme.images&&!e)return d.error("image not found for "+c+" / "+e),h;var f=this.theme.images[c];return f||e?(e&&(f=this.theme.images[e][c]),f):c},getMyValue:function(){var a;return this.data.variable&&this.modelInterface&&(a=this.modelInterface.getValue("$"+this.data.variable)),a},destroy:function(){d.error("Failed to implement destroy for actor type: "+this.data.type)},createBlockingSprite:function(){var a=new Phaser.Sprite(this.game,0,0),b=new Phaser.Graphics(this.game,0,0);return a.addChild(b),b.beginFill(0,.01),b.drawRect(0,0,this.game.world.width,this.game.world.height),b.endFill(),a.inputEnabled=!0,a},substituteText:function(a){d.debug("Doing substitution on: "+a);var b,c;if(b=a.indexOf("$"),b===-1)return a;if(c=a.indexOf("$",b+1),c===-1)return a;var e=a.substring(b,c+1),f=e.substring(0,e.length-1),g=this.modelInterface.getValue(f);return g=g.charAt(0).toUpperCase()+g.slice(1),a.replace(e,g)},dispatchGameChoice:function(a){
this.events.onGameChoice.dispatch(this.data.name,a,this)},dispatchGameSpeech:function(a){this.events.onGameSpeech.dispatch(this.data.name,a,this)},isSoundEventInverse:function(){return this.data&&this.data.inverseSoundEvents===!0},getBody:function(){return null},onOverlapping:function(a){},onReceiveDrop:function(a){}});b.exports=i}()},{basejs:1,lodash:6,loglevel:7}],43:[function(a,b,c){!function(){var c=a("lodash"),d=a("loglevel"),e=a("basejs"),f=a("./play-scene"),g=a("./play-action"),h=a("./play-model"),i=(a("util"),e.extend({constructor:function(a,b,c){if(!a)throw"PlayScene requires game constructor argument.";if(!b)throw"PlayScene requires themeData constructor argument.";this.game=a,this.theme=b,this.actName=c,this.events={onGameChoice:new Phaser.Signal,onActStatus:new Phaser.Signal},this.isPreloaded=!1},setScormString:function(a){this.suspendData=a},getScormString:function(){return this.model.getSuspendData()},start:function(a){d.debug("showCurrentScene called."),this.model=new h(JSON.parse(this.game.cache.getText(this.actName+"_scene_data"))),this.suspendData&&(this.model.restoreData(this.suspendData),this.suspendData=null),this.model.events.onGameOutcome.add(this.onGameOutcome,this),this.initSounds(),a&&(d.debug("Trying to restart..."+this.model.currentSceneName),this.model.tryResume(),d.debug("....."+this.model.currentSceneName)),this.startScene()},startScene:function(){var a=this.model.getCurrentScene();this.currentScene?this.currentScene.showNewSceneData(a):this.currentScene=new f(this.game,a,this.model.getVarInterface(),this.theme),this.model.showPlayThrough&&this.currentScene.showPlayThrough(),this.currentScene.sceneId=a.id,this.currentScene.events.onGameChoice.add(this.onGameChoice,this),this.currentScene.events.onGameSpeech.add(this.onGameSpeech,this),this.currentScene.showScene(),this.runSceneStartActions(),this.events.onActStatus.dispatch("save")},runSceneStartActions:function(){c.each(this.currentScene.data.actions,function(a){d.debug("executing starting action:"),d.debug(a),g.getAction(a).execute(this)},this),this.game.input.disabled=!1},stop:function(){this.gameSounds&&(this.gameSounds.onStop.removeAll(),this.gameSounds.stop(),this.gameSounds.destroy()),this.game.input.disabled=!0,this.currentScene&&(this.currentScene.destroy(),this.currentScene=null),this.unload()},stopScene:function(){this.gameSounds&&(this.gameSounds.onStop.removeAll(),this.gameSounds.stop(),this.gameSounds.onStop.add(this.onSoundFinished,this)),this.game.input.disabled=!0,this.currentScene&&this.currentScene.clearForReuse()},onGameChoice:function(a){if(d.debug("game choice"),d.debug(a),this.events.onGameChoice.dispatch(a),!a.consumed){var b=c.pairs(a)[0];d.debug(b),a.consumed=this.actCommand(b[0],b[1]),a.consumed||this.model.setVar(b[0],b[1])}},clearVariable:function(a){this.model.variables[a]=void 0},actCommand:function(a,b){if(d.debug("Act command: "+a+" / "+b),"dp"===a.substr(0,2))return this.model.recordDecision(a,b),this.events.onActStatus.dispatch("save"),!1;if("remove-actor"==a&&this.currentScene)this.currentScene.removeActorByName(b);else if("add-actor"==a&&this.currentScene)this.currentScene.addActor(b);else if("act_complete"===a)this.model.clearSavedChoices(),this.model.incrementPlaythrough(b)&&this.events.onActStatus.dispatch("complete");else{if("objective_complete"!==a)return!1;this.events.onActStatus.dispatch("complete")}return!0},onGameSpeech:function(a){d.debug("on game speech"),d.debug(a);var b=this.model.getValue(a.audio);if(a.key&&(b=this.model.getValue(a.key)+"_"+b),this.gameSounds){if(this.gameSounds.isPlaying){if(d.debug(this.gameSounds.currentMarker),this.gameSounds.currentMarker===b)return void d.debug("Already playing.");this.gameSounds.stop()}if(!this.theme.sounds[b])return void d.debug("Request to play unknown key: "+b);d.debug("Playing audio "+b),this.gameSounds.play(b)}},onSoundFinished:function(a,b){d.debug("On sound Finished called for: "+b),d.debug(a),this.currentScene&&this.currentScene.onGameSpeechStop(b)},onGameOutcome:function(a){c.each(a,function(a){d.debug("executing actions for "+a.name),c.each(a.actions,function(b){d.debug("executing action:"),d.debug(a),g.getAction(b).execute(this)},this)},this)},initSounds:function(){this.gameSounds=this.game.add.audio(this.theme.soundKey),this.gameSounds.allowMultiple=!0,c.each(this.theme.sounds,function(a,b){this.gameSounds.addMarker(b,a[0],a[1],1,a[2])},this),this.gameSounds.onStop.add(this.onSoundFinished,this)},showNewScene:function(a){this.model.setCurrentScene(a)&&(this.stopScene(),this.startScene())},getMediaData:function(){return{textureKey:this.theme.textureKey,texture:this.theme.texture,textureMap:this.theme.textureMap,soundKey:this.theme.soundKey,soundFile:this.theme.soundFile,dataFile:this.theme.data}},tickUpdate:function(a){"undefined"!=typeof this.currentScene&&this.currentScene.tickUpdate(a)},renderDebug:function(){},preload:function(){this.isPreloaded||(d.debug("!!! Called Preload in Act "+this.actName),this.mediaData=this.getMediaData(),this.game.load.text(this.actName+"_scene_data",this.mediaData.dataFile),this.game.load.atlasJSONHash(this.mediaData.textureKey,this.mediaData.texture,this.mediaData.textureMap),this.mediaData.soundFile&&this.game.load.audio(this.mediaData.soundKey,this.mediaData.soundFile),this.isPreloaded=!0)},unload:function(){this.isPreloaded&&(this.mediaData=this.getMediaData(),this.game.cache.removeImage(this.mediaData.textureKey),this.game.cache.removeText(this.mediaData.textureMap),this.game.cache.removeText(this.actName+"_scene_data"),this.mediaData.soundFile&&this.game.cache.removeSound(this.mediaData.soundKey),this.isPreloaded=!1)},isPreloadComplete:function(){return this.isPreloaded===!0||!!this.game.cache.getText(act.id+"_scene_data")&&(!this.mediaData.soundFile||this.game.cache.isSoundDecoded(this.mediaData.soundKey)&&this.game.cache.isSoundReady(this.mediaData.soundKey))},setStandAlone:function(a){}}));b.exports=i}()},{"./play-action":44,"./play-model":46,"./play-scene":47,basejs:1,lodash:6,loglevel:7,util:4}],44:[function(a,b,c){!function(){"use strict";var c=(a("lodash"),a("loglevel"),a("basejs")),d=a("./actions/play-action-choice"),e=a("./actions/play-action-remove-actor"),f=a("./actions/play-action-add-actor"),g=a("./actions/play-action-scene"),h=c.extend({constructor:function(){this.actions={}},registerAction:function(a,b){this.actions[a]=b},getAction:function(a){if(!a||!a.type||!this.actions[a.type])throw"Cannot retrieve an action without an action type. { type: '..', args: [...]} ";var b=this.actions[a.type];return new b(a.args)}}),i=new h;i.registerAction("variable",d),i.registerAction("choice",d),i.registerAction("scene",g),i.registerAction("remove-actor",e),i.registerAction("add-actor",f),b.exports=i}()},{"./actions/play-action-add-actor":14,"./actions/play-action-choice":15,"./actions/play-action-remove-actor":16,"./actions/play-action-scene":17,basejs:1,lodash:6,loglevel:7}],45:[function(a,b,c){!function(){"use strict";var c=(a("lodash"),a("loglevel"),a("basejs")),d=a("./actors/play-actor-speech-bubble"),e=a("./actors/play-actor-zink-computer"),f=a("./actors/play-actor-announcer"),g=a("./actors/play-actor-character"),h=a("./actors/play-actor-zink-poster"),i=a("./actors/play-actor-instruction-bubble"),j=a("./actors/play-actor-button"),k=a("./actors/play-actor-url-button"),l=a("./actors/play-actor-url-button-invisible"),m=a("./actors/play-actor-phone-button"),n=a("./actors/play-actor-choice"),o=a("./actors/play-actor-question"),p=a("./actors/play-actor-text"),q=a("./actors/play-actor-phone"),r=a("./actors/play-actor-toggle-button"),s=a("./actors/play-actor-decoration"),t=a("./actors/play-actor-wistia"),u=a("./actors/play-actor-audio"),p=a("./actors/play-actor-text"),v=a("./actors/play-actor-drag"),w=a("./actors/play-actor-drop"),x=a("./actors/play-actor-line"),y=a("./actors/play-actor-blocker"),z=a("./actors/play-actor-text-bubble"),A=c.extend({constructor:function(){this.actors={}},registerActor:function(a,b){this.actors[a]=b},getActor:function(a){return this.actors[a]}}),B=new A;B.registerActor("speech-bubble",d),B.registerActor("announcer",f),B.registerActor("character",g),B.registerActor("choice",n),B.registerActor("question",o),B.registerActor("text",p),B.registerActor("zink-poster",h),B.registerActor("instructions",i),B.registerActor("button",j),B.registerActor("url-button",k),B.registerActor("url-button-invisible",l),B.registerActor("phone-button",m),B.registerActor("phone",q),B.registerActor("toggle-button",r),B.registerActor("wistia",t),B.registerActor("video",t),B.registerActor("decoration",s),B.registerActor("zink-computer",e),B.registerActor("audio",u),B.registerActor("text",p),B.registerActor("drag",v),B.registerActor("drop",w),B.registerActor("blocker",y),B.registerActor("line",x),B.registerActor("text-bubble",z),b.exports=B}()},{"./actors/play-actor-announcer":18,"./actors/play-actor-audio":19,"./actors/play-actor-blocker":20,"./actors/play-actor-button":21,"./actors/play-actor-character":22,"./actors/play-actor-choice":23,"./actors/play-actor-decoration":24,"./actors/play-actor-drag":25,"./actors/play-actor-drop":26,"./actors/play-actor-instruction-bubble":27,"./actors/play-actor-line":28,"./actors/play-actor-phone":30,"./actors/play-actor-phone-button":29,"./actors/play-actor-question":32,"./actors/play-actor-speech-bubble":33,"./actors/play-actor-text":35,"./actors/play-actor-text-bubble":34,"./actors/play-actor-toggle-button":36,"./actors/play-actor-url-button":38,"./actors/play-actor-url-button-invisible":37,"./actors/play-actor-wistia":39,"./actors/play-actor-zink-computer":40,"./actors/play-actor-zink-poster":41,basejs:1,lodash:6,loglevel:7}],46:[function(a,b,c){!function(){var c=a("lodash"),d=a("loglevel"),e=(a("util"),a("basejs")),f="none",g=e.extend({constructor:function(a){if(this.rawData=a,!this.rawData)throw"PlayModel requires game data constructor argument.";this.variables={score:0,playThrough:1,decisionsCurrent:["XX","XX","XX","XX","XX","XX","XX","XX","XX"],decisionsPrevious:["XX","XX","XX","XX","XX","XX","XX","XX","XX"],phoneRingerIndex:0,phoneBgIndex:0},this.scores={PA:-2,DI:1,AL:0,EN:-1,PR:2,XX:0},this.events={onGameOutcome:new Phaser.Signal},this.validate(),this.variables.start_scene=this.defaultSceneName,this.currentSceneName=this.defaultSceneName},getCurrentScene:function(){var a=this.scenes[this.currentSceneName];return a||d.error("getCurrentScene failed to return a scene."),a},getVarInterface:function(){var a=this;return{getValue:function(b){return a.getValue(b)},clearValue:function(b){a.setVar(b,null)}}},getValue:function(a){return a&&"string"==typeof a&&0===a.indexOf("$")?this.getVar(a.substr(1)):a},setCurrentScene:function(a){var b=this.getValue(a);return b!==this.currentSceneName&&(this.currentSceneName=b,!0)},validate:function(){var a=this.rawData;if(!a.play)throw"PlayModel has no play data.";if(!a.play.start||!a.play.scenes)throw"PlayModel play data has no start or scenes.";a.showPlayThrough&&(this.showPlayThrough=!0),this.scenes=a.play.scenes,this.defaultSceneName=a.play.start,this.resumeScene=a.play.resume,this.showPlayThrough=a.play.showPlayThrough},setVar:function(a,b){if("score"===a)this.variables.score+=parseInt(b,10);else{if(this.variables[a]===b)return;this.variables[a]=b}this.checkForCompletedOutcomes(a)},getVar:function(a){return this.variables[a]},checkForCompletedOutcomes:function(a){var b=this.getCurrentScene(),e=[];return b.outcomes?(c.each(b.outcomes,function(b,c){this.checkOutcome(b,a)===!0&&e.push({name:c,actions:b.actions})},this),void(e.length>0&&this.events.onGameOutcome.dispatch(e))):(d.error("Scene with no outcomes in checkForCompletedOutcomes."),void d.error(b))},checkOutcome:function(a,b){if(!a.events)return!1;var d,e=c.pairs(a.events),f=!0,g=!1;return c.each(e,function(a){d=this.getVar(a[0]),a[0]===b&&(g=!0),f=f&&this.matchSingleOutcome(d,a[1])},this),f&&g},matchSingleOutcome:function(a,b){if(null===a||void 0===a)return!1;if("string"==typeof b){if(a===b||"*"===b)return!0}else if("number"==typeof b){if(parseInt(a,10)===parseInt(b,10))return!0}else if(c.isArray(b)){var d=!1;return c.each(b,function(b){d=d||this.matchSingleOutcome(a,b)},this),d}return!1},restoreData:function(a){if(d.debug(a),a){var b=a.split(",");this.currentSceneName=b[0],this.variables.playThrough=parseInt(b[1],10),this.variables.character_1=this.resolveCharacter(b[2]),this.variables.character_2=this.resolveCharacter(b[3]),this.variables.character_3=this.resolveCharacter(b[4]),this.variables.decisionsPrevious=b[5].split("|"),this.variables.decisionsCurrent=b[6].split("|"),this.variables.score=0,c.each(this.variables.decisionsCurrent,function(a){this.variables.score+=this.convertToPoints(a)},this)}},tryResume:function(){this.currentSceneName!==this.defaultSceneName&&this.getResumeScene()&&(this.variables.restore_scene=this.currentSceneName,d.debug(this.currentSceneName),this.currentSceneName=this.getResumeScene())},getResumeScene:function(){return this.resumeScene},resolveCharacter:function(a){return a===f?void 0:a},convertToPoints:function(a){return void 0!==this.scores[a]?this.scores[a]:"0"},getSuspendData:function(){var a=this.variables.character_1||f,b=this.variables.character_2||f,c=this.variables.character_3||f,e=this.currentSceneName+","+this.variables.playThrough+","+a+","+b+","+c+","+this.variables.decisionsPrevious.join("|")+","+this.variables.decisionsCurrent.join("|");return d.debug(e),e},recordDecision:function(a,b){d.debug("Recording decision "+a+" / "+b);var c=parseInt(a.substr(2),10);this.variables.decisionsCurrent[c-1]=b,this.variables.score+=this.scores[b]},incrementPlaythrough:function(a){d.debug("increasing play through");var b=!1;if(this.variables.playThrough=parseInt(this.variables.playThrough,10),!a)throw"You must provide a complete count.";return a=parseInt(a,10),this.variables.playThrough===a&&(d.debug("Target playthroughs reached"),this.variables.playThrough=0,b=!0),this.variables.playThrough++,this.currentSceneName=this.defaultSceneName,this.variables.decisionsPrevious=this.variables.decisionsCurrent,this.variables.decisionsCurrent=["XX","XX","XX","XX","XX","XX","XX","XX","XX"],b},clearSavedChoices:function(){this.variables.character_1=void 0,this.variables.character_2=void 0,this.variables.character_3=void 0}});b.exports=g}()},{basejs:1,lodash:6,loglevel:7,util:4}],47:[function(a,b,c){!function(){var c=a("lodash"),d=a("loglevel"),e=a("basejs"),f=a("./play-actor"),g=a("./actors/play-actor-playthrough"),h=e.extend({constructor:function(a,b,c,d){if(!a)throw"PlayScene requires game constructor argument.";if(!b)throw"PlayScene requires data constructor argument.";this.initScene(a),this.events={onGameChoice:new Phaser.Signal,onGameSpeech:new Phaser.Signal},this.data=b,this.modelInterface=c,this.theme=d,this.actors=[],this.delayedActors=[],this.isShowPlayThrough=!1,this.playthroughActor=null},initScene:function(a){this.game=a,this.bgColor=this.game.add.graphics(0,0),this.bgColor.beginFill("0xFFFFFF"),this.bgColor.drawRect(0,0,this.game.world.width,this.game.world.height),this.bgColor.endFill(),this.bgColor._chw_name="SceneBackgroundGraphics"},showNewSceneData:function(a){this.data=a,this.bgColor.visible=!1,this.playthroughActor&&this.playthroughActor.hide()},showScene:function(){this.bgColor.visible=!0,this.background?this.background.frameName=this.theme.sceneImages[this.data.background]:(this.background=this.game.add.sprite(0,0,this.theme.textureKey,this.theme.sceneImages[this.data.background]),this.background.inputEnabled=!0,this.game.input.disabled=!0),c.each(this.data.actors,this.addActor,this),this.isShowPlayThrough&&this.playthroughActor.show()},showPlayThrough:function(){null==this.playthroughActor&&(this.playthroughActor=new g(this.game,this.theme),this.playthroughActor.setModelInterface(this.modelInterface),this.playthroughActor.enterScene()),this.isShowPlayThrough=!0},addActor:function(a){a.variable&&this.modelInterface.clearValue(a.variable);var b=f.getActor(a.type),c=new b(this.game,a,this.theme);if(c.setModelInterface(this.modelInterface),c.events&&(c.events.onGameChoice&&c.events.onGameChoice.add(this.onGameChoice,this),c.events.onGameSpeech&&c.events.onGameSpeech.add(this.onGameSpeech,this)),"undefined"==typeof a.startDelay)this.actors.push(c),c.enterScene();else{var d=[];d[0]=-1,d[1]=a.startDelay,d[2]=c,this.delayedActors.push(d)}},onGameChoice:function(a,b){this.events.onGameChoice.dispatch(b);var d=c.pairs(b)[0];b.consumed=this.sceneCommand(a,d[0],d[1]),b.consumed||c.each(this.actors,function(c){c.getName()!==a&&c.onGameChoice&&c.onGameChoice(b)},this)},sceneCommand:function(a,b,e){return d.debug("Scene command: "+b+" / "+e),"dropped"===b?(c.each(this.actors,function(a){"drop"===a.getType()&&c.each(this.actors,function(b){if("drag"===b.getType()&&this.game.physics.arcade.overlap(a.getPrimarySprite(),b.getPrimarySprite()))return a.onReceiveDrop(b.getName()),!1},this)},this),!0):("mute_game"===b&&c.each(this.actors,function(b){b.data.name!==a&&"wistia"===b.data.type&&b.onWistiaMute(this.game.sound.mute)},this),!1)},onGameSpeech:function(a,b,d){this.events.onGameSpeech.dispatch(b),d&&d.isSoundEventInverse()?d.onGameSpeech&&d.onGameSpeech(b):c.each(this.actors,function(c){c.data.name!==a&&c.onGameSpeech&&c.onGameSpeech(b),"wistia"===c.data.type&&c.onGameSpeech(b)},this)},onGameSpeechStop:function(a){c.each(this.actors,function(b){b&&b.onGameSpeechStop&&b.onGameSpeechStop(a)},this)},removeActorByName:function(a){var b,c=null;for(b=0;b<this.actors.length;b++){if(this.actors[b].data.name===a){c=this.actors[b];break}d.debug(this.actors[b].data.name)}if(c)this.actors.splice(b,1),this.destroyActor(c);else{for(b=0;b<this.delayedActors.length;b++){var e=this.delayedActors[b][2];if(e.data.name===a){c=e;break}d.debug(e.data.name)}c&&(this.delayedActors.splice(b,1),c.destroy())}},tickUpdate:function(a){for(var b=this.delayedActors.length-1;b>=0;b--)if(this.delayedActors[b][0]<0&&(this.delayedActors[b][0]=a+this.delayedActors[b][1]),a>=this.delayedActors[b][0]){var d=this.delayedActors[b][2];this.delayedActors[b][1];this.delayedActors.splice(b,1),this.actors.push(d),d.enterScene()}c.each(this.actors,function(a){"drop"===a.getType()&&c.each(this.actors,function(b){if("drag"===b.getType()){if(this.game.physics.arcade.overlap(a.getPrimarySprite(),b.getPrimarySprite()))return a.onOverlapping(b.getName()),!1;a.onOverlapping(null)}},this)},this)},destroyActor:function(a){a.events&&(a.events.onGameChoice&&a.events.onGameChoice.removeAll(),a.events.onGameSpeech&&a.events.onGameSpeech.removeAll()),a.destroy()},clearForReuse:function(){for(var a;a=this.actors.pop();)this.destroyActor(a),a=null;this.actors=[];for(var b;b=this.delayedActors.pop();)a=b[2],a.destroy(),a=null;this.delayedActors=[],this.events.onGameChoice.removeAll(),this.events.onGameSpeech.removeAll()},destroy:function(){this.clearForReuse(),this.bgColor.destroy(),this.background.inputEnabled=!1,this.background.destroy(),this.events.onGameChoice.dispose(),this.events.onGameSpeech.dispose(),this.events=null}});b.exports=h}()},{"./actors/play-actor-playthrough":31,"./play-actor":45,basejs:1,lodash:6,loglevel:7}],48:[function(a,b,c){!function(){var c=a("basejs"),d=a("loglevel"),e=a("lodash"),f=c.extend({constructor:function(a){this.scormInterface=a||window,this.sessionStartTime=new Date,this.interval=0,this.scormAvailable=!1,this.initSuccess="",this.constants={incomplete:"incomplete",notAttempted:"not attempted",complete:"completed"},this.LMSKeys={lessonStatus:"cmi.core.lesson_status",interactionCount:"cmi.interactions._count",suspendData:"cmi.suspend_data",interactionId:"cmi.interactions.#.id",interactionType:"cmi.interactions.#.type",interactionCorrectPattern:"cmi.interactions.#.correct_responses.0.pattern",interactionActualPattern:"cmi.interactions.#.student_response",interactionResult:"cmi.interactions.#.result",rawScore:"cmi.core.score.raw",sessionTime:"cmi.core.session_time",objectiveId:"cmi.objectives.#.id",objectiveStatus:"cmi.objectives.#.status"},this.LMSObjectiveStatusValues=["passed","completed","failed","incomplete","browsed","not attempted"],this.LMSInteractionTypes=["true-false","choice","fill-in","matching","performance","sequencing","likert","numeric"],this.LMSResultTypes=["correct","wrong","unanticipated","neutral"],this.LMSResultTypeNumber=/[0-9]+\.[0-9]+/,this.lessonData={}},initialize:function(a){if(d.debug("Initializing SCORM CH API"),a&&a.scormEnabled){if(d.debug("scormEnabled === true, initializing SCORM"),!doLMSInitialize)return void d.error("The LMS Wrapper appears to be missing. Skipping SCORM Initialization.");if(this.initSuccess=doLMSInitialize(),"true"===this.initSuccess){this.scormAvailable=!0,d.debug("SCORM initialized from SCORM CH API successfully.");var b=this;window.onbeforeunload=function(){window.clearInterval(b.interval),doLMSFinish()},this.sessionStartTime=new Date}else d.error("SCORM initialize from SCORM CH API, FAILED!"),alert("Could not initialize SCORM API.")}else d.warn("scormEnabled === false, skipping SCORM")},initializeStatus:function(){if(this.scormAvailable){var a=doLMSGetValue(this.LMSKeys.lessonStatus);a&&a!==this.constants.notAttempted||this.setLessonStatus(this.constants.incomplete)}else this.setLessonStatus(this.constants.incomplete)},setLessonStatus:function(a){if(this.scormAvailable){var b=this.computeSessionTime();doLMSSetValue(this.LMSKeys.sessionTime,b),doLMSSetValue(this.LMSKeys.lessonStatus,a),doLMSCommit()}else this.lessonData[this.LMSKeys.lessonStatus]=a},getLessonStatus:function(){var a="";return a=this.scormAvailable?doLMSGetValue(this.LMSKeys.lessonStatus):this.lessonData[this.LMSKeys.lessonStatus]},isLessonComplete:function(){return this.getLessonStatus()===this.constants.complete},getObjective:function(a){var b,c;this.scormAvailable?(b=doLMSGetValue(this.LMSKeys.objectiveId.replace("#",a)),c=doLMSGetValue(this.LMSKeys.objectiveStatus.replace("#",a))):(b=this.lessonData[this.LMSKeys.objectiveId.replace("#",a)],c=this.lessonData[this.LMSKeys.objectiveStatus.replace("#",a)]);var e={index:a,id:b,status:c};return d.debug(e),e},setObjective:function(a,b,c){if(d.debug("Set objective "+a+" "+b+" "+c),this.scormAvailable){var e=this.computeSessionTime();doLMSSetValue(this.LMSKeys.sessionTime,e),doLMSSetValue(this.LMSKeys.objectiveId.replace("#",a),b),doLMSSetValue(this.LMSKeys.objectiveStatus.replace("#",a),c),doLMSCommit()}else this.lessonData[this.LMSKeys.objectiveId.replace("#",a)]=b,this.lessonData[this.LMSKeys.objectiveStatus.replace("#",a)]=c},getInteractionCount:function(){var a=0;return a=this.scormAvailable?doLMSGetValue(this.LMSKeys.interactionCount):this.lessonData[this.LMSKeys.interactionCount]||0,Number(a)},createInteraction:function(a,b,c,f,g,h){if(d.debug(a),"object"==typeof a&&(b=a.id,c=a.type,f=a.correctResponse,g=a.studentResponse,h=a.result,a=a.index),c&&!e.contains(this.LMSInteractionTypes,c))throw"Invalid LMSInteractionType: "+c;if(h&&!e.contains(this.LMSResultTypes,h)&&!h.match(this.LMSResultTypeNumber))throw"Invalid LMSResultType: "+h;if(b=this.trimString(b,255),b=this.replaceSpaces(b,"_"),this.scormAvailable){var i=this.computeSessionTime();doLMSSetValue(this.LMSKeys.sessionTime,i),doLMSSetValue(this.LMSKeys.interactionId.replace("#",a),b),doLMSSetValue(this.LMSKeys.interactionType.replace("#",a),c),doLMSSetValue(this.LMSKeys.interactionCorrectPattern.replace("#",a),f),doLMSSetValue(this.LMSKeys.interactionActualPattern.replace("#",a),g),doLMSSetValue(this.LMSKeys.interactionResult.replace("#",a),h),doLMSCommit()}else this.lessonData[this.LMSKeys.interactionId.replace("#",a)]=b,this.lessonData[this.LMSKeys.interactionType.replace("#",a)]=c,this.lessonData[this.LMSKeys.interactionCorrectPattern.replace("#",a)]=f,this.lessonData[this.LMSKeys.interactionActualPattern.replace("#",a)]=g,this.lessonData[this.LMSKeys.interactionResult.replace("#",a)]=h},setSuspendData:function(a){if(this.scormAvailable){d.debug("Setting suspend data"),d.debug(a);var b=this.computeSessionTime();doLMSSetValue(this.LMSKeys.sessionTime,b),doLMSSetValue(this.LMSKeys.suspendData,a),doLMSCommit()}else this.lessonData[this.LMSKeys.suspendData]=a},getSuspendData:function(){var a="";return a=this.scormAvailable?doLMSGetValue(this.LMSKeys.suspendData):this.lessonData[this.LMSKeys.suspendData]},markComplete:function(){if(this.scormAvailable){var a=this.computeSessionTime();doLMSSetValue(this.LMSKeys.sessionTime,a),doLMSSetValue(this.LMSKeys.lessonStatus,this.constants.complete),doLMSCommit()}else this.lessonData[this.LMSKeys.lessonStatus]=this.constants.complete},setRawScore:function(a){if(this.scormAvailable){var b=this.computeSessionTime();doLMSSetValue(this.LMSKeys.sessionTime,b),doLMSSetValue(this.LMSKeys.rawScore,a),doLMSCommit()}else this.lessonData[this.LMSKeys.rawScore]=a},getRawScore:function(){var a=0;return a=this.scormAvailable?doLMSGetValue(this.LMSKeys.rawScore):this.lessonData[this.LMSKeys.rawScore]},computeSessionTime:function(){var a=new Date,b=a.getTime()-this.sessionStartTime.getTime(),c=new Date(b);return this.formatDateForSCORM(c)},formatDateForSCORM:function(a){var b="",c=a.getUTCHours(),d=a.getUTCMinutes(),e=a.getUTCSeconds();return c<10&&(b+="0"),b=b+c+":",d<10&&(b+="0"),b=b+d+":",e<10&&(b+="0"),b+=e},trimString:function(a,b){return a.length>b&&(a=a.substr(0,b)),a},replaceSpaces:function(a,b){return a.replace(/\s/g,b)},getLessonData:function(){return this.lessonData}});b.exports=f}()},{basejs:1,lodash:6,loglevel:7}],49:[function(a,b,c){!function(){"use strict";var c=a("basejs"),d=c.extend({constructor:function(a){if(!(a&&a.loading_image_key&&a.loading_image_url&&a.play_json_key&&a.play_json_url&&a.clickthrough_state_name))throw"Boot State is missing a required configuration field.";this.settings=a,this.ready=!1},init:function(){this.ready=!1,this.game.input.maxPointers=1,this.game.stage.disableVisibilityChange=!0,this.game.scale.refresh(),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL},preload:function(){this.game.load.image(this.settings.loading_image_key,this.settings.loading_image_url),this.game.load.text(this.settings.play_json_key,this.settings.play_json_url)},update:function(){if(this.game.cache.getText(this.settings.play_json_key)&&!this.ready){this.ready=!0;var a=this.game.cache.getText(this.settings.play_json_key),b=JSON.parse(a);for(var c in b.acts)b.acts[c].theme=_environmentSettings.assetPath+b.acts[c].theme;this.game.state.start(this.settings.clickthrough_state_name)}}});b.exports=d}()},{basejs:1}],50:[function(a,b,c){!function(){"use strict";var c=(a("loglevel"),a("basejs")),d=(a("../play"),a("../loading-screen")),e=(a("lodash"),c.extend({constructor:function(a){if(!(a&&a.loading_image_key&&a.play_json_key&&a.preload_state_name))throw"Clickthrough state is missing a required configuration field.";this.settings=a},init:function(){this.loadingScreen=new d(this.game,this.settings)},preload:function(){},create:function(){this.loadingScreen.show(!0),this.game.input.onUp.add(function(a){a.withinGame&&(this.loadingScreen.destroy(),this.state.start(this.settings.preload_state_name))},this)},update:function(){}}));b.exports=e}()},{"../loading-screen":10,"../play":13,basejs:1,lodash:6,loglevel:7}],51:[function(a,b,c){!function(){"use strict";var c=a("loglevel"),d=a("../loading-screen"),e=a("basejs"),f=e.extend({constructor:function(a){if(!a||!a.loading_image_key)throw"Main state is missing a required configuration field.";this.settings=a,this.loadingScreen=null},init:function(a){c.info("Main state created"),this.loadingScreen||(this.loadingScreen=new d(this.game,this.settings)),this.ready=!1,this.isRestart=a},preload:function(){this.loadingScreen.show(!1),this.game.play.preloadAct()},create:function(){},render:function(){this.game.play.renderDebug()},update:function(){this.ready===!0?this.game.play.tickUpdate(this.game.time.now):this.game.play.isPreloadActComplete()===!0&&(this.ready=!0,this.game.play.showNextAct(this.isRestart),this.loadingScreen.destroy())}});b.exports=f}()},{"../loading-screen":10,basejs:1,loglevel:7}],52:[function(a,b,c){!function(){"use strict";var c=a("loglevel"),d=a("basejs"),e=a("../play"),f=a("../loading-screen"),g=(a("lodash"),d.extend({constructor:function(a){if(!(a&&a.loading_image_key&&a.play_json_key&&a.main_state_name))throw"Preload state is missing a required configuration field.";this.settings=a},init:function(){this.loadingScreen=new f(this.game,this.settings),this.ready=!1;var a=this.game.cache.getText(this.settings.play_json_key);if(!a)throw"Error in Preload: Did not find play json data in cache.";var b=JSON.parse(a);for(var c in b.acts)b.acts[c].theme=_environmentSettings.assetPath+b.acts[c].theme;this.game.play=new e(this.game,b,this.settings)},preload:function(){this.game.play.isLogging()===!0?c.enableAll():c.disableAll(),this.loadingScreen.show(!1),this.game.play.preload()},create:function(){this.game.scorm.initialize({scormEnabled:this.game.play.isScormEnabled()}),this.game.scorm.initializeStatus(),this.loadingScreen.destroy()},update:function(){this.ready===!1&&this.game.play.isPreloadComplete()===!0&&(this.ready=!0,this.game.play.loadScormData(),this.game.play.selectDefaultAct(),this.state.start(this.settings.main_state_name))}}));b.exports=g}()},{"../loading-screen":10,"../play":13,basejs:1,lodash:6,loglevel:7}],53:[function(a,b,c){!function(){var c=a("./engine/newbridge");b.exports=c}()},{"./engine/newbridge":11}]},{},[53])(53)});