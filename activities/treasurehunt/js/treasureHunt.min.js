function AudioChannel(e,t){this.scene=e,this.audioSprite=t,this.delayTimer=null,this.event=null,this.key=t.key,this.play=function(e,t,i){e.key==this.key?e.delay?this.delayedPlay(e.sprite,e.config,e.delay,t,i):this.playNow(e.sprite,e.config,t,i):console.log("Sound data must be from same AudioSprite. "+e.key+" != "+this.key)},this.stop=function(){this.audioSprite.stop(),this.clearDelayTimer(),this.cancelOnComplete()},this.playNow=function(e,t,i,n){this.stop(),this.audioSprite.play(e,t),this.clearDelayTimer(),i&&(this.event=this.audioSprite.once("complete",i,n))},this.delayedPlay=function(e,t,i,n,s){this.delayTimer=this.scene.time.delayedCall(i,this.playNow,[e,t,n,s],this)},this.clearDelayTimer=function(){null!=this.delayTimer&&(this.delayTimer.destroy(),this.delayTimer=null)},this.cancelOnComplete=function(){this.event&&this.event.removeAllListeners()}}function Draggable(e,t,i){this.config=e,this.context=t,this.dropCallback=i,this.data={},this.image=null,this.image=t.add.image(e.x,e.y,e.up.texture,e.up.frame),this.image.setInteractive(),this.context.input.on("drag",function(e,t,i,n){t.x=i,t.y=n}),this.context.input.on("dragend",this.handleDrop,this),this.handleDrop=function(e,t){this.dropCallback.call(this.context,this)},this.enable=function(){this.context.input.setDraggable(this.image,!0)},this.disable=function(){this.context.input.setDraggable(this.image,!1)},this.getImage=function(){return this.image},this.enable()}function TextButton(t,e,i,n,s,a){this.config=t,this.context=e,this.upCallback=i,this.downCallback=n,this.overCallback=s,this.outCallback=a,this.data={},this.hitArea=null,this.hitAreaType=null,this.image=null,this.text=null,this.image=e.add.image(t.x,t.y,t.graphic.texture,t.graphic.up),t.text&&(this.text=e.add.text(t.x+t.text.xOffset,t.y+t.text.yOffset,t.text.label,t.text.upStyle),this.text.setOrigin(.5,.5)),t.flipX&&(this.image.flipX=!0),t.depth&&(this.image.depth=t.depth),t.hitArea&&"rect"==t.hitArea.type&&(this.hitAreaType=t.hitArea.type,this.hitArea=new Phaser.Geom.Rectangle(t.hitArea.x,t.hitArea.y,t.hitArea.width,t.hitArea.height)),this.enable=function(){null!=this.hitArea?"rect"==this.hitAreaType&&(this.image.removeInteractive(),this.image.setInteractive(this.hitArea,this.checkHitRect)):this.image.setInteractive(),this.image.on("pointerdown",this.onDown,this),this.image.on("pointerup",this.onUp,this),this.image.on("pointerover",this.onOver,this),this.image.on("pointerout",this.onOut,this)},this.disable=function(){this.image.disableInteractive(),this.image.removeListener("pointerdown",this.onDown,this),this.image.removeListener("pointerup",this.onUp,this),this.image.removeListener("pointerover",this.onOver,this),this.image.removeListener("pointerout",this.onOut,this)},this.setVisible=function(e){this.image.visible=e,this.text&&(this.text.visible=e)},this.getImage=function(){return this.image},this.getVisuals=function(){var e=[this.image];return this.text&&e.push(this.text),e},this.setX=function(e){this.image.x=e,this.text&&(this.text.x=this.image.x+t.text.xOffset)},this.setY=function(e){this.image.y=e,this.text&&(this.text.y=this.image.y+t.text.yOffset)},this.setText=function(e){this.text&&(this.text.text=e)},this.onDown=function(){this.image.setFrame(this.config.graphic.down),this.text&&this.text.setStyle(this.config.text.downStyle),this.downCallback&&this.downCallback.call(this.context,this)},this.onOver=function(){this.image.setFrame(this.config.graphic.over),this.text&&this.text.setStyle(this.config.text.overStyle),this.overCallback&&this.overCallback.call(this.context,this)},this.onUp=function(){this.showUp(),this.upCallback&&this.upCallback.call(this.context,this)},this.onOut=function(){this.image.setFrame(this.config.graphic.up),this.text&&this.text.setStyle(this.config.text.upStyle),this.outCallback&&this.outCallback.call(this.context,this)},this.showSelected=function(){this.image.setFrame(this.config.graphic.selected),this.text&&this.text.setStyle(this.config.text.selectedStyle)},this.showUp=function(){this.image.setFrame(this.config.graphic.up),this.text&&this.text.setStyle(this.config.text.upStyle)},this.destroy=function(){this.disable(),this.image.destroy(),this.text&&this.text.destroy()},this.checkHitRect=function(e,t,i,n){return t>=e.x&&t<=e.x+e.width&&i>=e.y&&i<=e.y+e.height},this.setHitArea=function(e,t){"rect"==e&&(this.hitAreaType=e,this.hitArea=new Phaser.Geom.Rectangle(t.x,t.y,t.width,t.height))},this.enable()}!function(){function e(){var e=document.querySelector("canvas"),t=window.innerWidth,i=window.innerHeight,n=t/i,s=gSettings.gameConfig.width/gSettings.gameConfig.height;n<s?(e.style.width=t+"px",e.style.height=t/s+"px"):(e.style.width=i*s+"px",e.style.height=i+"px")}window.onload=function(){gSettings.autoScale&&(window.focus(),e(),window.addEventListener("resize",e)),gSettings.gameConfig.scene=[Boot,Clickthrough,Preload,GameBase,Splash,Menu,Map,LoadingAnimation,Supplies,Notifications,Question,Help,Action,HiddenTreasure,BuriedTreasure,SunkenTreasure,Instructions],gSettings.gameConfig.canvas=document.getElementById("game"),gSettings.gameConfig.type=Phaser.CANVAS,new Phaser.Game(gSettings.gameConfig)}}();var Action=new Phaser.Scene("Action");Action.CREATION_COMPLETE="creation-compelte",Action.CONTINUE="continue",Action.init=function(){this.itemImage=null,this.itemId=null,this.continueButton=null},Action.preload=function(){},Action.create=function(){this.baseScene=this.scene.get("GameBase"),this.baseScene.addBackgroundImages(gSettings.action.backgroundImages,this),this.events.emit(this.CREATION_COMPLETE)},Action.showLocationItem=function(e,t){this.reset(),this.itemId=e,this.itemImage=t?this.baseScene.addImage(gSettings.action.locationItems[e].usedImage,this):this.baseScene.addImage(gSettings.action.locationItems[e].unusedImage,this)},Action.reset=function(){this.itemImage&&this.itemImage.destroy(),this.continueButton&&this.continueButton.setVisible(!1)},Action.handleMatch=function(){this.showUsedItem(),this.showContinueButton()},Action.getItemId=function(){return this.itemId},Action.showUsedItem=function(){this.itemImage&&this.itemImage.destroy(),this.itemImage=this.baseScene.addImage(gSettings.action.locationItems[this.itemId].usedImage,this)},Action.showContinueButton=function(){this.continueButton?this.continueButton.setVisible(!0):this.continueButton=new TextButton(gSettings.action.continueButton,this,this.handleContinue)},Action.handleContinue=function(){this.events.emit(this.CONTINUE)},Action.getItemImage=function(){return this.itemImage};var Boot=new Phaser.Scene("Boot");Boot.preload=function(){this.load.image(gSettings.loader.rotator.key,gSettings.loader.rotator.file);for(var e=0;e<gSettings.loader.backgroundElements.length;e++)this.load.image(gSettings.loader.backgroundElements[e].key,gSettings.loader.backgroundElements[e].file)},Boot.create=function(){var e=!0;if(gSettings.scormEnabled)e=SCORM_API_adapter.lmsInitialize();e?this.scene.start("Clickthrough"):alert("Unable to initialize SCORM API. Re-start course to try again.")};var BuriedTreasure=new Phaser.Scene("BuriedTreasure");BuriedTreasure.CREATION_COMPLETE="creation-compelte",BuriedTreasure.BACK_TO_MENU="back-to-menu",BuriedTreasure.init=function(){this.menuButton=null,this.id="BuriedTreasure",this.dirts=[]},BuriedTreasure.preload=function(){},BuriedTreasure.create=function(){this.baseScene=this.scene.get("GameBase"),this.baseScene.addBackgroundImages(gSettings.treasure[this.id].backgroundImages,this);for(var e=0;e<gSettings.treasure[this.id].dirt.length;e++){var t=this.baseScene.addImage(gSettings.treasure[this.id].dirt[e],this);this.dirts.push(t)}this.events.emit(this.CREATION_COMPLETE)},BuriedTreasure.beginAnimation=function(){this.reset();for(var e=0;e<gSettings.treasure[this.id].dirt.length;e++)this.time.delayedCall(gSettings.treasure[this.id].dirt[e].visibleDuration,this.hideDirt,[e],this)},BuriedTreasure.hideDirt=function(e){this.baseScene.sfxChannel.play(gSettings.treasure[this.id].shovelSfx),this.dirts[e].visible=!1,0==e&&this.baseScene.sfxChannel.play(gSettings.treasure[this.id].revealSfx,this.playVo,this)},BuriedTreasure.playVo=function(){this.baseScene.audioChannel.play(gSettings.treasure[this.id].audio),this.addMenuButton()},BuriedTreasure.addMenuButton=function(){null!=this.menuButton&&(this.menuButton.destroy(),this.menuButton=null),this.menuButton=new TextButton(gSettings.treasure.menuButton,this,this.handleMenu)},BuriedTreasure.handleMenu=function(){this.baseScene.audioChannel.stop(),this.events.emit(this.BACK_TO_MENU)},BuriedTreasure.reset=function(){for(var e=0;e<this.dirts.length;e++)this.dirts[e].visible=!0};var Clickthrough=new Phaser.Scene("Clickthrough");Clickthrough.preload=function(){},Clickthrough.create=function(){this.addLoader(),this.input.on("pointerup",this.continue,this)},Clickthrough.addLoader=function(){for(var e=0;e<gSettings.loader.backgroundElements.length;e++)this.add.sprite(gSettings.loader.backgroundElements[e].x,gSettings.loader.backgroundElements[e].y,gSettings.loader.backgroundElements[e].key);this.add.sprite(gSettings.loader.rotator.x,gSettings.loader.rotator.y,gSettings.loader.rotator.key),this.add.text(gSettings.loader.clickthroughText.x,gSettings.loader.clickthroughText.y,gSettings.loader.clickthroughText.text,gSettings.loader.clickthroughText.style).setOrigin(gSettings.loader.clickthroughText.origin.x,gSettings.loader.clickthroughText.origin.y)},Clickthrough.continue=function(){this.scene.start("Preload")};var GameBase=new Phaser.Scene("GameBase");GameBase.init=function(e){this.audioChannel=new AudioChannel(this,e.audioSprite),this.sfxChannel=new AudioChannel(this,e.sfxSprite),this.splash=null,this.menu=null,this.mapIndex=null,this.map=null,this.supplies=null,this.notifications=null,this.question=null,this.loadingAnimation=null,this.action=null,this.treasure=null,this.help=null,this.completions=null,this.instructions=null},GameBase.preload=function(){},GameBase.create=function(){this.initializeCompletions(),this.addSplash()},GameBase.update=function(){},GameBase.initializeCompletions=function(){this.completions=[];for(var e=0;e<gSettings.maps.length;e++){if(gSettings.scormEnabled)"completed"==SCORM_API_adapter.getObjectiveStatus(e)?this.completions.push(1):this.completions.push(0);else this.completions.push(0)}},GameBase.markGameComplete=function(){gSettings.scormEnabled&&SCORM_API_adapter.markComplete()},GameBase.markObjectiveAttempt=function(){gSettings.scormEnabled&&0==this.completions[this.mapIndex]&&SCORM_API_adapter.setObjectiveStatus(this.mapIndex,"incomplete")},GameBase.markObjectiveComplete=function(){gSettings.scormEnabled&&0==this.completions[this.mapIndex]&&SCORM_API_adapter.setObjectiveStatus(this.mapIndex,"completed")},GameBase.addSplash=function(){this.scene.launch("Splash"),this.splash=this.scene.get("Splash"),this.splash.events.on(this.splash.CONTINUE_CLICK,this.removeSplash,this)},GameBase.removeSplash=function(){this.scene.sleep("Splash"),this.addMenu()},GameBase.addMenu=function(){null==this.menu?(this.scene.launch("Menu"),this.menu=this.scene.get("Menu"),this.menu.events.on(this.menu.MAP_SELECTED,this.handleMapSelection,this)):this.scene.wake("Menu")},GameBase.handleMapSelection=function(){this.mapIndex=this.menu.getSelectedMapIndex(),this.removeMenu(),this.addMap(this.mapIndex),this.markGameComplete(),this.markObjectiveAttempt()},GameBase.removeMenu=function(){this.scene.sleep("Menu")},GameBase.addMap=function(e){null==this.map?(this.scene.launch("Map"),this.map=this.scene.get("Map"),this.map.events.on(this.map.MAP_CREATED,this.handleMapCreated,this),this.map.events.on(this.map.NEW_LOCATION_SELECTED,this.handleNewMapLocationSelected,this),this.map.events.on(this.map.NEW_LOCATION_ARRIVED,this.handleNewMapLocationArrived,this),this.map.events.on(this.map.LOADING_START,this.handleLoadingStart,this),this.map.events.on(this.map.LOADING_END,this.handleLoadingEnd,this),this.map.events.on(this.map.BACK_TO_MENU,this.handleMapBackToMenu,this),this.map.events.on(this.map.MAP_BUILT,this.handleMapBuilt,this),this.map.events.on(this.map.INSTRUCTIONS,this.handleMapInstructions,this)):(this.scene.wake("Map"),this.handleMapCreated())},GameBase.handleMapCreated=function(){this.map.setMap(this.mapIndex)},GameBase.handleMapBuilt=function(){this.addSupplies(),this.addNotifications(),this.showMapIntroNotification()},GameBase.handleMapBackToMenu=function(){this.map.pauseMove(),this.scene.sleep("Map"),this.scene.sleep("Supplies"),this.notifications&&(this.notifications.close(),this.notifications.cancelDelayedCall()),this.scene.wake("Menu")},GameBase.handleMapInstructions=function(){this.notifications&&this.notifications.cancelDelayedCall(),this.addInstructions()},GameBase.addInstructions=function(){null==this.instructions?(this.scene.launch("Instructions"),this.instructions=this.scene.get("Instructions"),this.instructions.events.on(this.instructions.CREATION_COMPLETE,this.addInstructions,this),this.instructions.events.on(this.instructions.COMPLETE,this.handleInstructionsComplete,this)):(this.scene.wake("Instructions"),this.instructions.start(this.mapIndex))},GameBase.handleInstructionsComplete=function(){},GameBase.addSupplies=function(){null==this.supplies?(this.scene.launch("Supplies"),this.supplies=this.scene.get("Supplies"),this.supplies.events.on(this.supplies.ITEM_DROPPED,this.handleSupplyItemDropped,this)):(this.scene.wake("Supplies"),this.scene.bringToTop("Supplies"))},GameBase.handleSupplyItemDropped=function(){var e=this.supplies.getSupplyItemImage().getBounds(),t=this.action.getItemImage().getBounds();if(Phaser.Geom.Rectangle.Overlaps(e,t)){var i=this.action.getItemId(),n=this.supplies.getItemId();gSettings.action.locationItems[i].supplyItemMatchId==n?this.completeLocation():this.incorrectDrop(i)}else this.supplies.returnItemToOrigin()},GameBase.completeLocation=function(){this.action.showUsedItem(),this.handleSupplyItemEarned()},GameBase.incorrectDrop=function(e){this.supplies.returnItemToOrigin(),this.notifications.showMessage(e+"Incorrect"),this.action.showContinueButton()},GameBase.addNotifications=function(){null==this.notifications?(this.scene.launch("Notifications"),this.notifications=this.scene.get("Notifications")):(this.scene.wake("Notifications"),this.scene.bringToTop("Notifications"))},GameBase.showMapIntroNotification=function(){this.notifications.showMessage(gSettings.maps[this.mapIndex].introMessageId,1e3)},GameBase.handleNewMapLocationSelected=function(){this.notifications&&(this.notifications.cancelDelayedCall(),this.notifications.close())},GameBase.handleNewMapLocationArrived=function(){this.time.delayedCall(500,function(){this.showNewQuestion(),this.scene.moveAbove("Question","Supplies"),this.scene.sleep("Map")},[],this)},GameBase.handleLoadingStart=function(){null==this.loadingAnimation?(this.scene.launch("LoadingAnimation"),this.loadingAnimation=this.scene.get("LoadingAnimation")):this.scene.wake("LoadingAnimation"),this.scene.bringToTop("LoadingAnimation")},GameBase.handleLoadingEnd=function(){this.scene.sleep("LoadingAnimation")},GameBase.showNewQuestion=function(){null==this.question?(this.scene.launch("Question"),this.question=this.scene.get("Question"),this.question.events.on(this.question.CREATION_COMPLETE,this.showNewQuestion,this),this.question.events.on(this.question.LOADING_START,this.handleLoadingStart,this),this.question.events.on(this.question.LOADING_END,this.handleLoadingEnd,this),this.question.events.on(this.question.CONTINUE,this.handleQuestionContinue,this),this.question.events.on(this.question.TRY_ANOTHER_QUESTION,this.handleTryAnotherQuestion,this),this.question.events.on(this.question.BACK_TO_MAP,this.handleQuestionBackToMap,this)):(this.scene.wake("Question"),this.question.loadNewQuestion()),this.notifications.close()},GameBase.handleQuestionContinue=function(){gSettings.maps[this.mapIndex].locations[this.map.getLocationIndex()].isHelp?this.addHelp():this.addAction(),this.scene.sleep("Question")},GameBase.handleTryAnotherQuestion=function(){this.question.loadNewQuestion()},GameBase.handleQuestionBackToMap=function(){this.scene.sleep("Question"),this.scene.wake("Map"),this.map.enableLocationButtons(!0),this.showMapGenericNotification()},GameBase.showMapGenericNotification=function(){this.notifications.showMessage(gSettings.maps[this.mapIndex].genericMessageId,5e3)},GameBase.addAction=function(){null==this.action?(this.scene.launch("Action"),this.action=this.scene.get("Action"),this.action.events.on(this.action.CREATION_COMPLETE,this.showActionLocationItem,this),this.action.events.on(this.action.CONTINUE,this.handleActionContinue,this)):(this.scene.wake("Action"),this.showActionLocationItem())},GameBase.setActionBehavior=function(){this.scene.bringToTop("Supplies");var e=gSettings.maps[this.mapIndex].locations[this.map.getLocationIndex()].actionId;if(0==this.map.getProgressAtCurrentLocation())if("auto"==gSettings.action.locationItems[e].supplyItemMatchId)this.time.delayedCall(500,this.handleSupplyItemEarned,[],this);else if(this.supplies.getItemId()==gSettings.action.locationItems[e].supplyItemMatchId){this.supplies.activateSupplyItem();var t=e+"+"+this.supplies.getItemId()+"Prompt";this.notifications.showMessage(t,500)}else{t=e+"Incorrect";this.notifications.showMessage(t,500),this.action.showContinueButton()}else{t=e+"Used";this.notifications.showMessage(t,500),this.action.showContinueButton()}},GameBase.showActionLocationItem=function(){var e=this.map.getLocationIndex(),t=this.map.getProgressAt(e);this.action.showLocationItem(gSettings.maps[this.mapIndex].locations[e].actionId,t),this.setActionBehavior()},GameBase.handleSupplyItemEarned=function(){var e=this.action.getItemId(),t=gSettings.action.locationItems[e].supplyItemEarnedId;"treasure"==t?(this.handleMapComplete(),this.addTreasure()):(this.audioChannel.stop(),this.sfxChannel.play(gSettings.action.correctActionSfx),this.supplies.setSupplyItem(t),this.action.handleMatch(),this.notifications.showMessage(gSettings.action.locationItems[e].messageId),this.map.completeCurrentLocation())},GameBase.handleActionContinue=function(){this.scene.sleep("Action"),this.scene.wake("Map"),this.map.refreshLocationImages(),this.notifications.close(),this.map.enableLocationButtons(!0),this.showMapGenericNotification()},GameBase.handleMapComplete=function(){this.markObjectiveComplete(),0==this.completions[this.mapIndex]&&(this.completions[this.mapIndex]=1)},GameBase.addTreasure=function(){null==this.treasure&&(this.treasure=[]);for(var e=gSettings.maps[this.mapIndex].treasureClass,t=null,i=0;i<this.treasure.length;i++)if(this.treasure[i].class==e){t=this.treasure[i].instance;break}null==t?(this.scene.launch(e),t=this.scene.get(e),this.treasure.push({class:e,instance:t}),t.events.on(t.CREATION_COMPLETE,this.handleTreasureCreation,this),t.events.on(t.BACK_TO_MENU,this.handleTreasureBackToMenu,this)):(this.scene.wake(e),this.handleTreasureCreation())},GameBase.handleTreasureCreation=function(){this.scene.get(gSettings.maps[this.mapIndex].treasureClass).beginAnimation(),this.supplies.reset(),this.scene.sleep("Supplies"),this.scene.sleep("Action"),this.notifications.close()},GameBase.handleTreasureBackToMenu=function(){this.scene.sleep(gSettings.maps[this.mapIndex].treasureClass),this.scene.wake("Menu")},GameBase.addHelp=function(){null==this.help?(this.scene.launch("Help"),this.help=this.scene.get("Help"),this.help.events.on(this.help.CREATION_COMPLETE,this.displayHelpMessage,this),this.help.events.on(this.help.CONTINUE,this.handleHelpContinue,this)):(this.scene.wake("Help"),this.displayHelpMessage()),this.scene.bringToTop("Supplies")},GameBase.displayHelpMessage=function(){var e=this.supplies.getItemId();null==e&&(e="empty"+this.mapIndex),this.help.setHelpMessage(e+"Help")},GameBase.handleHelpContinue=function(){this.scene.sleep("Help"),this.scene.wake("Map"),this.map.enableLocationButtons(!0),this.showMapGenericNotification()},GameBase.addBackgroundImages=function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(this.addImage(e[n],t));return i},GameBase.addImage=function(e,t){var i=t.add.image(e.x,e.y,e.texture,e.frame);return e.flipX&&(i.flipX=!0),e.scaleX&&(i.scaleX=e.scaleX),e.scaleY&&(i.scaleY=e.scaleY),e.scale&&(i.scaleX=i.scaleY=e.scale),e.depth&&(i.depth=e.depth),i},GameBase.addText=function(e,t){var i=t.add.text(e.x,e.y,e.text,e.style);return i.setOrigin(e.origin.x,e.origin.y),i};var Help=new Phaser.Scene("Help");Help.CREATION_COMPLETE="creation-compelte",Help.CONTINUE="continue",Help.init=function(){this.message=null,this.continueButton=null,this.messageId=null},Help.preload=function(){},Help.create=function(){this.baseScene=this.scene.get("GameBase"),this.baseScene.addBackgroundImages(gSettings.help.backgroundImages,this),this.events.emit(this.CREATION_COMPLETE)},Help.setHelpMessage=function(e){this.messageId=e,null==this.message&&(this.message=this.baseScene.addText(gSettings.help.helpMessageText,this)),this.message.text=gSettings.help.messages[e].text,this.playAudio(),this.addContinueButton()},Help.addContinueButton=function(){null==this.continueButton?this.continueButton=new TextButton(gSettings.help.continueButton,this,this.handleContinueClicked):this.continueButton.setVisible(!0)},Help.handleContinueClicked=function(){this.baseScene.audioChannel.stop(),this.events.emit(this.CONTINUE)},Help.playAudio=function(){gSettings.help.messages[this.messageId].audio&&this.baseScene.audioChannel.play(gSettings.help.messages[this.messageId].audio)};var HiddenTreasure=new Phaser.Scene("HiddenTreasure");HiddenTreasure.CREATION_COMPLETE="creation-compelte",HiddenTreasure.BACK_TO_MENU="back-to-menu",HiddenTreasure.init=function(){this.menuButton=null,this.id="HiddenTreasure",this.layers=[],this.screen=null},HiddenTreasure.preload=function(){},HiddenTreasure.create=function(){this.baseScene=this.scene.get("GameBase"),this.addLayers(),this.events.emit(this.CREATION_COMPLETE)},HiddenTreasure.addLayers=function(){for(var e=0;e<gSettings.treasure[this.id].layers.length;e++){gSettings.treasure[this.id].screen.layerIndex==e&&this.addScreen();var t=this.baseScene.addImage(gSettings.treasure[this.id].layers[e],this);this.layers.push(t)}},HiddenTreasure.beginAnimation=function(){this.reset(),this.startAnimation(),this.playSfx()},HiddenTreasure.reset=function(){this.screen.alpha=gSettings.treasure[this.id].screen.fromAlpha;for(var e=0;e<this.layers.length;e++)this.layers[e].x=gSettings.treasure[this.id].layers[e].x,this.layers[e].y=gSettings.treasure[this.id].layers[e].y;null!=this.menuButton&&(this.menuButton.destroy(),this.menuButton=null)},HiddenTreasure.startAnimation=function(){for(var e=0;e<this.layers.length;e++)this.tweens.add({targets:this.layers[e],x:gSettings.treasure[this.id].layers[e].x+gSettings.treasure[this.id].layers[e].travel,ease:gSettings.treasure[this.id].layers[e].ease,duration:gSettings.treasure[this.id].layers[e].duration,delay:1e3});this.tweens.add({targets:this.screen,alpha:gSettings.treasure[this.id].screen.toAlpha,ease:gSettings.treasure[this.id].screen.ease,duration:gSettings.treasure[this.id].screen.duration,delay:1e3})},HiddenTreasure.playSfx=function(){this.baseScene.sfxChannel.play(gSettings.treasure[this.id].revealSfx,this.handleSfxComplete,this)},HiddenTreasure.handleSfxComplete=function(){this.addMenuButton(),this.baseScene.audioChannel.play(gSettings.treasure[this.id].audio)},HiddenTreasure.addScreen=function(){this.screen=this.add.graphics(),this.screen.fillStyle(gSettings.treasure[this.id].screen.color,gSettings.treasure[this.id].screen.fromAlpha),this.screen.fillRect(gSettings.treasure[this.id].screen.x,gSettings.treasure[this.id].screen.y,gSettings.treasure[this.id].screen.width,gSettings.treasure[this.id].screen.height)},HiddenTreasure.addMenuButton=function(){this.menuButton=new TextButton(gSettings.treasure.menuButton,this,this.handleMenu)},HiddenTreasure.handleMenu=function(){this.baseScene.audioChannel.stop(),this.events.emit(this.BACK_TO_MENU)};var Instructions=new Phaser.Scene("Instructions");Instructions.CREATION_COMPLETE="creation-complete",Instructions.COMPLETE="complete",Instructions.init=function(){this.mapId=null,this.notifications=null,this.stepIndex=null},Instructions.preload=function(){},Instructions.create=function(){this.baseScene=this.scene.get("GameBase"),this.notifications=this.baseScene.notifications,this.notifications.events.on(this.notifications.NEXT,this.handleNext,this),this.notifications.events.on(this.notifications.CLOSED,this.handleClosed,this),this.events.emit(this.CREATION_COMPLETE)},Instructions.start=function(e){this.mapId=gSettings.maps[e].id,this.stepIndex=0,this.showStep(this.stepIndex)},Instructions.showStep=function(e){this.notifications.showMessage(gSettings.instructions[this.mapId][e])},Instructions.handleNext=function(){this.stepIndex++,this.stepIndex<gSettings.instructions[this.mapId].length&&this.showStep(this.stepIndex)},Instructions.handleClosed=function(){this.events.emit(this.COMPLETE)};var LoadingAnimation=new Phaser.Scene("LoadingAnimation");LoadingAnimation.init=function(){this.rotator=null,this.rotatorTween=null},LoadingAnimation.preload=function(){},LoadingAnimation.create=function(){this.baseScene=this.scene.get("GameBase"),this.rotator=this.baseScene.addImage(gSettings.loadingAnimation.rotator,this),this.rotatorTween=this.tweens.add({targets:this.rotator,angle:360,duration:gSettings.loadingAnimation.rotator.rotationDuration,loop:-1,paused:!0}),this.add.text(gSettings.loadingAnimation.loadingText.x,gSettings.loadingAnimation.loadingText.y,gSettings.loadingAnimation.loadingText.text,gSettings.loadingAnimation.loadingText.style).setOrigin(gSettings.loadingAnimation.loadingText.origin.x,gSettings.loadingAnimation.loadingText.origin.y),this.startAnimation()},LoadingAnimation.startAnimation=function(){this.rotatorTween.resume()},LoadingAnimation.stopAnimation=function(){this.rotatorTween.pause()};var Map=new Phaser.Scene("Map");Map.MAP_CREATED="map-created",Map.NEW_LOCATION_SELECTED="new-location-selected",Map.NEW_LOCATION_ARRIVED="new-location-arrived",Map.LOADING_START="loading-started",Map.LOADING_END="loading-end",Map.BACK_TO_MENU="back-to-menu",Map.MAP_BUILT="map-built",Map.INSTRUCTIONS="instructions",Map.init=function(){this.index=null,this.mapData=null,this.backgroundImages=null,this.progress=[],this.locationButtons=[],this.gamePiece=null,this.introShown=!1,this.locationIndex=-1,this.locationImages=[],this.follower=null,this.menuButton=null,this.instructionsButton=null},Map.preload=function(){},Map.create=function(){this.events.emit(this.MAP_CREATED)},Map.setMap=function(e){this.reset(),this.events.emit(this.LOADING_START),this.index=e,this.baseScene=this.scene.get("GameBase"),this.mapData=gSettings.maps[this.index];var t=this.load.atlas(this.mapData.spritesheet);t.once("complete",this.handleLoadComplete,this),t.start()},Map.handleLoadComplete=function(){this.backgroundImages=this.baseScene.addBackgroundImages(this.mapData.backgroundImages,this);for(var e=0;e<this.mapData.locations.length;e++)this.progress.push(0);this.addLocations(),this.addGamePiece(),this.addNavButtons(),this.events.emit(this.LOADING_END),this.events.emit(this.MAP_BUILT)},Map.reset=function(){if(null!=this.backgroundImages)for(var e=0;e<this.backgroundImages.length;e++)this.backgroundImages[e].destroy();if(this.backgroundImages=null,this.progress=[],0<this.locationButtons.length)for(e=0;e<this.locationButtons.length;e++)this.locationButtons[e].destroy();if(this.locationButtons=[],null!=this.gamePiece&&this.gamePiece.destroy(),this.gamePiece=null,this.introShown=!1,this.locationIndex=-1,0<this.locationImages.length)for(e=0;e<this.locationImages.length;e++)this.locationImages[e].destroy();this.locationImages=[],null!=this.follower&&this.follower.destroy(),(this.follower=null)!=this.menuButton&&this.menuButton.destroy(),(this.menuButton=null)!=this.instructionsButton&&this.instructionsButton.destroy(),this.instructionsButton=null},Map.addLocations=function(){for(var e=0;e<this.mapData.locations.length;e++){var t=null;t=0==this.progress[e]?this.baseScene.addImage(this.mapData.locations[e].unusedImage,this):this.baseScene.addImage(this.mapData.locations[e].usedImage,this),this.locationImages.push(t);var i=new TextButton({graphic:{texture:this.mapData.markerButtonImages.texture,up:this.mapData.markerButtonImages.up,over:this.mapData.markerButtonImages.over,down:this.mapData.markerButtonImages.down},x:this.mapData.locations[e].markerPosition.x,y:this.mapData.locations[e].markerPosition.y},this,this.handleLocationClicked);i.data.index=e,this.locationButtons.push(i)}},Map.handleLocationClicked=function(e){this.disableLocationButtons(),this.events.emit(this.NEW_LOCATION_SELECTED),this.moveToLocation(e.data.index)},Map.disableLocationButtons=function(){for(var e=0;e<this.locationButtons.length;e++)this.locationButtons[e].disable()},Map.enableLocationButtons=function(e){e=void 0!==e&&e;for(var t=0;t<this.locationButtons.length;t++)this.locationButtons[t].enable();e&&this.locationButtons[this.locationIndex].disable()},Map.addGamePiece=function(){null==this.gamePiece&&(this.gamePiece=this.baseScene.addImage(this.mapData.gamePiece,this)),this.gamePiece.x=this.mapData.startPosition.x,this.gamePiece.y=this.mapData.startPosition.y,this.locationIndex=-1},Map.moveToLocation=function(e){var t=!1,i=this.locationIndex+","+e;this.locationIndex>e&&(t=!0,i=e+","+this.locationIndex);for(var n=[],s=0;s<this.mapData.sequences[i].length;s++)n.push(this.mapData.sequences[i][s]);if(t){n.reverse();var a=[];for(s=0;s<n.length;s++)a.push(n[s].split(",")[1]+","+n[s].split(",")[0]);n=a}var o=this.getSequenceDuration(i),r=[];for(s=0;s<n.length;s++){var u=n[s],l=Number(u.split(",")[0]),d=Number(u.split(",")[1]),h=!1;s==n.length-1&&(h=!0),r=r.concat(this.getSegmentPoints(l,d,!h))}var c=new Phaser.Curves.Spline(r);this.follower=this.add.follower(c,r[0].x,r[0].y,"general","gamePiece.png"),this.follower.startFollow({duration:o,rotateToPath:!0,onComplete:this.handleMoveComplete,onCompleteScope:this,onCompleteParams:[e]}),this.gamePiece.visible=!1,this.baseScene.sfxChannel.play(this.mapData.travelSfx)},Map.getSequenceDuration=function(e){for(var t=0,i=0;i<this.mapData.sequences[e].length;i++){var n=this.mapData.sequences[e][i],s=n.split(",");Number(s[0])>Number(s[1])&&(n=s[1]+","+s[0]),t+=this.mapData.segments[n].duration}return t},Map.getSegmentPoints=function(e,t,i){var n=!1,s=e,a=t;t<e&&(n=!0,a=e,s=t);var o=s+","+a,r=[];-1==s?r.push(new Phaser.Math.Vector2(this.mapData.startPosition.x,this.mapData.startPosition.y)):r.push(new Phaser.Math.Vector2(this.mapData.locations[s].markerPosition.x,this.mapData.locations[s].markerPosition.y));for(var u=0;u<this.mapData.segments[o].curvePoints.length;u++)r.push(new Phaser.Math.Vector2(this.mapData.segments[o].curvePoints[u].x,this.mapData.segments[o].curvePoints[u].y));return r.push(new Phaser.Math.Vector2(this.mapData.locations[a].markerPosition.x,this.mapData.locations[a].markerPosition.y)),n&&r.reverse(),i&&r.pop(),r},Map.handleMoveComplete=function(e,t,i){this.locationIndex=i,this.gamePiece.x=this.follower.x,this.gamePiece.y=this.follower.y,this.gamePiece.angle=this.follower.angle,this.gamePiece.visible=!0,this.follower.destroy(),this.baseScene.sfxChannel.stop(),this.events.emit(this.NEW_LOCATION_ARRIVED)},Map.getLocationIndex=function(){return this.locationIndex},Map.getProgressAt=function(e){return this.progress[e]},Map.getProgressAtCurrentLocation=function(){return this.getProgressAt(this.locationIndex)},Map.completeCurrentLocation=function(){this.progress[this.locationIndex]=1},Map.addNavButtons=function(){null==this.menuButton&&(this.menuButton=new TextButton(this.mapData.menuButton,this,this.handleMenuClicked)),null==this.instructionsButton&&(this.instructionsButton=new TextButton(this.mapData.instructionsButton,this,this.handleInstructionsClicked))},Map.handleMenuClicked=function(){this.events.emit(this.BACK_TO_MENU)},Map.handleInstructionsClicked=function(){this.events.emit(this.INSTRUCTIONS)},Map.refreshLocationImages=function(){for(var e=0;e<this.progress.length;e++)0==this.progress[e]?(this.locationImages[e].setFrame(this.mapData.locations[e].unusedImage.frame),this.locationImages[e].x=this.mapData.locations[e].unusedImage.x,this.locationImages[e].y=this.mapData.locations[e].unusedImage.y):(this.locationImages[e].setFrame(this.mapData.locations[e].usedImage.frame),this.locationImages[e].x=this.mapData.locations[e].usedImage.x,this.locationImages[e].y=this.mapData.locations[e].usedImage.y)},Map.pauseMove=function(){this.follower&&(this.follower.pauseFollow(),this.baseScene.sfxChannel.stop())},Map.resumeMove=function(){this.follower&&(this.follower.resumeFollow(),this.baseScene.sfxChannel.play(this.mapData.travelSfx))},Map.hideInstructionsButton=function(){this.instructionsButton.setVisible(!1)},Map.showInstructionsButton=function(){this.instructionsButton.setVisible(!0)};var Menu=new Phaser.Scene("Menu");Menu.MAP_SELECTED="map-selected",Menu.init=function(){this.mapIndex=null,this.checkmarks=null},Menu.preload=function(){},Menu.create=function(){this.baseScene=this.scene.get("GameBase"),this.events.on("wake",this.onWake,this),this.baseScene.addBackgroundImages(gSettings.menu.backgroundImages,this);for(var e=0;e<gSettings.menu.buttons.length;e++){new TextButton(gSettings.menu.buttons[e],this,this.onButton).data.index=e}this.baseScene.addText(gSettings.menu.instructionText,this),this.baseScene.audioChannel.play(gSettings.menu.vo),this.checkmarks=[],this.updateCompletionCheckmarks()},Menu.onButton=function(e){this.mapIndex=e.data.index,this.baseScene.audioChannel.stop(),this.events.emit(this.MAP_SELECTED)},Menu.getSelectedMapIndex=function(){return this.mapIndex},Menu.onWake=function(){this.updateCompletionCheckmarks()},Menu.updateCompletionCheckmarks=function(){for(var e=0;e<this.checkmarks.length;e++)this.checkmarks[e].destroy();for(this.checkmarks=[],e=0;e<this.baseScene.completions.length;e++)if(1==this.baseScene.completions[e]){var t=this.baseScene.addImage(gSettings.menu.buttons[e].completionCheckmark,this);this.checkmarks.push(t)}};var Notifications=new Phaser.Scene("Notifications");Notifications.NEXT="next",Notifications.CLOSED="closed",Notifications.init=function(){this.box=null,this.message=null,this.closeButton=null,this.nextButton=null,this.animatedItems=[],this.openTween=null,this.status=null,this.messageId=null,this.delayEvent=null},Notifications.preload=function(){},Notifications.create=function(){this.baseScene=this.scene.get("GameBase"),this.box=this.baseScene.addImage(gSettings.notifications.background,this),this.message=this.baseScene.addText(gSettings.notifications.message,this),this.closeButton=new TextButton(gSettings.notifications.closeButton,this,this.handleCloseButton),this.nextButton=new TextButton(gSettings.notifications.nextButton,this,this.handleNextButton),this.nextButton.setVisible(!1),this.animatedItems=[this.box,this.message],this.animatedItems=this.animatedItems.concat(this.closeButton.getVisuals()),this.animatedItems=this.animatedItems.concat(this.nextButton.getVisuals());for(var e=gSettings.notifications.closedPosition.x-gSettings.notifications.openPosition.x,t=0;t<this.animatedItems.length;t++)this.animatedItems[t].x+=e;this.status="closed"},Notifications.handleCloseButton=function(){this.closeButton.disable(),this.close()},Notifications.handleNextButton=function(){this.events.emit(this.NEXT)},Notifications.animateOpen=function(){var e=gSettings.notifications.openPosition.x-this.box.x;this.openTween=this.tweens.add({targets:this.animatedItems,x:"+="+e,duration:gSettings.notifications.openDuration,ease:"Sine.easeOut",onComplete:this.handleOpenComplete,onCompleteScope:this})},Notifications.handleOpenComplete=function(){this.openTween.remove(),this.closeButton.enable(),this.status="open",this.playAudio()},Notifications.playAudio=function(){gSettings.notifications.messages[this.messageId].audio&&this.baseScene.audioChannel.play(gSettings.notifications.messages[this.messageId].audio)},Notifications.open=function(){"closed"==this.status?this.animateOpen():this.closeTween&&this.closeTween.isPlaying()&&(this.closeTween.stop(),this.animateOpen())},Notifications.showMessage=function(e,t){t=void 0!==t?t:0,this.messageId=e,0==t?(this.message.text=gSettings.notifications.messages[e].text,this.open(),this.baseScene.scene.bringToTop("Notifications"),"open"==this.status&&this.playAudio()):this.delayEvent=this.time.delayedCall(t,this.showMessage,[e,0],this),null!=this.nextButton&&(1==gSettings.notifications.messages[e].next?this.nextButton.setVisible(!0):this.nextButton.setVisible(!1))},Notifications.animateClosed=function(){var e=gSettings.notifications.closedPosition.x-this.box.x;this.closeTween=this.tweens.add({targets:this.animatedItems,x:"+="+e,duration:gSettings.notifications.closeDuration,ease:"Sine.easeIn",onComplete:this.handleCloseComplete,onCompleteScope:this})},Notifications.handleCloseComplete=function(){this.closeTween.remove(),this.status="closed",this.events.emit(this.CLOSED)},Notifications.close=function(){this.baseScene.audioChannel.stop(),"open"==this.status?this.animateClosed():this.openTween&&this.openTween.isPlaying()&&(this.openTween.stop(),this.animateClosed())},Notifications.cancelDelayedCall=function(){null!=this.delayEvent&&this.delayEvent.remove()};var Preload=new Phaser.Scene("Preload");Preload.preload=function(){this.addLoader();for(var e=0;e<gSettings.spritesheets.length;e++)this.load.atlas(gSettings.spritesheets[e]);this.load.audioSprite(gSettings.audioSprite),this.load.audioSprite(gSettings.sfxSprite),this.initializeObjectives()},Preload.create=function(){this.rotatorTween.stop();var e=this.sound.addAudioSprite(gSettings.audioSprite.key),t=this.sound.addAudioSprite(gSettings.sfxSprite.key);this.scene.start("GameBase",{audioSprite:e,sfxSprite:t})},Preload.initializeObjectives=function(){if(gSettings.scormEnabled&&0==SCORM_API_adapter.getObjectiveCount())for(var e=0;e<gSettings.maps.length;e++)SCORM_API_adapter.createObjective(e,gSettings.maps[e].id,"not attempted")},Preload.addLoader=function(){for(var e=0;e<gSettings.loader.backgroundElements.length;e++)this.add.sprite(gSettings.loader.backgroundElements[e].x,gSettings.loader.backgroundElements[e].y,gSettings.loader.backgroundElements[e].key);var t=this.add.sprite(gSettings.loader.rotator.x,gSettings.loader.rotator.y,gSettings.loader.rotator.key);this.rotatorTween=this.tweens.add({targets:t,angle:360,duration:gSettings.loader.rotator.rotationDuration,loop:-1}),this.add.text(gSettings.loader.loadingText.x,gSettings.loader.loadingText.y,gSettings.loader.loadingText.text,gSettings.loader.loadingText.style).setOrigin(gSettings.loader.loadingText.origin.x,gSettings.loader.loadingText.origin.y)};var Question=new Phaser.Scene("Question");Question.CREATION_COMPLETE="creation-compelte",Question.LOADING_START="loading-started",Question.LOADING_END="loading-end",Question.CONTINUE="continue",Question.TRY_ANOTHER_QUESTION="try-another-question",Question.BACK_TO_MAP="back-to-map",Question.init=function(){this.questionPool=[],this.index=null,this.questionLoadFinished=!1,this.loadingAnimation=null,this.questionText=null,this.optionTexts=[],this.optionButtons=[],this.remediationText=null,this.tryAgainButton=null,this.mapButton=null,this.continueButton=null},Question.preload=function(){},Question.create=function(){this.baseScene=this.scene.get("GameBase"),this.baseScene.addBackgroundImages(gSettings.question.backgroundImages,this),this.events.emit(this.CREATION_COMPLETE)},Question.loadNewQuestion=function(){if(this.reset(),0==this.questionPool.length&&this.resetQuestionPool(),gSettings.randomizeQuestions){var e=Math.floor(Math.random()*this.questionPool.length);this.index=this.questionPool.splice(e,1)[0]}else this.index=this.questionPool.splice(0,1)[0];this.questionLoadFinished=!1,this.loadQuestionVO()},Question.reset=function(){if(null!=this.questionText&&(this.questionText.text=""),0<this.optionTexts.length)for(var e=0;e<this.optionTexts.length;e++)this.optionTexts[e].destroy();if(0<this.optionButtons.length)for(e=0;e<this.optionButtons.length;e++)this.optionButtons[e].destroy();null!=this.remediationText&&(this.remediationText.text=""),null!=this.continueButton&&this.continueButton.setVisible(!1),null!=this.tryAgainButton&&this.tryAgainButton.setVisible(!1),this.mapButton&&this.mapButton.setVisible(!1)},Question.resetQuestionPool=function(){this.questionPool=[];for(var e=0;e<gSettings.question.bank.length;e++)this.questionPool.push(e)},Question.loadQuestionVO=function(){this.events.emit(this.LOADING_START),this.load.setPath(gSettings.question.audioPath);var e="question"+this.index;this.load.audio(e,gSettings.question.bank[this.index].vo),this.load.once("complete",this.onQuestionLoaded,this),this.load.start()},Question.onQuestionLoaded=function(){this.events.emit(this.LOADING_END),this.loadRemediation(),this.showQuestion(),this.questionLoadFinished=!0,this.time.delayedCall(100,function(){this.sound.play("question"+this.index)},[],this)},Question.loadRemediation=function(){this.load.setPath(gSettings.question.audioPath);for(var e=[],t=0;t<gSettings.question.bank[this.index].remediation.length;t++)e.push({key:"remediation"+this.index+"-"+t,url:gSettings.question.bank[this.index].remediation[t].vo});this.load.audio(e),this.load.once("complete",this.remediationLoaded,this),this.load.start()},Question.remediationLoaded=function(e,t,i){},Question.showQuestion=function(){this.addQuestionText(),this.addOptions()},Question.addQuestionText=function(){null==this.questionText?this.questionText=this.add.text(gSettings.question.questionPosition.x,gSettings.question.questionPosition.y,gSettings.question.bank[this.index].text,gSettings.question.questionStyle):this.questionText.text=gSettings.question.bank[this.index].text},Question.addOptions=function(){for(var e=0;e<gSettings.question.bank[this.index].options.length;e++){var t=this.add.text(gSettings.question.optionTextPosition.x,gSettings.question.optionTextPosition.y+e*gSettings.question.optionVerticalInterval,gSettings.question.bank[this.index].options[e].text,gSettings.question.optionTextStyle);this.optionTexts.push(t);var i=new TextButton(gSettings.question.optionButton,this,this.handleOptionClicked);i.setY(gSettings.question.optionButton.y+e*gSettings.question.optionVerticalInterval),i.setText(gSettings.question.optionButtonLabels[e]),i.setHitArea("rect",{x:0,y:0,width:i.getImage().width+t.width+10,height:i.getImage().height}),i.data.index=e,i.enable(),this.optionButtons.push(i)}},Question.handleOptionClicked=function(e){for(var t=0;t<this.optionButtons.length;t++)this.optionButtons[t].disable();e.showSelected(),this.addRemediation(e.data.index)},Question.addRemediation=function(e){var t=gSettings.question.bank[this.index].options[e].remediationIndex;null==this.remediationText?(this.remediationText=this.add.text(gSettings.question.remediationTextPosition.x,gSettings.question.remediationTextPosition.y,gSettings.question.bank[this.index].remediation[t].text,gSettings.question.remediationTextStyle),this.remediationText.setOrigin(gSettings.question.remediationTextPosition.origin.x,gSettings.question.remediationTextPosition.origin.y)):this.remediationText.text=gSettings.question.bank[this.index].remediation[t].text,this.remediationText.visible=!1,e==gSettings.question.bank[this.index].correctIndex?(this.sound.stopAll(),this.baseScene.sfxChannel.play(gSettings.question.correctSfx),this.time.delayedCall(500,function(){this.showCorrectButtons(),this.playRemediationVO(e),this.remediationText.visible=!0},[],this)):(this.showIncorrectButtons(),this.playRemediationVO(e),this.remediationText.visible=!0)},Question.showCorrectButtons=function(){null==this.continueButton?this.continueButton=new TextButton(gSettings.question.continueButton,this,this.handleContinueClicked):this.continueButton.setVisible(!0)},Question.showIncorrectButtons=function(){null==this.tryAgainButton?this.tryAgainButton=new TextButton(gSettings.question.tryAgainButton,this,this.handleTryAgainClicked):this.tryAgainButton.setVisible(!0),null==this.mapButton?this.mapButton=new TextButton(gSettings.question.mapButton,this,this.handleMapClicked):this.mapButton.setVisible(!0)},Question.playRemediationVO=function(e){this.sound.stopAll(),this.sound.play("remediation"+this.index+"-"+gSettings.question.bank[this.index].options[e].remediationIndex)},Question.handleTryAgainClicked=function(){this.events.emit(this.TRY_ANOTHER_QUESTION),this.sound.stopAll()},Question.handleMapClicked=function(){this.events.emit(this.BACK_TO_MAP),this.sound.stopAll()},Question.handleContinueClicked=function(){this.events.emit(this.CONTINUE),this.sound.stopAll()};var Splash=new Phaser.Scene("Splash");Splash.CONTINUE_CLICK="continue-click",Splash.init=function(){},Splash.preload=function(){},Splash.create=function(){this.baseScene=this.scene.get("GameBase"),this.baseScene.addBackgroundImages(gSettings.splash.backgroundImages,this),new TextButton(gSettings.splash.continueButton,this,this.onContinue),this.baseScene.addText(gSettings.splash.instructionText,this),this.baseScene.audioChannel.play(gSettings.splash.vo)},Splash.onContinue=function(){this.baseScene.audioChannel.stop(),this.events.emit(this.CONTINUE_CLICK)};var SunkenTreasure=new Phaser.Scene("SunkenTreasure");SunkenTreasure.CREATION_COMPLETE="creation-compelte",SunkenTreasure.BACK_TO_MENU="back-to-menu",SunkenTreasure.init=function(){this.menuButton=null,this.id="SunkenTreasure",this.water=null,this.rays=null,this.fish=null,this.treasure=null},SunkenTreasure.preload=function(){},SunkenTreasure.create=function(){this.baseScene=this.scene.get("GameBase");for(var e=0;e<gSettings.treasure[this.id].backgroundRects.length;e++){var t=this.add.graphics();t.fillStyle(gSettings.treasure[this.id].backgroundRects[e].color,1),t.fillRect(gSettings.treasure[this.id].backgroundRects[e].x,gSettings.treasure[this.id].backgroundRects[e].y,gSettings.treasure[this.id].backgroundRects[e].width,gSettings.treasure[this.id].backgroundRects[e].height)}this.water=this.baseScene.addImage(gSettings.treasure[this.id].water,this),this.rays=this.baseScene.addImage(gSettings.treasure[this.id].rays,this),this.rays.alpha=gSettings.treasure[this.id].rays.fromAlpha,this.fish=this.baseScene.addImage(gSettings.treasure[this.id].fish,this),this.treasure=this.baseScene.addImage(gSettings.treasure[this.id].treasure,this),this.events.emit(this.CREATION_COMPLETE)},SunkenTreasure.beginAnimation=function(){this.reset(),this.tweens.add({targets:this.water,y:gSettings.treasure[this.id].water.toY,ease:gSettings.treasure[this.id].water.ease,duration:gSettings.treasure[this.id].water.duration,delay:gSettings.treasure[this.id].water.delay}),this.tweens.add({targets:this.rays,alpha:gSettings.treasure[this.id].rays.toAlpha,ease:gSettings.treasure[this.id].rays.ease,duration:gSettings.treasure[this.id].rays.duration,delay:gSettings.treasure[this.id].rays.delay}),this.tweens.add({targets:this.fish,y:gSettings.treasure[this.id].fish.toY,ease:gSettings.treasure[this.id].fish.ease,duration:gSettings.treasure[this.id].fish.duration,delay:gSettings.treasure[this.id].fish.delay}),this.tweens.add({targets:this.treasure,y:gSettings.treasure[this.id].treasure.toY,ease:gSettings.treasure[this.id].treasure.ease,duration:gSettings.treasure[this.id].treasure.duration,delay:gSettings.treasure[this.id].treasure.delay}),this.playSfx()},SunkenTreasure.playSfx=function(){this.baseScene.sfxChannel.play(gSettings.treasure[this.id].revealSfx,this.handleSfxComplete,this)},SunkenTreasure.handleSfxComplete=function(){this.addMenuButton(),this.baseScene.audioChannel.play(gSettings.treasure[this.id].audio)},SunkenTreasure.addMenuButton=function(){null!=this.menuButton&&(this.menuButton.destroy(),this.menuButton=null),this.menuButton=new TextButton(gSettings.treasure.menuButton,this,this.handleMenu)},SunkenTreasure.handleMenu=function(){this.baseScene.audioChannel.stop(),this.events.emit(this.BACK_TO_MENU)},SunkenTreasure.reset=function(){this.water.y=gSettings.treasure[this.id].water.y,this.rays.alpha=gSettings.treasure[this.id].rays.fromAlpha,this.fish.y=gSettings.treasure[this.id].fish.y,this.treasure.y=gSettings.treasure[this.id].treasure.y};var Supplies=new Phaser.Scene("Supplies");Supplies.ITEM_DROPPED="item-dropped",Supplies.init=function(){this.itemImage=null,this.itemId=null,this.active=!1},Supplies.preload=function(){},Supplies.create=function(){this.baseScene=this.scene.get("GameBase"),this.baseScene.addImage(gSettings.supplies.background,this),this.input.on("drag",function(e,t,i,n){t.x=i,t.y=n}),this.input.on("dragend",this.handleDrop,this)},Supplies.setSupplyItem=function(e){this.reset(),this.itemId=e,this.itemImage=this.baseScene.addImage(gSettings.supplies.items[e].staticImage,this),this.itemImage.y-=30,this.tweens.add({targets:this.itemImage,y:gSettings.supplies.items[e].staticImage.y,ease:"Bounce.easeOut",duration:500})},Supplies.reset=function(){this.itemId&&(this.active&&(this.input.setDraggable(this.itemImage,!1),this.active=!1),this.itemImage.destroy())},Supplies.activateSupplyItem=function(){this.itemId&&(this.itemImage.setFrame(gSettings.supplies.items[this.itemId].draggable.up.frame),this.itemImage.x=gSettings.supplies.items[this.itemId].draggable.x,this.itemImage.y=gSettings.supplies.items[this.itemId].draggable.y,this.itemImage.setInteractive(),this.input.setDraggable(this.itemImage,!0),this.active=!0)},Supplies.handleDrop=function(){this.events.emit(this.ITEM_DROPPED)},Supplies.deactivateSupplyItem=function(){this.active&&(this.itemImage.setFrame(gSettings.supplies.items[this.itemId].staticImage.frame),this.itemImage.x=gSettings.supplies.items[this.itemId].staticImage.x,this.itemImage.y=gSettings.supplies.items[this.itemId].staticImage.y,this.input.setDraggable(this.itemImage,!1)),this.active=!1},Supplies.getSupplyItemImage=function(){return this.itemImage},Supplies.getItemId=function(){return this.itemId},Supplies.returnItemToOrigin=function(){this.itemId&&(this.itemImage.x=gSettings.supplies.items[this.itemId].draggable.x,this.itemImage.y=gSettings.supplies.items[this.itemId].draggable.y)},gSettings={scormEnabled:!1,autoScale:!0,randomizeQuestions:!0,gameConfig:{width:800,height:600,backgroundColor:15784644},spritesheets:[{key:"general",textureURL:"images/general.png",atlasURL:"images/general.json"}],audioSprite:{key:"audio",jsonURL:"audio/treasurehunt-audio.json",audioURL:["audio/treasurehunt-audio.m4a","audio/treasurehunt-audio.ogg"]},sfxSprite:{key:"sfx",jsonURL:"audio/treasurehunt-sfx.json",audioURL:["audio/treasurehunt-sfx.m4a","audio/treasurehunt-sfx.ogg"]},loader:{rotator:{key:"rotator",file:"images/rotator.png",x:358,y:268,rotationDuration:2e3},backgroundElements:[{x:400,y:261,key:"logo",file:"images/logo.png"}],loadingText:{text:"Loading...",x:400,y:451,origin:{x:.5,y:.5},style:{fontFamily:"Arial, Helvetica, sans",fontSize:36,fontStyle:"700",color:"#0e728a"}},clickthroughText:{text:"Tap or click here to continue.",x:400,y:451,origin:{x:.5,y:.5},style:{fontFamily:"Arial, Helvetica, sans",fontSize:36,fontStyle:"700",color:"#0e728a"}}},splash:{backgroundImages:[{x:400,y:300,texture:"general",frame:"ground.png"},{x:400,y:140,texture:"general",frame:"logo.png"},{x:570,y:190,texture:"general",frame:"treasureSplash.png"},{x:610,y:465,texture:"general",frame:"jewels1.png"},{x:200,y:490,texture:"general",frame:"jewels2.png"},{x:390,y:520,texture:"general",frame:"gem.png"}],continueButton:{x:400,y:450,graphic:{texture:"general",up:"button1up.png",over:"button1over.png",down:"button1over.png"},text:{label:"CONTINUE",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:30,color:"#f0dac4",align:"center",wordWrap:{width:200}},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:30,color:"#573e22",align:"center",wordWrap:{width:200}},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:30,color:"#573e22",align:"center",wordWrap:{width:200}},xOffset:0,yOffset:0}},instructionText:{text:"Welcome to Treasure Hunt!\nAnswer questions and solve the puzzle to find the hidden treasure.",x:400,y:300,origin:{x:.5,y:0},style:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:28,color:"#067dc2",align:"center",wordWrap:{width:420}}},vo:{key:"audio",sprite:"Splash",delay:500,config:{}}},loadingAnimation:{rotator:{texture:"general",frame:"rotator.png",x:400,y:280,rotationDuration:2e3},loadingText:{text:"Loading...",x:400,y:325,origin:{x:.5,y:.5},style:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:32,color:"#573e22"}}},menu:{backgroundImages:[{x:400,y:300,texture:"general",frame:"ground.png"},{x:400,y:140,texture:"general",frame:"logo.png"},{x:150,y:410,texture:"general",frame:"menuCircle.png"},{x:150,y:410,texture:"general",frame:"menuButtonDetailHidden.png"},{x:400,y:410,texture:"general",frame:"menuCircle.png"},{x:400,y:410,texture:"general",frame:"menuButtonDetailBuried.png"},{x:650,y:410,texture:"general",frame:"menuCircle.png"},{x:650,y:410,texture:"general",frame:"menuButtonDetailSunken.png"}],vo:{key:"audio",sprite:"Menu",delay:500,config:{}},buttons:[{x:150,y:510,graphic:{texture:"general",up:"button7up.png",over:"button7over.png",down:"button7over.png"},completionCheckmark:{x:150,y:460,texture:"general",frame:"check.png"},text:{label:"HIDDEN TREASURE",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#f0dac4",align:"center",wordWrap:{width:150}},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#573e22",align:"center",wordWrap:{width:150}},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#573e22",align:"center",wordWrap:{width:150}},xOffset:0,yOffset:0},hitArea:{type:"rect",x:0,y:-160,width:196,height:238}},{x:400,y:510,graphic:{texture:"general",up:"button7up.png",over:"button7over.png",down:"button7over.png"},completionCheckmark:{x:400,y:460,texture:"general",frame:"check.png"},text:{label:"BURIED TREASURE",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#f0dac4",align:"center",wordWrap:{width:150}},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#573e22",align:"center",wordWrap:{width:150}},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#573e22",align:"center",wordWrap:{width:150}},xOffset:0,yOffset:0},hitArea:{type:"rect",x:0,y:-160,width:196,height:238}},{x:650,y:510,graphic:{texture:"general",up:"button7up.png",over:"button7over.png",down:"button7over.png"},completionCheckmark:{x:650,y:460,texture:"general",frame:"check.png"},text:{label:"SUNKEN TREASURE",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#f0dac4",align:"center",wordWrap:{width:150}},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#573e22",align:"center",wordWrap:{width:150}},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#573e22",align:"center",wordWrap:{width:150}},xOffset:0,yOffset:0},hitArea:{type:"rect",x:0,y:-160,width:196,height:238}}],instructionText:{text:"Choose a treasure map.",x:400,y:265,origin:{x:.5,y:0},style:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:28,color:"#067dc2",align:"center",wordWrap:{width:420}}}},maps:[{id:"hidden",spritesheet:{key:"hidden",textureURL:"images/hidden.png",atlasURL:"images/hidden.json"},backgroundImages:[{x:400,y:300,texture:"hidden",frame:"mapHidden.png"}],startPosition:{x:32,y:540},gamePiece:{x:0,y:0,texture:"general",frame:"gamePiece.png"},menuButton:{x:383,y:30,graphic:{texture:"general",up:"button2up.png",over:"button2over.png",down:"button2over.png"},text:{label:"MENU",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},instructionsButton:{x:524,y:30,graphic:{texture:"general",up:"button3up.png",over:"button3over.png",down:"button3over.png"},text:{label:"INSTRUCTIONS",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},markerButtonImages:{texture:"general",up:"locationDot.png",over:"locationDotOver.png",down:"locationDotOver.png"},travelSfx:{key:"sfx",sprite:"travel",delay:0,config:{}},locations:[{unusedImage:{x:340,y:450,scale:.52,texture:"hidden",frame:"keyUnused.png"},usedImage:{x:340,y:450,scale:.52,texture:"hidden",frame:"keyUsed.png"},markerPosition:{x:289,y:470},actionId:"keychain"},{unusedImage:{x:330,y:292,scale:.41,texture:"hidden",frame:"toolboxUnused.png"},usedImage:{x:330,y:302,scale:.41,texture:"hidden",frame:"toolboxUsed.png"},markerPosition:{x:359,y:331},actionId:"toolbox"},{unusedImage:{x:646,y:428,scale:.49,texture:"hidden",frame:"radioUnused.png"},usedImage:{x:625,y:428,scale:.49,texture:"hidden",frame:"radioUsed.png"},markerPosition:{x:636,y:483},actionId:"radio"},{unusedImage:{x:502,y:188,scale:.52,texture:"hidden",frame:"flashlightUnused.png"},usedImage:{x:493,y:196,scale:.52,texture:"hidden",frame:"flashlightUsed.png"},markerPosition:{x:539,y:211},actionId:"flashlight"},{unusedImage:{x:200,y:170,scale:.72,texture:"hidden",frame:"cave.png"},markerPosition:{x:197,y:210},actionId:"cave"},{unusedImage:{x:496,y:333,texture:"general",frame:"help.png"},markerPosition:{x:501,y:376},isHelp:!0}],introMessageId:"mapIntroHidden",genericMessageId:"mapGenericDirection",treasureClass:"HiddenTreasure",segments:{"-1,0":{duration:2e3,curvePoints:[{x:164,y:523}]},"0,1":{duration:3e3,curvePoints:[{x:343,y:504},{x:397,y:511},{x:453,y:501},{x:473,y:471},{x:448,y:438},{x:389,y:413},{x:340,y:369}]},"0,4":{duration:3e3,curvePoints:[{x:248,y:467},{x:221,y:451},{x:231,y:399},{x:211,y:376},{x:173,y:357},{x:140,y:328},{x:162,y:266}]},"0,5":{duration:2500,curvePoints:[{x:343,y:504},{x:397,y:511},{x:453,y:501},{x:473,y:471},{x:460,y:423},{x:472,y:391}]},"1,3":{duration:2500,curvePoints:[{x:417,y:312},{x:441,y:272},{x:465,y:239},{x:501,y:232}]},"1,4":{duration:2500,curvePoints:[{x:267,y:356},{x:173,y:357},{x:140,y:328},{x:155,y:278}]},"1,5":{duration:1500,curvePoints:[{x:433,y:344}]},"2,3":{duration:3500,curvePoints:[{x:704,y:477},{x:727,y:417},{x:705,y:361},{x:660,y:337},{x:617,y:310},{x:616,y:275},{x:585,y:231}]},"2,5":{duration:1500,curvePoints:[{x:578,y:467},{x:531,y:426}]},"3,4":{duration:2500,curvePoints:[{x:501,y:232},{x:465,y:239},{x:412,y:233},{x:348,y:232},{x:273,y:247},{x:226,y:234}]},"3,5":{duration:2e3,curvePoints:[{x:575,y:221},{x:606,y:265},{x:608,y:341},{x:561,y:370}]}},sequences:{"-1,0":["-1,0"],"-1,1":["-1,0","0,1"],"-1,2":["-1,0","0,5","5,2"],"-1,3":["-1,0","0,5","5,3"],"-1,4":["-1,0","0,4"],"-1,5":["-1,0","0,5"],"0,1":["0,1"],"0,2":["0,5","5,2"],"0,3":["0,5","5,3"],"0,4":["0,4"],"0,5":["0,5"],"1,2":["1,5","5,2"],"1,3":["1,3"],"1,4":["1,4"],"1,5":["1,5"],"2,3":["2,3"],"2,4":["2,3","3,4"],"2,5":["2,5"],"3,4":["3,4"],"3,5":["3,5"],"4,5":["4,1","1,5"]}},{id:"buried",spritesheet:{key:"buried",textureURL:"images/buried.png",atlasURL:"images/buried.json"},backgroundImages:[{x:400,y:300,texture:"buried",frame:"mapBuried.png"}],startPosition:{x:33,y:185},gamePiece:{x:0,y:0,texture:"general",frame:"gamePiece.png"},menuButton:{x:383,y:30,graphic:{texture:"general",up:"button2up.png",over:"button2over.png",down:"button2over.png"},text:{label:"MENU",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},instructionsButton:{x:524,y:30,graphic:{texture:"general",up:"button3up.png",over:"button3over.png",down:"button3over.png"},text:{label:"INSTRUCTIONS",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},markerButtonImages:{texture:"general",up:"locationDot.png",over:"locationDotOver.png",down:"locationDotOver.png"},travelSfx:{key:"sfx",sprite:"travel",delay:0,config:{}},locations:[{unusedImage:{x:305,y:187,scale:.47,texture:"buried",frame:"bucketUnused.png"},usedImage:{x:315,y:187,scale:.47,texture:"buried",frame:"bucketUsed.png"},markerPosition:{x:332,y:254},actionId:"bucket"},{unusedImage:{x:227,y:362,scale:.58,texture:"buried",frame:"fountainUnused.png"},usedImage:{x:227,y:378,scale:.58,texture:"buried",frame:"fountainUsed.png"},markerPosition:{x:265,y:424},actionId:"fountain"},{unusedImage:{x:669,y:439,scale:.52,texture:"buried",frame:"plantUnused.png"},usedImage:{x:676,y:410,scale:.54,texture:"buried",frame:"plantUsed.png"},markerPosition:{x:636,y:467},actionId:"plant"},{unusedImage:{x:597,y:259,scale:.53,texture:"buried",frame:"farmerUnused.png"},usedImage:{x:595,y:249,scale:.53,texture:"buried",frame:"farmerUsed.png"},markerPosition:{x:557,y:317},actionId:"farmer"},{unusedImage:{x:469,y:144,scale:.66,texture:"buried",frame:"mound.png"},markerPosition:{x:481,y:185},actionId:"mound"},{unusedImage:{x:427,y:320,texture:"general",frame:"help.png"},markerPosition:{x:433,y:361},isHelp:!0}],introMessageId:"mapIntroBuried",genericMessageId:"mapGenericDirection",treasureClass:"BuriedTreasure",segments:{"-1,0":{duration:2500,curvePoints:[{x:114,y:195},{x:171,y:206},{x:197,y:235},{x:237,y:265},{x:287,y:268}]},"0,1":{duration:2e3,curvePoints:[{x:326,y:323},{x:309,y:375}]},"0,4":{duration:2e3,curvePoints:[{x:377,y:245},{x:444,y:232}]},"0,5":{duration:2e3,curvePoints:[{x:355,y:315},{x:389,y:349}]},"1,2":{duration:3e3,curvePoints:[{x:313,y:448},{x:404,y:470},{x:524,y:476}]},"1,5":{duration:2e3,curvePoints:[{x:313,y:448},{x:394,y:424}]},"2,3":{duration:2e3,curvePoints:[{x:608,y:425},{x:578,y:376}]},"2,5":{duration:2e3,curvePoints:[{x:608,y:425},{x:557,y:394},{x:495,y:374}]},"3,4":{duration:2e3,curvePoints:[{x:518,y:281},{x:495,y:237}]},"3,5":{duration:1500,curvePoints:[{x:508,y:344}]}},sequences:{"-1,0":["-1,0"],"-1,1":["-1,0","0,1"],"-1,2":["-1,0","0,5","5,2"],"-1,3":["-1,0","0,5","5,3"],"-1,4":["-1,0","0,4"],"-1,5":["-1,0","0,5"],"0,1":["0,1"],"0,2":["0,5","5,2"],"0,3":["0,5","5,3"],"0,4":["0,4"],"0,5":["0,5"],"1,2":["1,2"],"1,3":["1,5","5,3"],"1,4":["1,0","0,4"],"1,5":["1,5"],"2,3":["2,3"],"2,4":["2,3","3,4"],"2,5":["2,5"],"3,4":["3,4"],"3,5":["3,5"],"4,5":["4,3","3,5"]}},{id:"sunken",spritesheet:{key:"sunken",textureURL:"images/sunken.png",atlasURL:"images/sunken.json"},backgroundImages:[{x:400,y:300,texture:"sunken",frame:"mapSunken.png"}],startPosition:{x:32,y:333},gamePiece:{x:0,y:0,texture:"general",frame:"gamePiece.png"},menuButton:{x:383,y:30,graphic:{texture:"general",up:"button2up.png",over:"button2over.png",down:"button2over.png"},text:{label:"MENU",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},instructionsButton:{x:524,y:30,graphic:{texture:"general",up:"button3up.png",over:"button3over.png",down:"button3over.png"},text:{label:"INSTRUCTIONS",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},markerButtonImages:{texture:"general",up:"locationDot.png",over:"locationDotOver.png",down:"locationDotOver.png"},travelSfx:{key:"sfx",sprite:"travel",delay:0,config:{}},locations:[{unusedImage:{x:205,y:233,scale:.55,texture:"sunken",frame:"gardenUnused.png"},usedImage:{x:205,y:233,scale:.55,texture:"sunken",frame:"gardenUsed.png"},markerPosition:{x:218,y:296},actionId:"garden"},{unusedImage:{x:595,y:424,scale:.62,texture:"sunken",frame:"horseUnused.png"},usedImage:{x:592,y:424,scale:.62,texture:"sunken",frame:"horseUsed.png"},markerPosition:{x:521,y:472},actionId:"horse"},{unusedImage:{x:289,y:412,scale:.54,texture:"sunken",frame:"cowboyUnused.png"},usedImage:{x:325,y:412,scale:.53,texture:"sunken",frame:"cowboyUsed.png"},markerPosition:{x:275,y:477},actionId:"cowboy"},{unusedImage:{x:647,y:237,scale:.5,texture:"sunken",frame:"scubaUnused.png"},usedImage:{x:647,y:237,scale:.5,texture:"sunken",frame:"scubaUsed.png"},markerPosition:{x:639,y:298},actionId:"scuba"},{unusedImage:{x:405,y:147,scale:.65,texture:"sunken",frame:"lake.png"},markerPosition:{x:435,y:199},actionId:"lake"},{unusedImage:{x:429,y:299,texture:"general",frame:"help.png"},markerPosition:{x:433,y:338},isHelp:!0}],introMessageId:"mapIntroSunken",genericMessageId:"mapGenericDirection",treasureClass:"SunkenTreasure",segments:{"-1,0":{duration:2e3,curvePoints:[{x:111,y:345},{x:175,y:336}]},"0,2":{duration:2e3,curvePoints:[{x:212,y:372},{x:230,y:430}]},"0,4":{duration:3e3,curvePoints:[{x:277,y:310},{x:330,y:292},{x:328,y:244},{x:348,y:205},{x:393,y:199}]},"0,5":{duration:2e3,curvePoints:[{x:325,y:329}]},"1,2":{duration:2e3,curvePoints:[{x:438,y:493},{x:349,y:498}]},"1,3":{duration:2e3,curvePoints:[{x:491,y:426},{x:510,y:378},{x:545,y:344},{x:588,y:315}]},"1,5":{duration:2e3,curvePoints:[{x:491,y:426},{x:485,y:364}]},"2,5":{duration:2e3,curvePoints:[{x:375,y:480},{x:426,y:419}]},"3,4":{duration:3e3,curvePoints:[{x:578,y:289},{x:536,y:277},{x:553,y:237},{x:526,y:207},{x:483,y:201}]},"3,5":{duration:2e3,curvePoints:[{x:540,y:327}]}},sequences:{"-1,0":["-1,0"],"-1,1":["-1,0","0,2","2,1"],"-1,2":["-1,0","0,2"],"-1,3":["-1,0","0,5","5,3"],"-1,4":["-1,0","0,4"],"-1,5":["-1,0","0,5"],"0,1":["0,2","2,1"],"0,2":["0,2"],"0,3":["0,5","5,3"],"0,4":["0,4"],"0,5":["0,5"],"1,2":["1,2"],"1,3":["1,3"],"1,4":["1,3","3,4"],"1,5":["1,5"],"2,3":["2,5","5,3"],"2,4":["2,0","0,4"],"2,5":["2,5"],"3,4":["3,4"],"3,5":["3,5"],"4,5":["4,3","3,5"]}}],supplies:{background:{x:701,y:94,texture:"general",frame:"suppliesBox.png"},items:{key:{staticImage:{x:701,y:110,texture:"hidden",frame:"key.png"},draggable:{x:701,y:110,up:{texture:"hidden",frame:"keyUp.png"},drag:{texture:"hidden",frame:"keyOver.png"}}},screwdriver:{staticImage:{x:701,y:110,texture:"hidden",frame:"screwdriver.png"},draggable:{x:701,y:110,up:{texture:"hidden",frame:"screwdriverUp.png"},drag:{texture:"hidden",frame:"screwdriverOver.png"}}},batteries:{staticImage:{x:701,y:110,texture:"hidden",frame:"batteries.png"},draggable:{x:701,y:110,up:{texture:"hidden",frame:"batteriesUp.png"},drag:{texture:"hidden",frame:"batteriesOver.png"}}},litFlashlight:{staticImage:{x:701,y:110,texture:"hidden",frame:"flashlight.png"},draggable:{x:701,y:110,up:{texture:"hidden",frame:"flashlightUp.png"},drag:{texture:"hidden",frame:"flashlightOver.png"}}},bucket:{staticImage:{x:701,y:110,texture:"buried",frame:"bucket.png"},draggable:{x:701,y:110,up:{texture:"buried",frame:"bucketUp.png"},drag:{texture:"buried",frame:"bucketOver.png"}}},water:{staticImage:{x:701,y:110,texture:"buried",frame:"bucketFull.png"},draggable:{x:701,y:110,up:{texture:"buried",frame:"bucketFullUp.png"},drag:{texture:"buried",frame:"bucketFullOver.png"}}},seeds:{staticImage:{x:701,y:110,texture:"buried",frame:"seeds.png"},draggable:{x:701,y:110,up:{texture:"buried",frame:"seedsUp.png"},drag:{texture:"buried",frame:"seedsOver.png"}}},shovel:{staticImage:{x:701,y:110,texture:"buried",frame:"shovel.png"},draggable:{x:701,y:110,up:{texture:"buried",frame:"shovelUp.png"},drag:{texture:"buried",frame:"shovelOver.png"}}},carrot:{staticImage:{x:701,y:110,texture:"sunken",frame:"carrot.png"},draggable:{x:701,y:110,up:{texture:"sunken",frame:"carrotUp.png"},drag:{texture:"sunken",frame:"carrotOver.png"}}},horse:{staticImage:{x:701,y:110,texture:"sunken",frame:"horse.png"},draggable:{x:701,y:110,up:{texture:"sunken",frame:"horseUp.png"},drag:{texture:"sunken",frame:"horseOver.png"}}},money:{staticImage:{x:701,y:110,texture:"sunken",frame:"money.png"},draggable:{x:701,y:110,up:{texture:"sunken",frame:"moneyUp.png"},drag:{texture:"sunken",frame:"moneyOver.png"}}},scuba:{staticImage:{x:701,y:110,texture:"sunken",frame:"scuba.png"},draggable:{x:701,y:110,up:{texture:"sunken",frame:"scubaUp.png"},drag:{texture:"sunken",frame:"scubaOver.png"}}}}},instructions:{hidden:["instructions1","instructions2","instructions3","instructions4","instructions5","hiddenInstructions6"],buried:["instructions1","instructions2","instructions3","instructions4","instructions5","buriedInstructions6"],sunken:["instructions1","instructions2","instructions3","instructions4","instructions5","sunkenInstructions6"]},notifications:{background:{x:511,y:572,texture:"general",frame:"notificationBox.png"},openPosition:{x:511,y:572},closedPosition:{x:1111,y:572},openDuration:750,closeDuration:500,message:{text:"",x:490,y:560,style:{fontFamily:"Lato, Arial, Helvetica, sans",fontSize:16,color:"#f0dac4",fontStyle:"700",align:"center",wordWrap:{width:400}},origin:{x:.5,y:.5}},slideDistance:600,closeButton:{x:240,y:535,graphic:{texture:"general",up:"button4up.png",over:"button4over.png",down:"button4over.png"},text:{label:"X",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},nextButton:{x:752,y:578,graphic:{texture:"general",up:"button5up.png",over:"button5over.png",down:"button5over.png"},text:{label:"NEXT",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:16,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},messages:{mapGenericDirection:{text:"Choose where you would like to go next.",audio:{key:"audio",sprite:"Choose next location"}},mapIntroHidden:{text:"Try to find the hidden treasure. Click the keychain location to get started.",audio:{key:"audio",sprite:"Hidden intro"}},keyEarned:{text:"You picked up a key.",audio:{key:"audio",sprite:"Get key"}},screwdriverEarned:{text:"You used the key to unlock the toolbox. Now you have a screwdriver.",audio:{key:"audio",sprite:"Get screwdriver",delay:750}},batteriesEarned:{text:"You used the screwdriver to open the broken radio and get some batteries.",audio:{key:"audio",sprite:"Get batteries",delay:750}},litFlashlightEarned:{text:"You used the batteries to power the flashlight. Now you have a working flashlight.",audio:{key:"audio",sprite:"Get flashlight",delay:750}},"toolbox+keyPrompt":{text:"Drag the key to the toolbox.",audio:{key:"audio",sprite:"Key to toolbox"}},"radio+screwdriverPrompt":{text:"Drag the screwdriver to the broken radio.",audio:{key:"audio",sprite:"Screwdriver to radio"}},"flashlight+batteriesPrompt":{text:"Drag the batteries to the flashlight.",audio:{key:"audio",sprite:"Batteries to flashlight"}},"cave+litFlashlightPrompt":{text:"Drag the flashlight to the cave.",audio:{key:"audio",sprite:"Flashlight to cave"}},keychainUsed:{text:"You've already picked up the key. Try another location.",audio:{key:"audio",sprite:"Key repeat"}},toolboxUsed:{text:"You've already taken the screwdriver. Try another location.",audio:{key:"audio",sprite:"Toolbox repeat"}},radioUsed:{text:"You've already taken out the batteries. Try another location.",audio:{key:"audio",sprite:"Radio repeat"}},flashlightUsed:{text:"You've already taken the flashlight. Try another location.",audio:{key:"audio",sprite:"Flashlight repeat"}},toolboxIncorrect:{text:"The first item you need is the key. Try a different location.",audio:{key:"audio",sprite:"Empty supplies hidden"}},radioIncorrect:{text:"You need a screwdriver to open the broken radio. Try a different location.",audio:{key:"audio",sprite:"Radio wrong"}},flashlightIncorrect:{text:"You need batteries to use the flashlight. Try a different location.",audio:{key:"audio",sprite:"Flashlight wrong"}},caveIncorrect:{text:"You need a flashlight to see in the cave. Try a different location.",audio:{key:"audio",sprite:"Cave wrong"}},mapIntroBuried:{text:"Try to find the buried treasure. Click the bucket location to get started.",audio:{key:"audio",sprite:"Buried intro"}},bucketEarned:{text:"You picked up a bucket.",audio:{key:"audio",sprite:"Get up bucket"}},waterEarned:{text:"You filled the bucket with water.",audio:{key:"audio",sprite:"Get water",delay:750}},seedsEarned:{text:"You used the bucket to water the plant and make it grow. Now you have some seeds.",audio:{key:"audio",sprite:"Get seeds",delay:750}},shovelEarned:{text:"You traded the seeds to the farmer for his shovel.",audio:{key:"audio",sprite:"Get shovel",delay:750}},"fountain+bucketPrompt":{text:"Drag the bucket to the fountain.",audio:{key:"audio",sprite:"Bucket to fountain"}},"plant+waterPrompt":{text:"Drag the water bucket to the plant.",audio:{key:"audio",sprite:"Water Bucket to plant"}},"farmer+seedsPrompt":{text:"Drag the seeds to the farmer.",audio:{key:"audio",sprite:"Seeds to farmer"}},"mound+shovelPrompt":{text:"Drag the shovel to the mound of dirt.",audio:{key:"audio",sprite:"Shovel to dirt"}},bucketUsed:{text:"You've already picked up the bucket. Try another location.",audio:{key:"audio",sprite:"Bucket repeat"}},fountainUsed:{text:"You've already filled the bucket with water. Try another location.",audio:{key:"audio",sprite:"Fountain repeat"}},plantUsed:{text:"You've already taken seeds from the plant. Try another location.",audio:{key:"audio",sprite:"Plant repeat"}},farmerUsed:{text:"You've already taken the shovel from the farmer. Try another location.",audio:{key:"audio",sprite:"Farmer repeat"}},fountainIncorrect:{text:"You need a bucket to carry the water. Try a different location.",audio:{key:"audio",sprite:"Fountain wrong"}},plantIncorrect:{text:"You need water to make the plant grow. Try a different location.",audio:{key:"audio",sprite:"Plant wrong"}},farmerIncorrect:{text:"The farmer is looking for some seeds. Try a different location.",audio:{key:"audio",sprite:"Farmer wrong"}},moundIncorrect:{text:"You need a shovel to dig a hole here. Try a different location.",audio:{key:"audio",sprite:"Dirt wrong"}},mapIntroSunken:{text:"Try to find the sunken treasure. Click the garden location to get started.",audio:{key:"audio",sprite:"Sunken intro"}},carrotEarned:{text:"You picked a carrot from the garden.",audio:{key:"audio",sprite:"Get carrot"}},horseEarned:{text:"You used the carrot to get the horse out of the stable. Now you have a horse.",audio:{key:"audio",sprite:"Get horse",delay:750}},moneyEarned:{text:"You sold the horse to the cowboy. Now you have some money.",audio:{key:"audio",sprite:"Get money",delay:750}},scubaEarned:{text:"You bought some SCUBA gear from the SCUBA store with your money.",audio:{key:"audio",sprite:"Get SCUBA",delay:750}},"horse+carrotPrompt":{text:"Drag the carrot to the horse.",audio:{key:"audio",sprite:"Carrot to horse"}},"cowboy+horsePrompt":{text:"Drag the horse to the cowboy.",audio:{key:"audio",sprite:"Horse to cowboy"}},"scuba+moneyPrompt":{text:"Drag the money to the SCUBA store.",audio:{key:"audio",sprite:"Money to SCUBA"}},"lake+scubaPrompt":{text:"Drag the SCUBA gear to the lake.",audio:{key:"audio",sprite:"SCUBA to lake"}},gardenUsed:{text:"You've already taken the carrot. Try another location.",audio:{key:"audio",sprite:"Garden repeat"}},horseUsed:{text:"You've already taken the horse. Try another location.",audio:{key:"audio",sprite:"Horse repeat"}},cowboyUsed:{text:"You've already taken the cowboy's money. Try another location.",audio:{key:"audio",sprite:"Cowboy repeat"}},scubaUsed:{text:"You've already purchased the SCUBA gear. Try another location.",audio:{key:"audio",sprite:"SCUBA repeat"}},horseIncorrect:{text:"A carrot will get the horse out of the stable. Try a different location.",audio:{key:"audio",sprite:"Horse wrong"}},cowboyIncorrect:{text:"The cowboy is looking for a horse. Try a different location.",audio:{key:"audio",sprite:"Cowboy wrong"}},scubaIncorrect:{text:"You need money to buy something from the SCUBA store. Try a different location.",audio:{key:"audio",sprite:"SCUBA wrong"}},lakeIncorrect:{text:"You need SCUBA gear to go in the lake. Try a different location.",audio:{key:"audio",sprite:"Lake wrong"}},instructions1:{text:"Use the map to find the treasure.",audio:{key:"audio",sprite:"Instructions 1"},next:!0},instructions2:{text:"One of the locations contains the treasure. The rest of the locations contain items you'll need to find the treasure.",audio:{key:"audio",sprite:"Instructions 2"},next:!0},instructions3:{text:"At each location you'll be asked a question. If you get it right you'll have a chance to use the item you're currently holding to get a new item.",audio:{key:"audio",sprite:"Instructions 3"},next:!0},instructions4:{text:"The items must be picked up and used in a specific order to find the treasure.",audio:{key:"audio",sprite:"Instructions 4"},next:!0},instructions5:{text:"If you're not sure which location to go to next, you can go to the help location and answer a question. If you answer correctly you will be given a hint about where to go next.",audio:{key:"audio",sprite:"Instructions 5"},next:!0},hiddenInstructions6:{text:"The first item you need is the key. Click the keychain location to get started.",audio:{key:"audio",sprite:"Instructions 6 hidden"},next:!1},buriedInstructions6:{text:"The first item you need is the bucket. Click the bucket location to get started.",audio:{key:"audio",sprite:"Instructions 6 buried"},next:!1},sunkenInstructions6:{text:"The first item you need is in the garden. Click the garden location to get started.",audio:{key:"audio",sprite:"Instructions 6 sunken"},next:!1}}},question:{backgroundImages:[{x:414,y:315,texture:"general",frame:"blankMap.png"}],questionPosition:{x:100,y:100},questionStyle:{fontFamily:"Lato, Arial, Helvetica, sans",fontSize:"22px",fontStyle:"700",color:"#382d21",align:"left",wordWrap:{width:500},lineSpacing:0},optionTextPosition:{x:160,y:200},optionVerticalInterval:50,optionTextStyle:{fontFamily:"Lato, Arial, Helvetica, sans",fontSize:"20px",fontStyle:"700",color:"#573e22",align:"left"},optionTextSelectedStyle:{fontFamily:"Lato, Arial, Helvetica, sans",fontSize:"20px",fontStyle:"700",color:"#573e22",align:"left"},optionButtonLabels:["A","B","C","D"],optionButton:{x:129,y:212,graphic:{texture:"general",up:"button11up.png",over:"button11over.png",down:"button11over.png",selected:"button11over.png"},text:{label:"",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#573e22",align:"center"},selectedStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:24,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},remediationTextPosition:{x:400,y:410,origin:{x:.5,y:0}},remediationTextStyle:{fontFamily:"Lato, Arial, Helvetica, sans",fontSize:"24px",color:"#067dc2",align:"center",wordWrap:{width:620},lineSpacing:0},tryAgainButton:{x:317,y:513,graphic:{texture:"general",up:"button8up.png",over:"button8over.png",down:"button8over.png"},text:{label:"TRY ANOTHER QUESTION",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},mapButton:{x:526,y:513,graphic:{texture:"general",up:"button9up.png",over:"button9over.png",down:"button9over.png"},text:{label:"BACK TO MAP",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},continueButton:{x:400,y:513,graphic:{texture:"general",up:"button10up.png",over:"button10over.png",down:"button10over.png"},text:{label:"CONTINUE",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},correctSfx:{key:"sfx",sprite:"correct"},audioPath:"audio/questions/",bank:[{text:"Getting regular physical activity can help you have a healthy mind.",vo:["Question 1.ogg","Question 1.m4a"],options:[{text:"True",remediationIndex:0},{text:"False",remediationIndex:1}],correctIndex:0,remediation:[{text:"That's right! Being active helps you learn better and improves your mood.",vo:["Question 1a remediation.ogg","Question 1a remediation.m4a"]},{text:"Nope. Believe it or not, physical activity does help you have a healthy mind.",vo:["Question 1b remediation.ogg","Question 1b remediation.m4a"]}]},{text:"There are no right or wrong feelings.",vo:["Question 2.ogg","Question 2.m4a"],options:[{text:"True",remediationIndex:0},{text:"False",remediationIndex:1}],correctIndex:0,remediation:[{text:"That's right!",vo:["Question 2a remediation.ogg","Question 2a remediation.m4a"]},{text:"Sorry, but that's true.",vo:["Question 2b remediation.ogg","Question 2b remediation.m4a"]}]},{text:"Which of these is a healthy way to deal with anger?",vo:["Question 3.ogg","Question 3.m4a"],options:[{text:"Slam the door.",remediationIndex:0},{text:"Scream.",remediationIndex:0},{text:"Walk away.",remediationIndex:1},{text:"Hit a wall.",remediationIndex:0}],correctIndex:2,remediation:[{text:"Sorry, but walking away would be a healthier way to deal with anger.",vo:["Question 3abd remediation.ogg","Question 3abd remediation.m4a"]},{text:"That's right! It's ok to walk away so you can calm down.",vo:["Question 3c remediation.ogg","Question 3c remediation.m4a"]}]},{text:"If you're feeling worried, but you can't figure out why, what should you do?",vo:["Question 4.ogg","Question 4.m4a"],options:[{text:"Forget about it.",remediationIndex:0},{text:"Talk to an adult.",remediationIndex:1},{text:"Wait and see if you figure it out.",remediationIndex:0}],correctIndex:1,remediation:[{text:"Sorry, but you should really talk to an adult.",vo:["Question 4ac remediation.ogg","Question 4ac remediation.m4a"]},{text:"Yes! Talking to an adult is a great idea. Adults can often help us figure things out.",vo:["Question 4b remediation.ogg","Question 4b remediation.m4a"]}]},{text:"What is it called when you're worried, but there isn't really anything to worry about, or when you worry all the time and it affects your daily life?",vo:["Question 5.ogg","Question 5.m4a"],options:[{text:"Anger",remediationIndex:0},{text:"Depression",remediationIndex:0},{text:"Anxiety",remediationIndex:1},{text:"Empathy",remediationIndex:0}],correctIndex:2,remediation:[{text:"Not quite. It's actually called anxiety.",vo:["Question 5abd remediation.ogg","Question 5abd remediation.m4a"]},{text:"You're right. It's called anxiety.",vo:["Question 5c remediation.ogg","Question 5c remediation.m4a"]}]},{text:"What are two things that can help you figure out how someone is feeling?",vo:["Question 6.ogg","Question 6.m4a"],options:[{text:"Their body language and eye color",remediationIndex:0},{text:"Their facial expressions and body language",remediationIndex:1},{text:"Their clothing and hair color",remediationIndex:0}],correctIndex:1,remediation:[{text:"Nope. Facial expressions and body language can help you figure out how someone is feeling.",vo:["Question 6ac remediation.ogg","Question 6ac remediation.m4a"]},{text:"That's right. Both facial expressions and body language can help you figure out how someone is feeling.",vo:["Question 6b remediation.ogg","Question 6b remediation.m4a"]}]},{text:"What is empathy?",vo:["Question 7.ogg","Question 7.m4a"],options:[{text:"Helping and supporting someone",remediationIndex:0},{text:"Being nice to someone",remediationIndex:0},{text:"Understanding how someone is feeling",remediationIndex:1}],correctIndex:2,remediation:[{text:"Not quite. Empathy is understanding how someone is feeling.",vo:["Question 7ab remediation.ogg","Question 7ab remediation.m4a"]},{text:"That's correct!",vo:["Question 7c remediation.ogg","Question 7c remediation.m4a"]}]},{text:"What is compassion?",vo:["Question 8.ogg","Question 8.m4a"],options:[{text:"Helping and supporting someone",remediationIndex:0},{text:"Understanding how someone else is feeling",remediationIndex:1},{text:"Sharing your feelings with someone",remediationIndex:1}],correctIndex:0,remediation:[{text:"That's right!",vo:["Question 8a remediation.ogg","Question 8a remediation.m4a"]},{text:"Not quite. Compassion is helping and supporting someone.",vo:["Question 8bc remediation.ogg","Question 8bc remediation.m4a"]}]},{text:"Stress is the body's way of preparing to deal with a tough situation to the best of our abilities.",vo:["Question 9.ogg","Question 9.m4a"],options:[{text:"True",remediationIndex:0},{text:"False",remediationIndex:1}],correctIndex:0,remediation:[{text:"That's right!",vo:["Question 9a remediation.ogg","Question 9a remediation.m4a"]},{text:"Nope. That's actually true.",vo:["Question 9b remediation.ogg","Question 9b remediation.m4a"]}]},{text:"All stress is bad for your body.",vo:["Question 10.ogg","Question 10.m4a"],options:[{text:"True",remediationIndex:0},{text:"False",remediationIndex:1}],correctIndex:1,remediation:[{text:"That's actually false. Some stress can be good for you.",vo:["Question 10a remediation.ogg","Question 10a remediation.m4a"]},{text:"You're right! Some stress can be good for you.",vo:["Question 10b remediation.ogg","Question 10b remediation.m4a"]}]},{text:"Which of these is a positive way to deal with stress?",vo:["Question 11.ogg","Question 11.m4a"],options:[{text:"Sleep less.",remediationIndex:0},{text:"Avoid friends and family.",remediationIndex:0},{text:"Talk to an adult.",remediationIndex:1},{text:"Eat less.",remediationIndex:0}],correctIndex:2,remediation:[{text:"Nope. Talking to an adult would be a positive way to deal with stress.",vo:["Question 11abd remediation.ogg","Question 11abd remediation.m4a"]},{text:"Great answer! Talking to an adult is a great way to deal with stress.",vo:["Question 11c remediation.ogg","Question 11c remediation.m4a"]}]},{text:"What does mindfulness mean?",vo:["Question 12.ogg","Question 12.m4a"],options:[{text:"Slowing down and paying full attention to what you're doing",remediationIndex:0},{text:"Paying attention to the feelings of others",remediationIndex:1},{text:"Participating in lots of different activities each day",remediationIndex:1}],correctIndex:0,remediation:[{text:"Exactly! This will help you be fully present in the moment.",vo:["Question 12a remediation.ogg","Question 12a remediation.m4a"]},{text:"Sorry, but mindfulness means slowing down and paying full attention to what you're doing at the moment.",vo:["Question 12bc remediation.ogg","Question 12bc remediation.m4a"]}]},{text:"What is the opposite of rushing, or multitasking?",vo:["Question 13.ogg","Question 13.m4a"],options:[{text:"Empathy",remediationIndex:0},{text:"Compassion",remediationIndex:0},{text:"Mindfulness",remediationIndex:1},{text:"Stress",remediationIndex:0}],correctIndex:2,remediation:[{text:"Nope. The opposite of rushing, or multitasking, is mindfulness.",vo:["Question 13abd remediation.ogg","Question 13abd remediation.m4a"]},{text:"Correct! Mindfulness is the opposite of rushing, or multitasking.",vo:["Question 13c remediation.ogg","Question 13c remediation.m4a"]}]},{text:"Being mindful can help you in just about every part of your life.",vo:["Question 14.ogg","Question 14.m4a"],options:[{text:"True",remediationIndex:0},{text:"False",remediationIndex:1}],correctIndex:0,remediation:[{text:"You are correct!",vo:["Question 14a remediation.ogg","Question 14a remediation.m4a"]},{text:"That's incorrect. Mindfulness can really help you in just about every part of your life.",vo:["Question 14b remediation.ogg","Question 14b remediation.m4a"]}]},{text:"What is mindful eating?",vo:["Question 15.ogg","Question 15.m4a"],options:[{text:"Reading Nutrition Facts labels",remediationIndex:0},{text:"Eating lunch quickly so you're not late to class",remediationIndex:0},{text:"Paying attention to the food you're eating",remediationIndex:1}],correctIndex:2,remediation:[{text:"That's incorrect. Mindful eating means paying attention to how your food feels, smells and tastes.",vo:["Question 15ab remediation.ogg","Question 15ab remediation.m4a"]},{text:"That's right! Mindful eating means paying attention to how your food feels, smells and tastes.",vo:["Question 15c remediation.ogg","Question 15c remediation.m4a"]}]},{text:"You don't need to practice mindfulness to get good at it.",vo:["Question 16.ogg","Question 16.m4a"],options:[{text:"True",remediationIndex:0},{text:"False",remediationIndex:1}],correctIndex:1,remediation:[{text:"Actually, you do need to practice. Practicing mindfulness makes it feel more natural.",vo:["Question 16a remediation.ogg","Question 16a remediation.m4a"]},{text:"You're right! Practicing mindfulness makes it feel more natural.",vo:["Question 16b remediation.ogg","Question 16b remediation.m4a"]}]},{text:"Which of the following is an example of mindfulness?",vo:["Question 17.ogg","Question 17.m4a"],options:[{text:"Using a mindfulness jar",remediationIndex:0},{text:"Practicing yoga",remediationIndex:0},{text:"Deep breathing exercises",remediationIndex:0},{text:"All of the above",remediationIndex:1}],correctIndex:3,remediation:[{text:"Not quite. These are all examples of mindfulness.",vo:["Question 17abc remediation.ogg","Question 17abc remediation.m4a"]},{text:"That's right!",vo:["Question 17d remediation.ogg","Question 17d remediation.m4a"]}]},{text:"What are two things goals should be?",vo:["Question 18.ogg","Question 18.m4a"],options:[{text:"Easy and quick",remediationIndex:0},{text:"Special and difficult",remediationIndex:0},{text:"Specific and realistic",remediationIndex:1}],correctIndex:2,remediation:[{text:"Not quite. Goals should be specific and realistic.",vo:["Question 18ab remediation.ogg","Question 18ab remediation.m4a"]},{text:"Correct!",vo:["Question 18c remediation.ogg","Question 18c remediation.m4a"]}]},{text:"I will get more sleep each night is a specific and realistic goal.",vo:["Question 19.ogg","Question 19.m4a"],options:[{text:"True",remediationIndex:0},{text:"False",remediationIndex:1}],correctIndex:1,remediation:[{text:"Not quite. It may be realistic, but it's not very specific.",vo:["Question 19a remediation.ogg","Question 19a remediation.m4a"]},{text:"You're right! It may be realistic, but it's not very specific.",vo:["Question 19b remediation.ogg","Question 19b remediation.m4a"]}]},{text:"What are three things that can help you reach a goal?",vo:["Question 20.ogg","Question 20.m4a"],options:[{text:"Write it down, don't tell anyone, and don't give up.",remediationIndex:0},{text:"Write it down, make a plan, and track your progress.",remediationIndex:1},{text:"Write it down, put it under your pillow, and dream about it.",remediationIndex:0}],correctIndex:1,remediation:[{text:"Not quite. You should write it down, make a plan, and then track your progress.",vo:["Question 20ac remediation.ogg","Question 20ac remediation.m4a"]},{text:"That's right!",vo:["Question 20b remediation.ogg","Question 20b remediation.m4a"]}]},{text:"What does having a healthy mind mean?",vo:["Question 21.ogg","Question 21.m4a"],options:[{text:"Having a healthy body",remediationIndex:0},{text:"Being mentally and emotionally healthy",remediationIndex:1},{text:"Not getting sick",remediationIndex:0}],correctIndex:1,remediation:[{text:"That's incorrect. Having a healthy mind means being mentally and emotionally healthy.",vo:["Question 21ac remediation.ogg","Question 21ac remediation.m4a"]},{text:"Correct!",vo:["Question 21b remediation.ogg","Question 21b remediation.m4a"]}]},{text:"Which of these is a way to be mentally healthy?",vo:["Question 22.ogg","Question 22.m4a"],options:[{text:"Spending time with friends",remediationIndex:0},{text:"Eating healthy",remediationIndex:0},{text:"Getting 10 hours of sleep at night",remediationIndex:0},{text:"All of the above",remediationIndex:1}],correctIndex:3,remediation:[{text:"Not quite. These are all great ways to be mentally healthy.",vo:["Question 22abc remediation.ogg","Question 22abc remediation.m4a"]},{text:"That's correct!",vo:["Question 22d remediation.ogg","Question 22d remediation.m4a"]}]},{text:"Stress only affects adults.",vo:["Question 23.ogg","Question 23.m4a"],options:[{text:"True",remediationIndex:0},{text:"False",remediationIndex:1}],correctIndex:1,remediation:[{text:"Nope. Stress can definitely affect kids too.",vo:["Question 23a remediation.ogg","Question 23a remediation.m4a"]},{text:"You're right. Stress can definitely affect kids too.",vo:["Question 23b remediation.ogg","Question 23b remediation.m4a"]}]},{text:"If you're struggling to reach a goal, what should you do?",vo:["Question 24.ogg","Question 24.m4a"],options:[{text:"Ask a trusted adult for help.",remediationIndex:0},{text:"Give up.",remediationIndex:1},{text:"Stop tracking your progress.",remediationIndex:1}],correctIndex:0,remediation:[{text:"Correct! If you need help, don't be afraid to ask!",vo:["Question 24a remediation.ogg","Question 24a remediation.m4a"]},{text:"That's incorrect. A better idea would be to ask a trusted adult for help.",vo:["Question 24bc remediation.ogg","Question 24bc remediation.m4a"]}]}]},help:{backgroundImages:[{x:414,y:315,texture:"general",frame:"blankMap.png"},{x:400,y:184,texture:"general",frame:"helpHeader.png"}],helpMessageText:{text:"",x:400,y:280,origin:{x:.5,y:0},style:{fontFamily:"Lato, Arial, Helvetica, sans",fontSize:"24px",fontStyle:"700",color:"#067dc2",align:"center",wordWrap:{width:550},lineSpacing:0}},messages:{empty0Help:{text:"Click the keychain location to get started.",audio:{key:"audio",delay:500,sprite:"Empty help hidden"}},keyHelp:{text:"The key will open the toolbox. You should go there next.",audio:{key:"audio",delay:500,sprite:"Help key"}},screwdriverHelp:{text:"The screwdriver will open the broken radio. You should go there next.",audio:{key:"audio",delay:500,sprite:"Help screwdriver"}},batteriesHelp:{text:"The batteries will power the flashlight. You should go there next.",audio:{key:"audio",delay:500,sprite:"Help batteries"}},litFlashlightHelp:{text:"The flashlight will let you see inside the cave. You should go there next.",audio:{key:"audio",delay:500,sprite:"Help flashlight"}},empty1Help:{text:"Click the bucket location to get started.",audio:{key:"audio",delay:500,sprite:"Empty help buried"}},bucketHelp:{text:"You need to fill the bucket with water from the fountain. You should go there next.",audio:{key:"audio",delay:500,sprite:"Help bucket"}},waterHelp:{text:"You need to water the plant with the bucket of water. You should go there next.",audio:{key:"audio",delay:500,sprite:"Help water"}},seedsHelp:{text:"The farmer is looking for some seeds. You should go to him next.",audio:{key:"audio",delay:500,sprite:"Help seeds"}},shovelHelp:{text:"You can dig a hole with that shovel. You should go to the mound of dirt next.",audio:{key:"audio",delay:500,sprite:"Help shovel"}},empty2Help:{text:"Click the garden location to get started.",audio:{key:"audio",delay:500,sprite:"Empty help sunken"}},carrotHelp:{text:"A carrot will get the horse out of the stable. You should go there next.",audio:{key:"audio",delay:500,sprite:"Help carrot"}},horseHelp:{text:"The cowboy is looking for a horse. You should go to him next.",audio:{key:"audio",delay:500,sprite:"Help horse"}},moneyHelp:{text:"The money can be used at the SCUBA store. You should go there next.",audio:{key:"audio",delay:500,sprite:"Help money"}},scubaHelp:{text:"The SCUBA gear can be used at the lake. You should go there next.",audio:{key:"audio",delay:500,sprite:"Help SCUBA"}}},continueButton:{x:400,y:438,graphic:{texture:"general",up:"button10up.png",over:"button10over.png",down:"button10over.png"},text:{label:"CONTINUE",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},xOffset:0,yOffset:0}}},action:{backgroundImages:[{x:414,y:315,texture:"general",frame:"blankMap.png"}],continueButton:{x:400,y:480,graphic:{texture:"general",up:"button10up.png",over:"button10over.png",down:"button10over.png"},text:{label:"CONTINUE",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:18,color:"#573e22",align:"center"},xOffset:0,yOffset:0}},locationItems:{keychain:{unusedImage:{x:401,y:300,texture:"hidden",frame:"keyUnused.png"},usedImage:{x:401,y:300,texture:"hidden",frame:"keyUsed.png"},supplyItemMatchId:"auto",supplyItemEarnedId:"key",messageId:"keyEarned"},toolbox:{unusedImage:{x:371,y:301,texture:"hidden",frame:"toolboxUnused.png"},usedImage:{x:371,y:320,texture:"hidden",frame:"toolboxUsed.png"},supplyItemMatchId:"key",supplyItemEarnedId:"screwdriver",messageId:"screwdriverEarned"},radio:{unusedImage:{x:445,y:300,texture:"hidden",frame:"radioUnused.png"},usedImage:{x:402,y:300,texture:"hidden",frame:"radioUsed.png"},supplyItemMatchId:"screwdriver",supplyItemEarnedId:"batteries",messageId:"batteriesEarned"},flashlight:{unusedImage:{x:404,y:300,texture:"hidden",frame:"flashlightUnused.png"},usedImage:{x:387,y:314,texture:"hidden",frame:"flashlightUsed.png"},supplyItemMatchId:"batteries",supplyItemEarnedId:"litFlashlight",messageId:"litFlashlightEarned"},cave:{unusedImage:{x:400,y:300,texture:"hidden",frame:"cave.png"},usedImage:{x:400,y:300,texture:"hidden",frame:"cave.png"},supplyItemMatchId:"litFlashlight",supplyItemEarnedId:"treasure",messageId:null},bucket:{unusedImage:{x:400,y:300,texture:"buried",frame:"bucketUnused.png"},usedImage:{x:422,y:300,texture:"buried",frame:"bucketUsed.png"},supplyItemMatchId:"auto",supplyItemEarnedId:"bucket",messageId:"bucketEarned"},fountain:{unusedImage:{x:376,y:299,texture:"buried",frame:"fountainUnused.png"},usedImage:{x:376,y:326,texture:"buried",frame:"fountainUsed.png"},supplyItemMatchId:"bucket",supplyItemEarnedId:"water",messageId:"waterEarned"},plant:{unusedImage:{x:401,y:352,texture:"buried",frame:"plantUnused.png"},usedImage:{x:415,y:295,texture:"buried",frame:"plantUsed.png"},supplyItemMatchId:"water",supplyItemEarnedId:"seeds",messageId:"seedsEarned"},farmer:{unusedImage:{x:402,y:300,texture:"buried",frame:"farmerUnused.png"},usedImage:{x:397,y:281,texture:"buried",frame:"farmerUsed.png"},supplyItemMatchId:"seeds",supplyItemEarnedId:"shovel",messageId:"shovelEarned"},mound:{unusedImage:{x:400,y:301,texture:"buried",frame:"mound.png"},usedImage:{x:400,y:301,texture:"buried",frame:"mound.png"},supplyItemMatchId:"shovel",supplyItemEarnedId:"treasure",messageId:null},garden:{unusedImage:{x:400,y:300,texture:"sunken",frame:"gardenUnused.png"},usedImage:{x:400,y:300,texture:"sunken",frame:"gardenUsed.png"},supplyItemMatchId:"auto",supplyItemEarnedId:"carrot",messageId:"carrotEarned"},horse:{unusedImage:{x:401,y:301,texture:"sunken",frame:"horseUnused.png"},usedImage:{x:396,y:301,texture:"sunken",frame:"horseUsed.png"},supplyItemMatchId:"carrot",supplyItemEarnedId:"horse",messageId:"horseEarned"},cowboy:{unusedImage:{x:335,y:301,texture:"sunken",frame:"cowboyUnused.png"},usedImage:{x:401,y:301,texture:"sunken",frame:"cowboyUsed.png"},supplyItemMatchId:"horse",supplyItemEarnedId:"money",messageId:"moneyEarned"},scuba:{unusedImage:{x:400,y:301,texture:"sunken",frame:"scubaUnused.png"},usedImage:{x:400,y:301,texture:"sunken",frame:"scubaUsed.png"},supplyItemMatchId:"money",supplyItemEarnedId:"scuba",messageId:"scubaEarned"},lake:{unusedImage:{x:400,y:301,texture:"sunken",frame:"lake.png"},usedImage:{x:400,y:301,texture:"sunken",frame:"lake.png"},supplyItemMatchId:"scuba",supplyItemEarnedId:"treasure",messageId:null}},correctActionSfx:{key:"sfx",sprite:"supplyitem"}},treasure:{HiddenTreasure:{layers:[{x:351,y:459,texture:"hidden",frame:"floor.png",travel:90,duration:3e3,ease:"Sine.easeOut"},{x:360,y:207,texture:"hidden",frame:"hole.png",travel:80,duration:3e3,ease:"Sine.easeOut"},{x:280,y:356,texture:"hidden",frame:"treasure.png",travel:110,duration:3e3,ease:"Sine.easeOut"},{x:611,y:284,texture:"hidden",frame:"back.png",travel:-60,duration:3e3,ease:"Sine.easeOut"},{x:679,y:250,texture:"hidden",frame:"mid.png",travel:-270,duration:3e3,ease:"Sine.easeOut"},{x:373,y:315,texture:"hidden",frame:"overheadL.png",travel:-490,duration:3e3,ease:"Sine.easeOut"},{x:1245,y:102,texture:"hidden",frame:"overheadR.png",travel:-490,duration:3e3,ease:"Sine.easeOut"},{x:258,y:379,texture:"hidden",frame:"rocksL.png",travel:-355,duration:3e3,ease:"Sine.easeOut"},{x:1114,y:524,texture:"hidden",frame:"rocksR.png",travel:-355,duration:3e3,ease:"Sine.easeOut"}],screen:{layerIndex:3,x:0,y:0,width:800,height:600,color:0,fromAlpha:.8,toAlpha:0,duration:3e3,ease:"Sine.easeOut"},audio:{key:"audio",sprite:"Found hidden",delay:0},revealSfx:{key:"sfx",sprite:"treasure",delay:1e3}},BuriedTreasure:{backgroundImages:[{x:400,y:300,texture:"buried",frame:"treasureBackground.png"}],dirt:[{x:392,y:320,texture:"buried",frame:"dirt0.png",visibleDuration:4e3},{x:547,y:352,texture:"buried",frame:"dirt1.png",visibleDuration:3e3},{x:186,y:335,texture:"buried",frame:"dirt2.png",visibleDuration:2e3},{x:315,y:364,texture:"buried",frame:"dirt3.png",visibleDuration:1e3}],shovelSfx:{key:"sfx",sprite:"shovel"},revealSfx:{key:"sfx",sprite:"treasure",delay:500},audio:{key:"audio",sprite:"Found buried",delay:0}},SunkenTreasure:{backgroundRects:[{x:0,y:0,width:800,height:300,color:2393541},{x:0,y:300,width:800,height:300,color:2468833}],water:{x:400,y:330,texture:"sunken",frame:"water.png",toY:300,duration:2e3,delay:1e3,ease:"Sine.easeOut"},rays:{x:409,y:295,texture:"sunken",frame:"rays.png",fromAlpha:0,toAlpha:1,duration:2e3,delay:1500,ease:"Sine.easeIn"},fish:{x:410,y:260,texture:"sunken",frame:"fish.png",toY:100,duration:2e3,delay:1e3,ease:"Sine.easeOut"},treasure:{x:400,y:850,texture:"sunken",frame:"treasure.png",toY:361,duration:2e3,delay:1e3,ease:"Sine.easeOut"},revealSfx:{key:"sfx",sprite:"treasure",delay:1e3},audio:{key:"audio",sprite:"Found sunken",delay:0}},menuButton:{x:85,y:47,graphic:{texture:"general",up:"button6up.png",over:"button6over.png",down:"button6over.png"},text:{label:"MENU",upStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:22,color:"#f0dac4",align:"center"},overStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:22,color:"#573e22",align:"center"},downStyle:{fontFamily:"Bubblegum Sans, Arial, Helvetica, sans",fontSize:22,color:"#573e22",align:"center"},xOffset:0,yOffset:0}}}};